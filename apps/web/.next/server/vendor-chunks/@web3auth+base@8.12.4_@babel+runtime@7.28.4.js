"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@web3auth+base@8.12.4_@babel+runtime@7.28.4";
exports.ids = ["vendor-chunks/@web3auth+base@8.12.4_@babel+runtime@7.28.4"];
exports.modules = {

/***/ "(ssr)/../../node_modules/.pnpm/@web3auth+base@8.12.4_@babel+runtime@7.28.4/node_modules/@web3auth/base/dist/base.esm.js":
/*!*************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@web3auth+base@8.12.4_@babel+runtime@7.28.4/node_modules/@web3auth/base/dist/base.esm.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ADAPTER_CATEGORY: () => (/* binding */ ADAPTER_CATEGORY),\n/* harmony export */   ADAPTER_EVENTS: () => (/* binding */ ADAPTER_EVENTS),\n/* harmony export */   ADAPTER_NAMES: () => (/* binding */ ADAPTER_NAMES),\n/* harmony export */   ADAPTER_NAMESPACES: () => (/* binding */ ADAPTER_NAMESPACES),\n/* harmony export */   ADAPTER_STATUS: () => (/* binding */ ADAPTER_STATUS),\n/* harmony export */   BaseAdapter: () => (/* binding */ BaseAdapter),\n/* harmony export */   CHAIN_NAMESPACES: () => (/* binding */ CHAIN_NAMESPACES),\n/* harmony export */   EVM_ADAPTERS: () => (/* binding */ EVM_ADAPTERS),\n/* harmony export */   EVM_PLUGINS: () => (/* binding */ EVM_PLUGINS),\n/* harmony export */   MULTI_CHAIN_ADAPTERS: () => (/* binding */ MULTI_CHAIN_ADAPTERS),\n/* harmony export */   OPENLOGIN_NETWORK: () => (/* reexport safe */ _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__.OPENLOGIN_NETWORK),\n/* harmony export */   PLUGIN_EVENTS: () => (/* binding */ PLUGIN_EVENTS),\n/* harmony export */   PLUGIN_NAMESPACES: () => (/* binding */ PLUGIN_NAMESPACES),\n/* harmony export */   PLUGIN_STATUS: () => (/* binding */ PLUGIN_STATUS),\n/* harmony export */   PROVIDER_EVENTS: () => (/* binding */ PROVIDER_EVENTS),\n/* harmony export */   SOLANA_ADAPTERS: () => (/* binding */ SOLANA_ADAPTERS),\n/* harmony export */   SOLANA_PLUGINS: () => (/* binding */ SOLANA_PLUGINS),\n/* harmony export */   UX_MODE: () => (/* reexport safe */ _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__.UX_MODE),\n/* harmony export */   WALLET_ADAPTERS: () => (/* binding */ WALLET_ADAPTERS),\n/* harmony export */   WALLET_PLUGINS: () => (/* binding */ WALLET_PLUGINS),\n/* harmony export */   WEB3AUTH_NETWORK: () => (/* binding */ WEB3AUTH_NETWORK),\n/* harmony export */   WalletInitializationError: () => (/* binding */ WalletInitializationError),\n/* harmony export */   WalletLoginError: () => (/* binding */ WalletLoginError),\n/* harmony export */   WalletOperationsError: () => (/* binding */ WalletOperationsError),\n/* harmony export */   WalletProviderError: () => (/* binding */ WalletProviderError),\n/* harmony export */   WalletServicesPluginError: () => (/* binding */ WalletServicesPluginError),\n/* harmony export */   Web3AuthError: () => (/* binding */ Web3AuthError),\n/* harmony export */   checkIfTokenIsExpired: () => (/* binding */ checkIfTokenIsExpired),\n/* harmony export */   clearToken: () => (/* binding */ clearToken),\n/* harmony export */   fetchProjectConfig: () => (/* binding */ fetchProjectConfig),\n/* harmony export */   getChainConfig: () => (/* binding */ getChainConfig),\n/* harmony export */   getEvmChainConfig: () => (/* binding */ getEvmChainConfig),\n/* harmony export */   getSavedToken: () => (/* binding */ getSavedToken),\n/* harmony export */   getSolanaChainConfig: () => (/* binding */ getSolanaChainConfig),\n/* harmony export */   getXrplChainConfig: () => (/* binding */ getXrplChainConfig),\n/* harmony export */   isHexStrict: () => (/* binding */ isHexStrict),\n/* harmony export */   log: () => (/* binding */ loglevel),\n/* harmony export */   normalizeWalletName: () => (/* binding */ normalizeWalletName),\n/* harmony export */   saveToken: () => (/* binding */ saveToken),\n/* harmony export */   serializeError: () => (/* binding */ serializeError),\n/* harmony export */   signerHost: () => (/* binding */ signerHost),\n/* harmony export */   storageAvailable: () => (/* binding */ storageAvailable)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"(ssr)/../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @toruslabs/openlogin-jrpc */ \"(ssr)/../../node_modules/.pnpm/@toruslabs+openlogin-jrpc@8.3.0_@babel+runtime@7.28.4/node_modules/@toruslabs/openlogin-jrpc/dist/openloginJrpc.esm.js\");\n/* harmony import */ var _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @toruslabs/openlogin-utils */ \"(ssr)/../../node_modules/.pnpm/@toruslabs+openlogin-utils@8.2.1_@babel+runtime@7.28.4/node_modules/@toruslabs/openlogin-utils/dist/openloginUtils.esm.js\");\n/* harmony import */ var ts_custom_error__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ts-custom-error */ \"(ssr)/../../node_modules/.pnpm/ts-custom-error@3.3.1/node_modules/ts-custom-error/dist/custom-error.mjs\");\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jwt-decode */ \"(ssr)/../../node_modules/.pnpm/jwt-decode@4.0.0/node_modules/jwt-decode/build/esm/index.js\");\n/* harmony import */ var _toruslabs_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @toruslabs/constants */ \"(ssr)/../../node_modules/.pnpm/@toruslabs+constants@13.4.0_@babel+runtime@7.28.4/node_modules/@toruslabs/constants/dist/constants.esm.js\");\n/* harmony import */ var _toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @toruslabs/http-helpers */ \"(ssr)/../../node_modules/.pnpm/@toruslabs+http-helpers@6.1.1_@babel+runtime@7.28.4/node_modules/@toruslabs/http-helpers/dist/httpHelpers.esm.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! loglevel */ \"(ssr)/../../node_modules/.pnpm/loglevel@1.9.2/node_modules/loglevel/lib/loglevel.js\");\n/* harmony import */ var loglevel__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\n\n\n\n// @flow\n\nfunction serializeError(args) {\n  // Find first Error or create an \"unknown\" Error to keep stack trace.\n  const index = args.findIndex(arg => arg instanceof Error);\n  const msgIndex = args.findIndex(arg => typeof arg === \"string\");\n  const apiErrorIdx = args.findIndex(arg => arg && typeof arg === \"object\" && \"status\" in arg && \"type\" in arg);\n  let err;\n  if (apiErrorIdx !== -1) {\n    const apiError = args[apiErrorIdx];\n    err = new Error(`${apiError.status} ${apiError.type.toString()} ${apiError.statusText}`);\n  } else if (index !== -1) {\n    err = args.splice(index, 1)[0];\n  } else if (msgIndex !== -1) {\n    err = new Error(args.splice(msgIndex, 1)[0]);\n  } else {\n    err = new Error(\"Unknown error\");\n  }\n  return [err, args];\n}\nclass Web3AuthError extends ts_custom_error__WEBPACK_IMPORTED_MODULE_4__.CustomError {\n  constructor(code, message, cause) {\n    // takes care of stack and proto\n    super(message);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"code\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"message\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"cause\", void 0);\n    this.code = code;\n    this.message = message || \"\";\n    this.cause = cause;\n    // Set name explicitly as minification can mangle class names\n    Object.defineProperty(this, \"name\", {\n      value: \"Web3AuthError\"\n    });\n  }\n  toJSON() {\n    return {\n      name: this.name,\n      code: this.code,\n      message: this.message,\n      cause: serializeError([this.cause])\n    };\n  }\n  toString() {\n    return JSON.stringify(this.toJSON());\n  }\n}\nclass WalletInitializationError extends Web3AuthError {\n  constructor(code, message, cause) {\n    // takes care of stack and proto\n    super(code, message, cause);\n\n    // Set name explicitly as minification can mangle class names\n    Object.defineProperty(this, \"name\", {\n      value: \"WalletInitializationError\"\n    });\n  }\n  static fromCode(code, extraMessage = \"\", cause) {\n    return new WalletInitializationError(code, `${WalletInitializationError.messages[code]}, ${extraMessage}`, cause);\n  }\n\n  // Custom methods\n  static notFound(extraMessage = \"\", cause) {\n    return WalletInitializationError.fromCode(5001, extraMessage, cause);\n  }\n  static notInstalled(extraMessage = \"\", cause) {\n    return WalletInitializationError.fromCode(5002, extraMessage, cause);\n  }\n  static notReady(extraMessage = \"\", cause) {\n    return WalletInitializationError.fromCode(5003, extraMessage, cause);\n  }\n  static windowBlocked(extraMessage = \"\", cause) {\n    return WalletInitializationError.fromCode(5004, extraMessage, cause);\n  }\n  static windowClosed(extraMessage = \"\", cause) {\n    return WalletInitializationError.fromCode(5005, extraMessage, cause);\n  }\n  static incompatibleChainNameSpace(extraMessage = \"\", cause) {\n    return WalletInitializationError.fromCode(5006, extraMessage, cause);\n  }\n  static duplicateAdapterError(extraMessage = \"\", cause) {\n    return WalletInitializationError.fromCode(5007, extraMessage, cause);\n  }\n  static invalidProviderConfigError(extraMessage = \"\", cause) {\n    return WalletInitializationError.fromCode(5008, extraMessage, cause);\n  }\n  static providerNotReadyError(extraMessage = \"\", cause) {\n    return WalletInitializationError.fromCode(5009, extraMessage, cause);\n  }\n  static rpcConnectionError(extraMessage = \"\", cause) {\n    return WalletInitializationError.fromCode(5010, extraMessage, cause);\n  }\n  static invalidParams(extraMessage = \"\", cause) {\n    return WalletInitializationError.fromCode(5011, extraMessage, cause);\n  }\n  static invalidNetwork(extraMessage = \"\", cause) {\n    return WalletInitializationError.fromCode(5013, extraMessage, cause);\n  }\n}\n\n/**\n * wallet login errors\n */\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(WalletInitializationError, \"messages\", {\n  5000: \"Custom\",\n  5001: \"Wallet is not found\",\n  5002: \"Wallet is not installed\",\n  5003: \"Wallet is not ready yet\",\n  5004: \"Wallet window is blocked\",\n  5005: \"Wallet window has been closed by the user\",\n  5006: \"Incompatible chain namespace provided\",\n  5007: \"Adapter has already been included\",\n  5008: \"Invalid provider Config\",\n  5009: \"Provider is not ready yet\",\n  5010: \"Failed to connect with rpc url\",\n  5011: \"Invalid params passed in\",\n  5013: \"Invalid network provided\"\n});\nclass WalletLoginError extends Web3AuthError {\n  constructor(code, message, cause) {\n    // takes care of stack and proto\n    super(code, message, cause);\n\n    // Set name explicitly as minification can mangle class names\n    Object.defineProperty(this, \"name\", {\n      value: \"WalletLoginError\"\n    });\n  }\n  static fromCode(code, extraMessage = \"\", cause) {\n    return new WalletLoginError(code, `${WalletLoginError.messages[code]}. ${extraMessage}`, cause);\n  }\n  static connectionError(extraMessage = \"\", cause) {\n    return WalletLoginError.fromCode(5111, extraMessage, cause);\n  }\n  static disconnectionError(extraMessage = \"\", cause) {\n    return WalletLoginError.fromCode(5112, extraMessage, cause);\n  }\n  static notConnectedError(extraMessage = \"\", cause) {\n    return WalletLoginError.fromCode(5113, extraMessage, cause);\n  }\n  static popupClosed(extraMessage = \"\", cause) {\n    return WalletLoginError.fromCode(5114, extraMessage, cause);\n  }\n  static mfaEnabled(extraMessage = \"\", cause) {\n    return WalletLoginError.fromCode(5115, extraMessage, cause);\n  }\n  static chainConfigNotAdded(extraMessage = \"\", cause) {\n    return WalletLoginError.fromCode(5116, extraMessage, cause);\n  }\n  static unsupportedOperation(extraMessage = \"\", cause) {\n    return WalletLoginError.fromCode(5117, extraMessage, cause);\n  }\n  static coreKitKeyNotFound(extraMessage = \"\", cause) {\n    return WalletLoginError.fromCode(5118, extraMessage, cause);\n  }\n  static userNotLoggedIn(extraMessage = \"\", cause) {\n    return WalletLoginError.fromCode(5119, extraMessage, cause);\n  }\n}\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(WalletLoginError, \"messages\", {\n  5000: \"Custom\",\n  5111: \"Failed to connect with wallet\",\n  5112: \"Failed to disconnect from wallet\",\n  5113: \"Wallet is not connected\",\n  5114: \"Wallet popup has been closed by the user\",\n  5115: \"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa\",\n  5116: \"Chain config has not been added. Please add the chain config before calling switchChain\",\n  5117: \"Unsupported operation\",\n  5118: \"useCoreKitKey flag is enabled but coreKitKey is not available\",\n  5119: \"User not logged in.\"\n});\nclass WalletOperationsError extends Web3AuthError {\n  constructor(code, message, cause) {\n    // takes care of stack and proto\n    super(code, message, cause);\n\n    // Set name explicitly as minification can mangle class names\n    Object.defineProperty(this, \"name\", {\n      value: \"WalletOperationsError\"\n    });\n  }\n  static fromCode(code, extraMessage = \"\", cause) {\n    return new WalletOperationsError(code, `${WalletOperationsError.messages[code]}, ${extraMessage}`, cause);\n  }\n\n  // Custom methods\n  static chainIDNotAllowed(extraMessage = \"\", cause) {\n    return WalletOperationsError.fromCode(5201, extraMessage, cause);\n  }\n  static operationNotAllowed(extraMessage = \"\", cause) {\n    return WalletOperationsError.fromCode(5202, extraMessage, cause);\n  }\n  static chainNamespaceNotAllowed(extraMessage = \"\", cause) {\n    return WalletOperationsError.fromCode(5203, extraMessage, cause);\n  }\n}\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(WalletOperationsError, \"messages\", {\n  5000: \"Custom\",\n  5201: \"Provided chainId is not allowed\",\n  5202: \"This operation is not allowed\"\n});\nclass WalletProviderError extends Web3AuthError {\n  constructor(code, message, cause) {\n    // takes care of stack and proto\n    super(code, message, cause);\n\n    // Set name explicitly as minification can mangle class names\n    Object.defineProperty(this, \"name\", {\n      value: \"WalletProviderError\"\n    });\n  }\n  static fromCode(code, extraMessage = \"\", cause) {\n    return new WalletOperationsError(code, `${WalletProviderError.messages[code]}, ${extraMessage}`, cause);\n  }\n\n  // Custom methods\n  static invalidRequestArgs(extraMessage = \"\", cause) {\n    return WalletOperationsError.fromCode(5301, extraMessage, cause);\n  }\n  static invalidRequestMethod(extraMessage = \"\", cause) {\n    return WalletOperationsError.fromCode(5302, extraMessage, cause);\n  }\n  static invalidRequestParams(extraMessage = \"\", cause) {\n    return WalletOperationsError.fromCode(5303, extraMessage, cause);\n  }\n}\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(WalletProviderError, \"messages\", {\n  5000: \"Custom\",\n  5301: \"Expected a single, non-array, object argument.\",\n  5302: \"'args.method' must be a non-empty string.\",\n  5303: \"'args.params' must be an object or array if provided.\"\n});\n\nconst CHAIN_NAMESPACES = {\n  EIP155: \"eip155\",\n  SOLANA: \"solana\",\n  CASPER: \"casper\",\n  XRPL: \"xrpl\",\n  OTHER: \"other\"\n};\n// eip155 for all evm chains\n\nconst ADAPTER_NAMESPACES = {\n  EIP155: \"eip155\",\n  SOLANA: \"solana\",\n  CASPER: \"casper\",\n  XRPL: \"xrpl\",\n  MULTICHAIN: \"multichain\"\n};\n// eip155 for all evm chains\n\nconst getDefaultNetworkId = chainNamespace => {\n  if (chainNamespace === CHAIN_NAMESPACES.EIP155) {\n    return 1;\n  } else if (chainNamespace === CHAIN_NAMESPACES.SOLANA) {\n    return 1;\n  } else if (chainNamespace === CHAIN_NAMESPACES.XRPL) {\n    return 1;\n  }\n  throw WalletInitializationError.invalidParams(`Chain namespace ${chainNamespace} is not supported`);\n};\nconst getEvmChainConfig = chainId => {\n  const chainNamespace = CHAIN_NAMESPACES.EIP155;\n  if (chainId === 1) {\n    return {\n      logo: \"https://images.toruswallet.io/eth.svg\",\n      chainNamespace,\n      chainId: \"0x1\",\n      rpcTarget: `https://rpc.ankr.com/eth`,\n      displayName: \"Ethereum Mainnet\",\n      blockExplorerUrl: \"https://etherscan.io/\",\n      ticker: \"ETH\",\n      tickerName: \"Ethereum\",\n      decimals: 18\n    };\n  }\n  if (chainId === 5) {\n    return {\n      logo: \"https://images.toruswallet.io/eth.svg\",\n      chainNamespace,\n      chainId: \"0x5\",\n      rpcTarget: `https://rpc.ankr.com/eth_goerli`,\n      displayName: \"Goerli Testnet\",\n      blockExplorerUrl: \"https://goerli.etherscan.io/\",\n      ticker: \"ETH\",\n      tickerName: \"Ethereum\",\n      decimals: 18\n    };\n  }\n  if (chainId === 11155111) {\n    return {\n      logo: \"https://images.toruswallet.io/eth.svg\",\n      chainNamespace,\n      chainId: \"0xaa36a7\",\n      rpcTarget: `https://rpc.ankr.com/eth_sepolia`,\n      displayName: \"Sepolia Testnet\",\n      blockExplorerUrl: \"https://sepolia.etherscan.io/\",\n      ticker: \"ETH\",\n      tickerName: \"Ethereum\",\n      decimals: 18\n    };\n  }\n  if (chainId === 137) {\n    return {\n      logo: \"https://images.toruswallet.io/polygon.svg\",\n      chainNamespace,\n      chainId: \"0x89\",\n      rpcTarget: \"https://rpc.ankr.com/polygon\",\n      displayName: \"Polygon Mainnet\",\n      blockExplorerUrl: \"https://polygonscan.com\",\n      ticker: \"MATIC\",\n      tickerName: \"Polygon\"\n    };\n  }\n  if (chainId === 80002) {\n    return {\n      logo: \"https://images.toruswallet.io/polygon.svg\",\n      chainNamespace,\n      chainId: \"0x13882\",\n      rpcTarget: \"https://rpc.ankr.com/polygon_amoy\",\n      displayName: \"Polygon Amoy Testnet\",\n      blockExplorerUrl: \"https://www.oklink.com/amoy\",\n      ticker: \"MATIC\",\n      tickerName: \"Polygon\",\n      decimals: 18\n    };\n  }\n  if (chainId === 56) {\n    return {\n      logo: \"https://images.toruswallet.io/bnb.png\",\n      chainNamespace,\n      chainId: \"0x38\",\n      rpcTarget: \"https://rpc.ankr.com/bsc\",\n      displayName: \"Binance SmartChain Mainnet\",\n      blockExplorerUrl: \"https://bscscan.com\",\n      ticker: \"BNB\",\n      tickerName: \"Binance SmartChain\",\n      decimals: 18\n    };\n  }\n  if (chainId === 97) {\n    return {\n      logo: \"https://images.toruswallet.io/bnb.png\",\n      chainNamespace,\n      chainId: \"0x61\",\n      rpcTarget: \"https://rpc.ankr.com/bsc_testnet_chapel\",\n      displayName: \"Binance SmartChain Testnet\",\n      blockExplorerUrl: \"https://testnet.bscscan.com\",\n      ticker: \"BNB\",\n      tickerName: \"Binance SmartChain\",\n      decimals: 18\n    };\n  }\n  if (chainId === 25) {\n    return {\n      logo: \"https://images.toruswallet.io/cro.svg\",\n      chainNamespace,\n      chainId: \"0x19\",\n      rpcTarget: \"https://rpc.cronos.org\",\n      displayName: \"Cronos Mainnet\",\n      blockExplorerUrl: \"https://cronoscan.com/\",\n      ticker: \"CRO\",\n      tickerName: \"Cronos\"\n    };\n  }\n  if (chainId === 338) {\n    return {\n      logo: \"https://images.toruswallet.io/cro.svg\",\n      chainNamespace,\n      chainId: \"0x152\",\n      rpcTarget: \"https://rpc-t3.cronos.org/\",\n      displayName: \"Cronos Testnet\",\n      blockExplorerUrl: \"https://cronoscan.com/\",\n      ticker: \"CRO\",\n      tickerName: \"Cronos\",\n      decimals: 18\n    };\n  }\n  if (chainId === 8217) {\n    return {\n      logo: \"https://images.toruswallet.io/klay.svg\",\n      chainNamespace,\n      chainId: \"0x2019\",\n      rpcTarget: \"https://public-node-api.klaytnapi.com/v1/cypress\",\n      displayName: \"Klaytn Mainnet\",\n      blockExplorerUrl: \"https://scope.klaytn.com\",\n      ticker: \"KLAY\",\n      tickerName: \"Klaytn\",\n      decimals: 18\n    };\n  }\n  return null;\n};\nconst getSolanaChainConfig = chainId => {\n  const chainNamespace = CHAIN_NAMESPACES.SOLANA;\n  if (chainId === 1) {\n    return {\n      logo: \"https://images.toruswallet.io/sol.svg\",\n      chainNamespace,\n      chainId: \"0x1\",\n      rpcTarget: \"https://rpc.ankr.com/solana\",\n      displayName: \"Solana Mainnet\",\n      blockExplorerUrl: \"https://explorer.solana.com\",\n      ticker: \"SOL\",\n      tickerName: \"Solana\",\n      decimals: 9\n    };\n  } else if (chainId === 2) {\n    return {\n      logo: \"https://images.toruswallet.io/sol.svg\",\n      chainNamespace,\n      chainId: \"0x2\",\n      rpcTarget: \"https://api.testnet.solana.com\",\n      displayName: \"Solana Testnet\",\n      blockExplorerUrl: \"https://explorer.solana.com?cluster=testnet\",\n      ticker: \"SOL\",\n      tickerName: \"Solana\",\n      decimals: 9\n    };\n  } else if (chainId === 3) {\n    return {\n      logo: \"https://images.toruswallet.io/sol.svg\",\n      chainNamespace,\n      chainId: \"0x3\",\n      rpcTarget: \"https://api.devnet.solana.com\",\n      displayName: \"Solana Devnet\",\n      blockExplorerUrl: \"https://explorer.solana.com?cluster=devnet\",\n      ticker: \"SOL\",\n      tickerName: \"Solana\",\n      decimals: 9\n    };\n  }\n  return null;\n};\nconst getXrplChainConfig = chainId => {\n  const chainNamespace = CHAIN_NAMESPACES.XRPL;\n  if (chainId === 1) {\n    return {\n      chainNamespace,\n      decimals: 15,\n      chainId: \"0x1\",\n      logo: \"https://images.toruswallet.io/XRP.svg\",\n      rpcTarget: \"https://ripple-node.tor.us\",\n      wsTarget: \"wss://s2.ripple.com\",\n      ticker: \"XRP\",\n      tickerName: \"XRPL\",\n      displayName: \"xrpl mainnet\",\n      blockExplorerUrl: \"https://livenet.xrpl.org\"\n    };\n  } else if (chainId === 2) {\n    return {\n      chainNamespace,\n      decimals: 15,\n      chainId: \"0x2\",\n      logo: \"https://images.toruswallet.io/XRP.svg\",\n      rpcTarget: \"https://testnet-ripple-node.tor.us\",\n      wsTarget: \"wss://s.altnet.rippletest.net\",\n      ticker: \"XRP\",\n      tickerName: \"XRPL\",\n      displayName: \"xrpl testnet\",\n      blockExplorerUrl: \"https://testnet.xrpl.org\",\n      isTestnet: true\n    };\n  } else if (chainId === 3) {\n    return {\n      chainNamespace,\n      decimals: 15,\n      chainId: \"0x3\",\n      logo: \"https://images.toruswallet.io/XRP.svg\",\n      rpcTarget: \"https://devnet-ripple-node.tor.us\",\n      wsTarget: \"wss://s.devnet.rippletest.net/\",\n      ticker: \"XRP\",\n      tickerName: \"XRPL\",\n      displayName: \"xrpl devnet\",\n      blockExplorerUrl: \"https://devnet.xrpl.org\",\n      isTestnet: true\n    };\n  }\n  return null;\n};\nconst getChainConfig = (chainNamespace, chainId) => {\n  if (chainNamespace === CHAIN_NAMESPACES.OTHER) return null;\n  const finalChainId = chainId ? typeof chainId === \"number\" ? chainId : parseInt(chainId, 16) : getDefaultNetworkId(chainNamespace);\n  if (chainNamespace === CHAIN_NAMESPACES.EIP155) {\n    return getEvmChainConfig(finalChainId);\n  } else if (chainNamespace === CHAIN_NAMESPACES.SOLANA) {\n    return getSolanaChainConfig(finalChainId);\n  } else if (chainNamespace === CHAIN_NAMESPACES.XRPL) {\n    return getXrplChainConfig(finalChainId);\n  }\n  return null;\n};\n\nconst MULTI_CHAIN_ADAPTERS = {\n  OPENLOGIN: \"openlogin\",\n  WALLET_CONNECT_V2: \"wallet-connect-v2\",\n  SFA: \"sfa\"\n};\nconst SOLANA_ADAPTERS = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({\n  TORUS_SOLANA: \"torus-solana\",\n  PHANTOM: \"phantom\",\n  SOLFLARE: \"solflare\"\n}, MULTI_CHAIN_ADAPTERS);\nconst EVM_ADAPTERS = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({\n  TORUS_EVM: \"torus-evm\",\n  METAMASK: \"metamask\",\n  COINBASE: \"coinbase\"\n}, MULTI_CHAIN_ADAPTERS);\nconst WALLET_ADAPTERS = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, EVM_ADAPTERS), SOLANA_ADAPTERS);\nconst ADAPTER_NAMES = {\n  [MULTI_CHAIN_ADAPTERS.OPENLOGIN]: \"OpenLogin\",\n  [MULTI_CHAIN_ADAPTERS.WALLET_CONNECT_V2]: \"Wallet Connect v2\",\n  [MULTI_CHAIN_ADAPTERS.SFA]: \"SFA\",\n  [SOLANA_ADAPTERS.TORUS_SOLANA]: \"Torus\",\n  [SOLANA_ADAPTERS.PHANTOM]: \"Phantom\",\n  [SOLANA_ADAPTERS.SOLFLARE]: \"Solflare\",\n  [EVM_ADAPTERS.TORUS_EVM]: \"Torus\",\n  [EVM_ADAPTERS.METAMASK]: \"Metamask\",\n  [EVM_ADAPTERS.COINBASE]: \"Coinbase\"\n};\n\nconst WEB3AUTH_NETWORK = _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__.OPENLOGIN_NETWORK;\nconst ADAPTER_CATEGORY = {\n  EXTERNAL: \"external\",\n  IN_APP: \"in_app\"\n};\nconst ADAPTER_STATUS = {\n  NOT_READY: \"not_ready\",\n  READY: \"ready\",\n  CONNECTING: \"connecting\",\n  CONNECTED: \"connected\",\n  DISCONNECTED: \"disconnected\",\n  ERRORED: \"errored\"\n};\nconst ADAPTER_EVENTS = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, ADAPTER_STATUS), {}, {\n  ADAPTER_DATA_UPDATED: \"adapter_data_updated\",\n  CACHE_CLEAR: \"cache_clear\"\n});\nclass BaseAdapter extends _toruslabs_openlogin_jrpc__WEBPACK_IMPORTED_MODULE_2__.SafeEventEmitter {\n  constructor(options = {}) {\n    super();\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"adapterData\", {});\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"sessionTime\", 86400);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"clientId\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"web3AuthNetwork\", _toruslabs_openlogin_utils__WEBPACK_IMPORTED_MODULE_3__.OPENLOGIN_NETWORK.MAINNET);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"useCoreKitKey\", undefined);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"rehydrated\", false);\n    // should be added in constructor or from setAdapterSettings function\n    // before calling init function.\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"chainConfig\", null);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"knownChainConfigs\", {});\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"adapterNamespace\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"currentChainNamespace\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"type\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"name\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"status\", void 0);\n    this.setAdapterSettings(options);\n  }\n  get chainConfigProxy() {\n    return this.chainConfig ? _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, this.chainConfig) : null;\n  }\n  get connnected() {\n    return this.status === ADAPTER_STATUS.CONNECTED;\n  }\n  setAdapterSettings(options) {\n    if (this.status === ADAPTER_STATUS.READY) return;\n    if (options !== null && options !== void 0 && options.sessionTime) {\n      this.sessionTime = options.sessionTime;\n    }\n    if (options !== null && options !== void 0 && options.clientId) {\n      this.clientId = options.clientId;\n    }\n    if (options !== null && options !== void 0 && options.web3AuthNetwork) {\n      this.web3AuthNetwork = options.web3AuthNetwork;\n    }\n    if ((options === null || options === void 0 ? void 0 : options.useCoreKitKey) !== undefined) {\n      this.useCoreKitKey = options.useCoreKitKey;\n    }\n    const customChainConfig = options.chainConfig;\n    if (customChainConfig) {\n      if (!customChainConfig.chainNamespace) throw WalletInitializationError.notReady(\"ChainNamespace is required while setting chainConfig\");\n      this.currentChainNamespace = customChainConfig.chainNamespace;\n      // chainId is optional in this function.\n      // we go with mainnet chainId by default.\n      const defaultChainConfig = getChainConfig(customChainConfig.chainNamespace, customChainConfig.chainId);\n      // NOTE: It is being forced casted to CustomChainConfig to handle OTHER Chainnamespace\n      // where chainConfig is not required.\n      const finalChainConfig = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, defaultChainConfig || {}), customChainConfig);\n      this.chainConfig = finalChainConfig;\n      this.addChainConfig(finalChainConfig);\n    }\n  }\n  checkConnectionRequirements() {\n    // we reconnect without killing existing wallet connect session on calling connect again.\n    if (this.name === WALLET_ADAPTERS.WALLET_CONNECT_V2 && this.status === ADAPTER_STATUS.CONNECTING) return;else if (this.status === ADAPTER_STATUS.CONNECTING) throw WalletInitializationError.notReady(\"Already connecting\");\n    if (this.status === ADAPTER_STATUS.CONNECTED) throw WalletLoginError.connectionError(\"Already connected\");\n    if (this.status !== ADAPTER_STATUS.READY) throw WalletLoginError.connectionError(\"Wallet adapter is not ready yet, Please wait for init function to resolve before calling connect/connectTo function\");\n  }\n  checkInitializationRequirements() {\n    if (!this.clientId) throw WalletInitializationError.invalidParams(\"Please initialize Web3Auth with a valid clientId in constructor\");\n    if (!this.chainConfig) throw WalletInitializationError.invalidParams(\"rpcTarget is required in chainConfig\");\n    if (!this.chainConfig.rpcTarget && this.chainConfig.chainNamespace !== CHAIN_NAMESPACES.OTHER) {\n      throw WalletInitializationError.invalidParams(\"rpcTarget is required in chainConfig\");\n    }\n    if (!this.chainConfig.chainId && this.chainConfig.chainNamespace !== CHAIN_NAMESPACES.OTHER) {\n      throw WalletInitializationError.invalidParams(\"chainID is required in chainConfig\");\n    }\n    if (this.status === ADAPTER_STATUS.NOT_READY) return;\n    if (this.status === ADAPTER_STATUS.CONNECTED) throw WalletInitializationError.notReady(\"Already connected\");\n    if (this.status === ADAPTER_STATUS.READY) throw WalletInitializationError.notReady(\"Adapter is already initialized\");\n  }\n  checkDisconnectionRequirements() {\n    if (this.status !== ADAPTER_STATUS.CONNECTED) throw WalletLoginError.disconnectionError(\"Not connected with wallet\");\n  }\n  checkAddChainRequirements(chainConfig, init = false) {\n    if (!init && !this.provider) throw WalletLoginError.notConnectedError(\"Not connected with wallet.\");\n    if (this.currentChainNamespace !== chainConfig.chainNamespace) {\n      throw WalletOperationsError.chainNamespaceNotAllowed(\"This adapter doesn't support this chainNamespace\");\n    }\n  }\n  checkSwitchChainRequirements({\n    chainId\n  }, init = false) {\n    if (!init && !this.provider) throw WalletLoginError.notConnectedError(\"Not connected with wallet.\");\n    if (!this.knownChainConfigs[chainId]) throw WalletLoginError.chainConfigNotAdded(\"Invalid chainId\");\n  }\n  updateAdapterData(data) {\n    this.adapterData = data;\n    this.emit(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED, {\n      adapterName: this.name,\n      data\n    });\n  }\n  addChainConfig(chainConfig) {\n    const currentConfig = this.knownChainConfigs[chainConfig.chainId];\n    this.knownChainConfigs[chainConfig.chainId] = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, currentConfig || {}), chainConfig);\n  }\n  getChainConfig(chainId) {\n    return this.knownChainConfigs[chainId] || null;\n  }\n}\n\nfunction storageAvailable(type) {\n  let storageExists = false;\n  let storageLength = 0;\n  let storage;\n  try {\n    storage = window[type];\n    storageExists = true;\n    storageLength = storage.length;\n    const x = \"__storage_test__\";\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (error) {\n    const _error = error;\n    return !!(_error && (\n    // everything except Firefox\n    _error.code === 22 ||\n    // Firefox\n    _error.code === 1014 ||\n    // test name field too, because code might not be present\n    // everything except Firefox\n    _error.name === \"QuotaExceededError\" ||\n    // Firefox\n    _error.name === \"NS_ERROR_DOM_QUOTA_REACHED\") &&\n    // acknowledge QuotaExceededError only if there's something already stored\n    storageExists && storageLength !== 0);\n  }\n}\nconst isHexStrict = hex => {\n  return (typeof hex === \"string\" || typeof hex === \"number\") && /^(-)?0x[0-9a-f]*$/i.test(hex);\n};\nconst signerHost = web3AuthNetwork => {\n  return _toruslabs_constants__WEBPACK_IMPORTED_MODULE_6__.SIGNER_MAP[web3AuthNetwork !== null && web3AuthNetwork !== void 0 ? web3AuthNetwork : WEB3AUTH_NETWORK.SAPPHIRE_MAINNET];\n};\nconst fetchProjectConfig = async (clientId, web3AuthNetwork) => {\n  const url = new URL(`${signerHost(web3AuthNetwork)}/api/configuration`);\n  url.searchParams.append(\"project_id\", clientId);\n  url.searchParams.append(\"network\", web3AuthNetwork);\n  url.searchParams.append(\"whitelist\", \"true\");\n  const res = await (0,_toruslabs_http_helpers__WEBPACK_IMPORTED_MODULE_7__.get)(url.href);\n  return res;\n};\n\n// Normalize wallet name to a standard format, used for external wallets that are auto-detected by MIPD (EIP-6963 and Wallet Standard)\nconst normalizeWalletName = name => {\n  let normalizedName = name.toLowerCase();\n  // remove decriptive part after | e.g. \"Crypto.com | Defi Wallet\" => \"Crypto.com\"\n  normalizedName = normalizedName.split(\"|\")[0];\n\n  // replace -  with space e.g. \"Trust - Wallet\" => \"Trust Wallet\"\n  normalizedName = normalizedName.replace(/-/g, \" \");\n\n  // replace multiple spaces with single space\n  normalizedName = normalizedName.replace(/\\s+/g, \" \");\n\n  // remove trailing \"wallet\" e.g. \"Trust Wallet\" => \"Trust\", \"GateWallet\" => \"Gate\"\n  normalizedName = normalizedName.replace(/wallet$/i, \"\").trim();\n\n  // replace space with -\n  normalizedName = normalizedName.replace(/\\s/g, \"-\");\n  return normalizedName;\n};\n\nconst checkIfTokenIsExpired = token => {\n  const decoded = (0,jwt_decode__WEBPACK_IMPORTED_MODULE_5__.jwtDecode)(token);\n  if (!decoded.exp) {\n    return true;\n  }\n  if (decoded.exp < Math.floor(Date.now() / 1000)) {\n    return true;\n  }\n  return false;\n};\nconst getSavedToken = (userAddress, issuer) => {\n  if (storageAvailable(\"localStorage\")) {\n    return localStorage.getItem(`${userAddress.toLowerCase()}_${issuer}`);\n  }\n  return null;\n};\nconst saveToken = (userAddress, issuer, token) => {\n  if (storageAvailable(\"localStorage\")) {\n    return localStorage.setItem(`${userAddress.toLowerCase()}_${issuer}`, token);\n  }\n  return null;\n};\nconst clearToken = (userAddress, issuer) => {\n  if (storageAvailable(\"localStorage\")) {\n    return localStorage.removeItem(`${userAddress.toLowerCase()}_${issuer}`);\n  }\n  return null;\n};\n\nvar loglevel = loglevel__WEBPACK_IMPORTED_MODULE_8___default().getLogger(\"web3auth-logger\");\n\nclass WalletServicesPluginError extends Web3AuthError {\n  constructor(code, message, cause) {\n    // takes care of stack and proto\n    super(code, message, cause);\n\n    // Set name explicitly as minification can mangle class names\n    Object.defineProperty(this, \"name\", {\n      value: \"WalletServicesPluginError\"\n    });\n  }\n  static fromCode(code, extraMessage = \"\", cause) {\n    return new WalletServicesPluginError(code, `${WalletServicesPluginError.messages[code]}${extraMessage}`, cause);\n  }\n  static notInitialized(extraMessage = \"\", cause) {\n    return WalletServicesPluginError.fromCode(5210, extraMessage, cause);\n  }\n  static unsupportedAdapter(extraMessage = \"\", cause) {\n    return WalletServicesPluginError.fromCode(5211, extraMessage, cause);\n  }\n  static providerRequired(extraMessage = \"\", cause) {\n    return WalletServicesPluginError.fromCode(5212, extraMessage, cause);\n  }\n  static web3authRequired(extraMessage = \"\", cause) {\n    return WalletServicesPluginError.fromCode(5213, extraMessage, cause);\n  }\n  static web3AuthNotConnected(extraMessage = \"\", cause) {\n    return WalletServicesPluginError.fromCode(5214, extraMessage, cause);\n  }\n  static alreadyInitialized(extraMessage = \"\", cause) {\n    return WalletServicesPluginError.fromCode(5216, extraMessage, cause);\n  }\n  static unsupportedChainNamespace(extraMessage = \"\", cause) {\n    return WalletServicesPluginError.fromCode(5218, extraMessage, cause);\n  }\n  static differentWeb3AuthNetwork(extraMessage = \"\", cause) {\n    return WalletServicesPluginError.fromCode(5219, extraMessage, cause);\n  }\n  static invalidParams(extraMessage = \"\", cause) {\n    return WalletServicesPluginError.fromCode(5220, extraMessage, cause);\n  }\n  static web3authNotInitialized(extraMessage = \"\", cause) {\n    return WalletServicesPluginError.fromCode(5221, extraMessage, cause);\n  }\n  static invalidSession(extraMessage = \"\", cause) {\n    return WalletServicesPluginError.fromCode(5222, extraMessage, cause);\n  }\n  static walletPluginNotConnected(extraMessage = \"\", cause) {\n    return WalletServicesPluginError.fromCode(5223, extraMessage, cause);\n  }\n}\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(WalletServicesPluginError, \"messages\", {\n  5210: \"Wallet Services Plugin is not initialized\",\n  5211: \"Web3Auth is connected to unsupported adapter. Wallet services connector plugin requires web3auth connected to openlogin adapter.\",\n  5212: \"Provider is required..\",\n  5213: \"Web3Auth instance is required while initialization.\",\n  5214: \"Web3Auth is not connected.\",\n  5216: \"Plugin is already initialized\",\n  5218: \"Unsupported chain namespace.\",\n  5219: \"Plugin network different than web3auth instance network.\",\n  5221: \"Web3Auth is not initialized\",\n  5222: \"Invalid session inside wallet services. Please report this issue.\",\n  5223: \"Wallet plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin\"\n});\n\nconst PLUGIN_NAMESPACES = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, CHAIN_NAMESPACES), {}, {\n  MULTICHAIN: \"multichain\"\n});\nconst PLUGIN_STATUS = {\n  READY: \"ready\",\n  CONNECTING: \"connecting\",\n  CONNECTED: \"connected\",\n  DISCONNECTED: \"disconnected\",\n  ERRORED: \"errored\"\n};\nconst PLUGIN_EVENTS = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, PLUGIN_STATUS);\nconst EVM_PLUGINS = {\n  WALLET_SERVICES: \"wallet-services\"\n};\nconst SOLANA_PLUGINS = {\n  SOLANA: \"solana\"\n};\nconst WALLET_PLUGINS = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, EVM_PLUGINS), SOLANA_PLUGINS);\n\nconst PROVIDER_EVENTS = {\n  INITIALIZED: \"initialized\",\n  ERRORED: \"errored\"\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B3ZWIzYXV0aCtiYXNlQDguMTIuNF9AYmFiZWwrcnVudGltZUA3LjI4LjQvbm9kZV9tb2R1bGVzL0B3ZWIzYXV0aC9iYXNlL2Rpc3QvYmFzZS5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9FO0FBQ0g7QUFDSjtBQUNFO0FBQ1M7QUFDMUI7QUFDUDtBQUNXO0FBQ0o7QUFDWjs7QUFFbEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixpQkFBaUIsRUFBRSwwQkFBMEIsRUFBRSxvQkFBb0I7QUFDMUYsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdEQUFXO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLElBQUksNEVBQWU7QUFDbkIsSUFBSSw0RUFBZTtBQUNuQixJQUFJLDRFQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0RBQWtELHlDQUF5QyxJQUFJLGFBQWE7QUFDNUc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0RUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EseUNBQXlDLGdDQUFnQyxJQUFJLGFBQWE7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw4Q0FBOEMscUNBQXFDLElBQUksYUFBYTtBQUNwRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw4Q0FBOEMsbUNBQW1DLElBQUksYUFBYTtBQUNsRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsbUVBQW1FLGdCQUFnQjtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDJFQUFhO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxxQkFBcUIsMkVBQWE7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHdCQUF3QiwyRUFBYSxDQUFDLDJFQUFhLEdBQUc7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIseUVBQWlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyRUFBYSxDQUFDLDJFQUFhLEdBQUcscUJBQXFCO0FBQzFFO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsMEJBQTBCLHVFQUFnQjtBQUMxQywwQkFBMEI7QUFDMUI7QUFDQSxJQUFJLDRFQUFlLHdCQUF3QjtBQUMzQyxJQUFJLDRFQUFlO0FBQ25CLElBQUksNEVBQWU7QUFDbkIsSUFBSSw0RUFBZSwwQkFBMEIseUVBQWlCO0FBQzlELElBQUksNEVBQWU7QUFDbkIsSUFBSSw0RUFBZTtBQUNuQjtBQUNBO0FBQ0EsSUFBSSw0RUFBZTtBQUNuQixJQUFJLDRFQUFlLDhCQUE4QjtBQUNqRCxJQUFJLDRFQUFlO0FBQ25CLElBQUksNEVBQWU7QUFDbkIsSUFBSSw0RUFBZTtBQUNuQixJQUFJLDRFQUFlO0FBQ25CLElBQUksNEVBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDJFQUFhLEdBQUc7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDJFQUFhLENBQUMsMkVBQWEsR0FBRywwQkFBMEI7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkdBQTZHO0FBQzdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCwyRUFBYSxDQUFDLDJFQUFhLEdBQUcscUJBQXFCO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0REFBVTtBQUNuQjtBQUNBO0FBQ0EseUJBQXlCLDRCQUE0QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNERBQUc7QUFDdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHFEQUFTO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDBCQUEwQixHQUFHLE9BQU87QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywwQkFBMEIsR0FBRyxPQUFPO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsMEJBQTBCLEdBQUcsT0FBTztBQUMxRTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSx5REFBb0I7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0RBQWtELHlDQUF5QyxFQUFFLGFBQWE7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsMEJBQTBCLDJFQUFhLENBQUMsMkVBQWEsR0FBRyx1QkFBdUI7QUFDL0U7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkVBQWEsR0FBRztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMkVBQWEsQ0FBQywyRUFBYSxHQUFHOztBQUVyRDtBQUNBO0FBQ0E7QUFDQTs7QUFFdXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNvbGxlY3RpYmxlL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHdlYjNhdXRoK2Jhc2VAOC4xMi40X0BiYWJlbCtydW50aW1lQDcuMjguNC9ub2RlX21vZHVsZXMvQHdlYjNhdXRoL2Jhc2UvZGlzdC9iYXNlLmVzbS5qcz8yMjVmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDInO1xuaW1wb3J0IHsgU2FmZUV2ZW50RW1pdHRlciB9IGZyb20gJ0B0b3J1c2xhYnMvb3BlbmxvZ2luLWpycGMnO1xuaW1wb3J0IHsgT1BFTkxPR0lOX05FVFdPUksgfSBmcm9tICdAdG9ydXNsYWJzL29wZW5sb2dpbi11dGlscyc7XG5leHBvcnQgeyBPUEVOTE9HSU5fTkVUV09SSywgVVhfTU9ERSB9IGZyb20gJ0B0b3J1c2xhYnMvb3BlbmxvZ2luLXV0aWxzJztcbmltcG9ydCB7IEN1c3RvbUVycm9yIH0gZnJvbSAndHMtY3VzdG9tLWVycm9yJztcbmltcG9ydCB7IGp3dERlY29kZSB9IGZyb20gJ2p3dC1kZWNvZGUnO1xuaW1wb3J0IHsgU0lHTkVSX01BUCB9IGZyb20gJ0B0b3J1c2xhYnMvY29uc3RhbnRzJztcbmltcG9ydCB7IGdldCB9IGZyb20gJ0B0b3J1c2xhYnMvaHR0cC1oZWxwZXJzJztcbmltcG9ydCBsb2dsZXZlbCQxIGZyb20gJ2xvZ2xldmVsJztcblxuLy8gQGZsb3dcblxuZnVuY3Rpb24gc2VyaWFsaXplRXJyb3IoYXJncykge1xuICAvLyBGaW5kIGZpcnN0IEVycm9yIG9yIGNyZWF0ZSBhbiBcInVua25vd25cIiBFcnJvciB0byBrZWVwIHN0YWNrIHRyYWNlLlxuICBjb25zdCBpbmRleCA9IGFyZ3MuZmluZEluZGV4KGFyZyA9PiBhcmcgaW5zdGFuY2VvZiBFcnJvcik7XG4gIGNvbnN0IG1zZ0luZGV4ID0gYXJncy5maW5kSW5kZXgoYXJnID0+IHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCIpO1xuICBjb25zdCBhcGlFcnJvcklkeCA9IGFyZ3MuZmluZEluZGV4KGFyZyA9PiBhcmcgJiYgdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiAmJiBcInN0YXR1c1wiIGluIGFyZyAmJiBcInR5cGVcIiBpbiBhcmcpO1xuICBsZXQgZXJyO1xuICBpZiAoYXBpRXJyb3JJZHggIT09IC0xKSB7XG4gICAgY29uc3QgYXBpRXJyb3IgPSBhcmdzW2FwaUVycm9ySWR4XTtcbiAgICBlcnIgPSBuZXcgRXJyb3IoYCR7YXBpRXJyb3Iuc3RhdHVzfSAke2FwaUVycm9yLnR5cGUudG9TdHJpbmcoKX0gJHthcGlFcnJvci5zdGF0dXNUZXh0fWApO1xuICB9IGVsc2UgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIGVyciA9IGFyZ3Muc3BsaWNlKGluZGV4LCAxKVswXTtcbiAgfSBlbHNlIGlmIChtc2dJbmRleCAhPT0gLTEpIHtcbiAgICBlcnIgPSBuZXcgRXJyb3IoYXJncy5zcGxpY2UobXNnSW5kZXgsIDEpWzBdKTtcbiAgfSBlbHNlIHtcbiAgICBlcnIgPSBuZXcgRXJyb3IoXCJVbmtub3duIGVycm9yXCIpO1xuICB9XG4gIHJldHVybiBbZXJyLCBhcmdzXTtcbn1cbmNsYXNzIFdlYjNBdXRoRXJyb3IgZXh0ZW5kcyBDdXN0b21FcnJvciB7XG4gIGNvbnN0cnVjdG9yKGNvZGUsIG1lc3NhZ2UsIGNhdXNlKSB7XG4gICAgLy8gdGFrZXMgY2FyZSBvZiBzdGFjayBhbmQgcHJvdG9cbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb2RlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibWVzc2FnZVwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNhdXNlXCIsIHZvaWQgMCk7XG4gICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlIHx8IFwiXCI7XG4gICAgdGhpcy5jYXVzZSA9IGNhdXNlO1xuICAgIC8vIFNldCBuYW1lIGV4cGxpY2l0bHkgYXMgbWluaWZpY2F0aW9uIGNhbiBtYW5nbGUgY2xhc3MgbmFtZXNcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcbiAgICAgIHZhbHVlOiBcIldlYjNBdXRoRXJyb3JcIlxuICAgIH0pO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgY29kZTogdGhpcy5jb2RlLFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgY2F1c2U6IHNlcmlhbGl6ZUVycm9yKFt0aGlzLmNhdXNlXSlcbiAgICB9O1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSlNPTigpKTtcbiAgfVxufVxuY2xhc3MgV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvciBleHRlbmRzIFdlYjNBdXRoRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcihjb2RlLCBtZXNzYWdlLCBjYXVzZSkge1xuICAgIC8vIHRha2VzIGNhcmUgb2Ygc3RhY2sgYW5kIHByb3RvXG4gICAgc3VwZXIoY29kZSwgbWVzc2FnZSwgY2F1c2UpO1xuXG4gICAgLy8gU2V0IG5hbWUgZXhwbGljaXRseSBhcyBtaW5pZmljYXRpb24gY2FuIG1hbmdsZSBjbGFzcyBuYW1lc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgdmFsdWU6IFwiV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvclwiXG4gICAgfSk7XG4gIH1cbiAgc3RhdGljIGZyb21Db2RlKGNvZGUsIGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIG5ldyBXYWxsZXRJbml0aWFsaXphdGlvbkVycm9yKGNvZGUsIGAke1dhbGxldEluaXRpYWxpemF0aW9uRXJyb3IubWVzc2FnZXNbY29kZV19LCAke2V4dHJhTWVzc2FnZX1gLCBjYXVzZSk7XG4gIH1cblxuICAvLyBDdXN0b20gbWV0aG9kc1xuICBzdGF0aWMgbm90Rm91bmQoZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvci5mcm9tQ29kZSg1MDAxLCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxuICBzdGF0aWMgbm90SW5zdGFsbGVkKGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldEluaXRpYWxpemF0aW9uRXJyb3IuZnJvbUNvZGUoNTAwMiwgZXh0cmFNZXNzYWdlLCBjYXVzZSk7XG4gIH1cbiAgc3RhdGljIG5vdFJlYWR5KGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldEluaXRpYWxpemF0aW9uRXJyb3IuZnJvbUNvZGUoNTAwMywgZXh0cmFNZXNzYWdlLCBjYXVzZSk7XG4gIH1cbiAgc3RhdGljIHdpbmRvd0Jsb2NrZWQoZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvci5mcm9tQ29kZSg1MDA0LCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxuICBzdGF0aWMgd2luZG93Q2xvc2VkKGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldEluaXRpYWxpemF0aW9uRXJyb3IuZnJvbUNvZGUoNTAwNSwgZXh0cmFNZXNzYWdlLCBjYXVzZSk7XG4gIH1cbiAgc3RhdGljIGluY29tcGF0aWJsZUNoYWluTmFtZVNwYWNlKGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldEluaXRpYWxpemF0aW9uRXJyb3IuZnJvbUNvZGUoNTAwNiwgZXh0cmFNZXNzYWdlLCBjYXVzZSk7XG4gIH1cbiAgc3RhdGljIGR1cGxpY2F0ZUFkYXB0ZXJFcnJvcihleHRyYU1lc3NhZ2UgPSBcIlwiLCBjYXVzZSkge1xuICAgIHJldHVybiBXYWxsZXRJbml0aWFsaXphdGlvbkVycm9yLmZyb21Db2RlKDUwMDcsIGV4dHJhTWVzc2FnZSwgY2F1c2UpO1xuICB9XG4gIHN0YXRpYyBpbnZhbGlkUHJvdmlkZXJDb25maWdFcnJvcihleHRyYU1lc3NhZ2UgPSBcIlwiLCBjYXVzZSkge1xuICAgIHJldHVybiBXYWxsZXRJbml0aWFsaXphdGlvbkVycm9yLmZyb21Db2RlKDUwMDgsIGV4dHJhTWVzc2FnZSwgY2F1c2UpO1xuICB9XG4gIHN0YXRpYyBwcm92aWRlck5vdFJlYWR5RXJyb3IoZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvci5mcm9tQ29kZSg1MDA5LCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxuICBzdGF0aWMgcnBjQ29ubmVjdGlvbkVycm9yKGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldEluaXRpYWxpemF0aW9uRXJyb3IuZnJvbUNvZGUoNTAxMCwgZXh0cmFNZXNzYWdlLCBjYXVzZSk7XG4gIH1cbiAgc3RhdGljIGludmFsaWRQYXJhbXMoZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvci5mcm9tQ29kZSg1MDExLCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxuICBzdGF0aWMgaW52YWxpZE5ldHdvcmsoZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvci5mcm9tQ29kZSg1MDEzLCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxufVxuXG4vKipcbiAqIHdhbGxldCBsb2dpbiBlcnJvcnNcbiAqL1xuX2RlZmluZVByb3BlcnR5KFdhbGxldEluaXRpYWxpemF0aW9uRXJyb3IsIFwibWVzc2FnZXNcIiwge1xuICA1MDAwOiBcIkN1c3RvbVwiLFxuICA1MDAxOiBcIldhbGxldCBpcyBub3QgZm91bmRcIixcbiAgNTAwMjogXCJXYWxsZXQgaXMgbm90IGluc3RhbGxlZFwiLFxuICA1MDAzOiBcIldhbGxldCBpcyBub3QgcmVhZHkgeWV0XCIsXG4gIDUwMDQ6IFwiV2FsbGV0IHdpbmRvdyBpcyBibG9ja2VkXCIsXG4gIDUwMDU6IFwiV2FsbGV0IHdpbmRvdyBoYXMgYmVlbiBjbG9zZWQgYnkgdGhlIHVzZXJcIixcbiAgNTAwNjogXCJJbmNvbXBhdGlibGUgY2hhaW4gbmFtZXNwYWNlIHByb3ZpZGVkXCIsXG4gIDUwMDc6IFwiQWRhcHRlciBoYXMgYWxyZWFkeSBiZWVuIGluY2x1ZGVkXCIsXG4gIDUwMDg6IFwiSW52YWxpZCBwcm92aWRlciBDb25maWdcIixcbiAgNTAwOTogXCJQcm92aWRlciBpcyBub3QgcmVhZHkgeWV0XCIsXG4gIDUwMTA6IFwiRmFpbGVkIHRvIGNvbm5lY3Qgd2l0aCBycGMgdXJsXCIsXG4gIDUwMTE6IFwiSW52YWxpZCBwYXJhbXMgcGFzc2VkIGluXCIsXG4gIDUwMTM6IFwiSW52YWxpZCBuZXR3b3JrIHByb3ZpZGVkXCJcbn0pO1xuY2xhc3MgV2FsbGV0TG9naW5FcnJvciBleHRlbmRzIFdlYjNBdXRoRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcihjb2RlLCBtZXNzYWdlLCBjYXVzZSkge1xuICAgIC8vIHRha2VzIGNhcmUgb2Ygc3RhY2sgYW5kIHByb3RvXG4gICAgc3VwZXIoY29kZSwgbWVzc2FnZSwgY2F1c2UpO1xuXG4gICAgLy8gU2V0IG5hbWUgZXhwbGljaXRseSBhcyBtaW5pZmljYXRpb24gY2FuIG1hbmdsZSBjbGFzcyBuYW1lc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgdmFsdWU6IFwiV2FsbGV0TG9naW5FcnJvclwiXG4gICAgfSk7XG4gIH1cbiAgc3RhdGljIGZyb21Db2RlKGNvZGUsIGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIG5ldyBXYWxsZXRMb2dpbkVycm9yKGNvZGUsIGAke1dhbGxldExvZ2luRXJyb3IubWVzc2FnZXNbY29kZV19LiAke2V4dHJhTWVzc2FnZX1gLCBjYXVzZSk7XG4gIH1cbiAgc3RhdGljIGNvbm5lY3Rpb25FcnJvcihleHRyYU1lc3NhZ2UgPSBcIlwiLCBjYXVzZSkge1xuICAgIHJldHVybiBXYWxsZXRMb2dpbkVycm9yLmZyb21Db2RlKDUxMTEsIGV4dHJhTWVzc2FnZSwgY2F1c2UpO1xuICB9XG4gIHN0YXRpYyBkaXNjb25uZWN0aW9uRXJyb3IoZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gV2FsbGV0TG9naW5FcnJvci5mcm9tQ29kZSg1MTEyLCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxuICBzdGF0aWMgbm90Q29ubmVjdGVkRXJyb3IoZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gV2FsbGV0TG9naW5FcnJvci5mcm9tQ29kZSg1MTEzLCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxuICBzdGF0aWMgcG9wdXBDbG9zZWQoZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gV2FsbGV0TG9naW5FcnJvci5mcm9tQ29kZSg1MTE0LCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxuICBzdGF0aWMgbWZhRW5hYmxlZChleHRyYU1lc3NhZ2UgPSBcIlwiLCBjYXVzZSkge1xuICAgIHJldHVybiBXYWxsZXRMb2dpbkVycm9yLmZyb21Db2RlKDUxMTUsIGV4dHJhTWVzc2FnZSwgY2F1c2UpO1xuICB9XG4gIHN0YXRpYyBjaGFpbkNvbmZpZ05vdEFkZGVkKGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldExvZ2luRXJyb3IuZnJvbUNvZGUoNTExNiwgZXh0cmFNZXNzYWdlLCBjYXVzZSk7XG4gIH1cbiAgc3RhdGljIHVuc3VwcG9ydGVkT3BlcmF0aW9uKGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldExvZ2luRXJyb3IuZnJvbUNvZGUoNTExNywgZXh0cmFNZXNzYWdlLCBjYXVzZSk7XG4gIH1cbiAgc3RhdGljIGNvcmVLaXRLZXlOb3RGb3VuZChleHRyYU1lc3NhZ2UgPSBcIlwiLCBjYXVzZSkge1xuICAgIHJldHVybiBXYWxsZXRMb2dpbkVycm9yLmZyb21Db2RlKDUxMTgsIGV4dHJhTWVzc2FnZSwgY2F1c2UpO1xuICB9XG4gIHN0YXRpYyB1c2VyTm90TG9nZ2VkSW4oZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gV2FsbGV0TG9naW5FcnJvci5mcm9tQ29kZSg1MTE5LCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxufVxuX2RlZmluZVByb3BlcnR5KFdhbGxldExvZ2luRXJyb3IsIFwibWVzc2FnZXNcIiwge1xuICA1MDAwOiBcIkN1c3RvbVwiLFxuICA1MTExOiBcIkZhaWxlZCB0byBjb25uZWN0IHdpdGggd2FsbGV0XCIsXG4gIDUxMTI6IFwiRmFpbGVkIHRvIGRpc2Nvbm5lY3QgZnJvbSB3YWxsZXRcIixcbiAgNTExMzogXCJXYWxsZXQgaXMgbm90IGNvbm5lY3RlZFwiLFxuICA1MTE0OiBcIldhbGxldCBwb3B1cCBoYXMgYmVlbiBjbG9zZWQgYnkgdGhlIHVzZXJcIixcbiAgNTExNTogXCJVc2VyIGhhcyBhbHJlYWR5IGVuYWJsZWQgbWZhLCBwbGVhc2UgdXNlIHRoZSBAd2ViM2F1dGgvd2ViM2F1dGgtd2ViIHNkayBmb3IgbG9naW4gd2l0aCBtZmFcIixcbiAgNTExNjogXCJDaGFpbiBjb25maWcgaGFzIG5vdCBiZWVuIGFkZGVkLiBQbGVhc2UgYWRkIHRoZSBjaGFpbiBjb25maWcgYmVmb3JlIGNhbGxpbmcgc3dpdGNoQ2hhaW5cIixcbiAgNTExNzogXCJVbnN1cHBvcnRlZCBvcGVyYXRpb25cIixcbiAgNTExODogXCJ1c2VDb3JlS2l0S2V5IGZsYWcgaXMgZW5hYmxlZCBidXQgY29yZUtpdEtleSBpcyBub3QgYXZhaWxhYmxlXCIsXG4gIDUxMTk6IFwiVXNlciBub3QgbG9nZ2VkIGluLlwiXG59KTtcbmNsYXNzIFdhbGxldE9wZXJhdGlvbnNFcnJvciBleHRlbmRzIFdlYjNBdXRoRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcihjb2RlLCBtZXNzYWdlLCBjYXVzZSkge1xuICAgIC8vIHRha2VzIGNhcmUgb2Ygc3RhY2sgYW5kIHByb3RvXG4gICAgc3VwZXIoY29kZSwgbWVzc2FnZSwgY2F1c2UpO1xuXG4gICAgLy8gU2V0IG5hbWUgZXhwbGljaXRseSBhcyBtaW5pZmljYXRpb24gY2FuIG1hbmdsZSBjbGFzcyBuYW1lc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgdmFsdWU6IFwiV2FsbGV0T3BlcmF0aW9uc0Vycm9yXCJcbiAgICB9KTtcbiAgfVxuICBzdGF0aWMgZnJvbUNvZGUoY29kZSwgZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gbmV3IFdhbGxldE9wZXJhdGlvbnNFcnJvcihjb2RlLCBgJHtXYWxsZXRPcGVyYXRpb25zRXJyb3IubWVzc2FnZXNbY29kZV19LCAke2V4dHJhTWVzc2FnZX1gLCBjYXVzZSk7XG4gIH1cblxuICAvLyBDdXN0b20gbWV0aG9kc1xuICBzdGF0aWMgY2hhaW5JRE5vdEFsbG93ZWQoZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gV2FsbGV0T3BlcmF0aW9uc0Vycm9yLmZyb21Db2RlKDUyMDEsIGV4dHJhTWVzc2FnZSwgY2F1c2UpO1xuICB9XG4gIHN0YXRpYyBvcGVyYXRpb25Ob3RBbGxvd2VkKGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldE9wZXJhdGlvbnNFcnJvci5mcm9tQ29kZSg1MjAyLCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxuICBzdGF0aWMgY2hhaW5OYW1lc3BhY2VOb3RBbGxvd2VkKGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldE9wZXJhdGlvbnNFcnJvci5mcm9tQ29kZSg1MjAzLCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxufVxuX2RlZmluZVByb3BlcnR5KFdhbGxldE9wZXJhdGlvbnNFcnJvciwgXCJtZXNzYWdlc1wiLCB7XG4gIDUwMDA6IFwiQ3VzdG9tXCIsXG4gIDUyMDE6IFwiUHJvdmlkZWQgY2hhaW5JZCBpcyBub3QgYWxsb3dlZFwiLFxuICA1MjAyOiBcIlRoaXMgb3BlcmF0aW9uIGlzIG5vdCBhbGxvd2VkXCJcbn0pO1xuY2xhc3MgV2FsbGV0UHJvdmlkZXJFcnJvciBleHRlbmRzIFdlYjNBdXRoRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcihjb2RlLCBtZXNzYWdlLCBjYXVzZSkge1xuICAgIC8vIHRha2VzIGNhcmUgb2Ygc3RhY2sgYW5kIHByb3RvXG4gICAgc3VwZXIoY29kZSwgbWVzc2FnZSwgY2F1c2UpO1xuXG4gICAgLy8gU2V0IG5hbWUgZXhwbGljaXRseSBhcyBtaW5pZmljYXRpb24gY2FuIG1hbmdsZSBjbGFzcyBuYW1lc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgdmFsdWU6IFwiV2FsbGV0UHJvdmlkZXJFcnJvclwiXG4gICAgfSk7XG4gIH1cbiAgc3RhdGljIGZyb21Db2RlKGNvZGUsIGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIG5ldyBXYWxsZXRPcGVyYXRpb25zRXJyb3IoY29kZSwgYCR7V2FsbGV0UHJvdmlkZXJFcnJvci5tZXNzYWdlc1tjb2RlXX0sICR7ZXh0cmFNZXNzYWdlfWAsIGNhdXNlKTtcbiAgfVxuXG4gIC8vIEN1c3RvbSBtZXRob2RzXG4gIHN0YXRpYyBpbnZhbGlkUmVxdWVzdEFyZ3MoZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gV2FsbGV0T3BlcmF0aW9uc0Vycm9yLmZyb21Db2RlKDUzMDEsIGV4dHJhTWVzc2FnZSwgY2F1c2UpO1xuICB9XG4gIHN0YXRpYyBpbnZhbGlkUmVxdWVzdE1ldGhvZChleHRyYU1lc3NhZ2UgPSBcIlwiLCBjYXVzZSkge1xuICAgIHJldHVybiBXYWxsZXRPcGVyYXRpb25zRXJyb3IuZnJvbUNvZGUoNTMwMiwgZXh0cmFNZXNzYWdlLCBjYXVzZSk7XG4gIH1cbiAgc3RhdGljIGludmFsaWRSZXF1ZXN0UGFyYW1zKGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldE9wZXJhdGlvbnNFcnJvci5mcm9tQ29kZSg1MzAzLCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxufVxuX2RlZmluZVByb3BlcnR5KFdhbGxldFByb3ZpZGVyRXJyb3IsIFwibWVzc2FnZXNcIiwge1xuICA1MDAwOiBcIkN1c3RvbVwiLFxuICA1MzAxOiBcIkV4cGVjdGVkIGEgc2luZ2xlLCBub24tYXJyYXksIG9iamVjdCBhcmd1bWVudC5cIixcbiAgNTMwMjogXCInYXJncy5tZXRob2QnIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nLlwiLFxuICA1MzAzOiBcIidhcmdzLnBhcmFtcycgbXVzdCBiZSBhbiBvYmplY3Qgb3IgYXJyYXkgaWYgcHJvdmlkZWQuXCJcbn0pO1xuXG5jb25zdCBDSEFJTl9OQU1FU1BBQ0VTID0ge1xuICBFSVAxNTU6IFwiZWlwMTU1XCIsXG4gIFNPTEFOQTogXCJzb2xhbmFcIixcbiAgQ0FTUEVSOiBcImNhc3BlclwiLFxuICBYUlBMOiBcInhycGxcIixcbiAgT1RIRVI6IFwib3RoZXJcIlxufTtcbi8vIGVpcDE1NSBmb3IgYWxsIGV2bSBjaGFpbnNcblxuY29uc3QgQURBUFRFUl9OQU1FU1BBQ0VTID0ge1xuICBFSVAxNTU6IFwiZWlwMTU1XCIsXG4gIFNPTEFOQTogXCJzb2xhbmFcIixcbiAgQ0FTUEVSOiBcImNhc3BlclwiLFxuICBYUlBMOiBcInhycGxcIixcbiAgTVVMVElDSEFJTjogXCJtdWx0aWNoYWluXCJcbn07XG4vLyBlaXAxNTUgZm9yIGFsbCBldm0gY2hhaW5zXG5cbmNvbnN0IGdldERlZmF1bHROZXR3b3JrSWQgPSBjaGFpbk5hbWVzcGFjZSA9PiB7XG4gIGlmIChjaGFpbk5hbWVzcGFjZSA9PT0gQ0hBSU5fTkFNRVNQQUNFUy5FSVAxNTUpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIGlmIChjaGFpbk5hbWVzcGFjZSA9PT0gQ0hBSU5fTkFNRVNQQUNFUy5TT0xBTkEpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIGlmIChjaGFpbk5hbWVzcGFjZSA9PT0gQ0hBSU5fTkFNRVNQQUNFUy5YUlBMKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgdGhyb3cgV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvci5pbnZhbGlkUGFyYW1zKGBDaGFpbiBuYW1lc3BhY2UgJHtjaGFpbk5hbWVzcGFjZX0gaXMgbm90IHN1cHBvcnRlZGApO1xufTtcbmNvbnN0IGdldEV2bUNoYWluQ29uZmlnID0gY2hhaW5JZCA9PiB7XG4gIGNvbnN0IGNoYWluTmFtZXNwYWNlID0gQ0hBSU5fTkFNRVNQQUNFUy5FSVAxNTU7XG4gIGlmIChjaGFpbklkID09PSAxKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvZ286IFwiaHR0cHM6Ly9pbWFnZXMudG9ydXN3YWxsZXQuaW8vZXRoLnN2Z1wiLFxuICAgICAgY2hhaW5OYW1lc3BhY2UsXG4gICAgICBjaGFpbklkOiBcIjB4MVwiLFxuICAgICAgcnBjVGFyZ2V0OiBgaHR0cHM6Ly9ycGMuYW5rci5jb20vZXRoYCxcbiAgICAgIGRpc3BsYXlOYW1lOiBcIkV0aGVyZXVtIE1haW5uZXRcIixcbiAgICAgIGJsb2NrRXhwbG9yZXJVcmw6IFwiaHR0cHM6Ly9ldGhlcnNjYW4uaW8vXCIsXG4gICAgICB0aWNrZXI6IFwiRVRIXCIsXG4gICAgICB0aWNrZXJOYW1lOiBcIkV0aGVyZXVtXCIsXG4gICAgICBkZWNpbWFsczogMThcbiAgICB9O1xuICB9XG4gIGlmIChjaGFpbklkID09PSA1KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvZ286IFwiaHR0cHM6Ly9pbWFnZXMudG9ydXN3YWxsZXQuaW8vZXRoLnN2Z1wiLFxuICAgICAgY2hhaW5OYW1lc3BhY2UsXG4gICAgICBjaGFpbklkOiBcIjB4NVwiLFxuICAgICAgcnBjVGFyZ2V0OiBgaHR0cHM6Ly9ycGMuYW5rci5jb20vZXRoX2dvZXJsaWAsXG4gICAgICBkaXNwbGF5TmFtZTogXCJHb2VybGkgVGVzdG5ldFwiLFxuICAgICAgYmxvY2tFeHBsb3JlclVybDogXCJodHRwczovL2dvZXJsaS5ldGhlcnNjYW4uaW8vXCIsXG4gICAgICB0aWNrZXI6IFwiRVRIXCIsXG4gICAgICB0aWNrZXJOYW1lOiBcIkV0aGVyZXVtXCIsXG4gICAgICBkZWNpbWFsczogMThcbiAgICB9O1xuICB9XG4gIGlmIChjaGFpbklkID09PSAxMTE1NTExMSkge1xuICAgIHJldHVybiB7XG4gICAgICBsb2dvOiBcImh0dHBzOi8vaW1hZ2VzLnRvcnVzd2FsbGV0LmlvL2V0aC5zdmdcIixcbiAgICAgIGNoYWluTmFtZXNwYWNlLFxuICAgICAgY2hhaW5JZDogXCIweGFhMzZhN1wiLFxuICAgICAgcnBjVGFyZ2V0OiBgaHR0cHM6Ly9ycGMuYW5rci5jb20vZXRoX3NlcG9saWFgLFxuICAgICAgZGlzcGxheU5hbWU6IFwiU2Vwb2xpYSBUZXN0bmV0XCIsXG4gICAgICBibG9ja0V4cGxvcmVyVXJsOiBcImh0dHBzOi8vc2Vwb2xpYS5ldGhlcnNjYW4uaW8vXCIsXG4gICAgICB0aWNrZXI6IFwiRVRIXCIsXG4gICAgICB0aWNrZXJOYW1lOiBcIkV0aGVyZXVtXCIsXG4gICAgICBkZWNpbWFsczogMThcbiAgICB9O1xuICB9XG4gIGlmIChjaGFpbklkID09PSAxMzcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbG9nbzogXCJodHRwczovL2ltYWdlcy50b3J1c3dhbGxldC5pby9wb2x5Z29uLnN2Z1wiLFxuICAgICAgY2hhaW5OYW1lc3BhY2UsXG4gICAgICBjaGFpbklkOiBcIjB4ODlcIixcbiAgICAgIHJwY1RhcmdldDogXCJodHRwczovL3JwYy5hbmtyLmNvbS9wb2x5Z29uXCIsXG4gICAgICBkaXNwbGF5TmFtZTogXCJQb2x5Z29uIE1haW5uZXRcIixcbiAgICAgIGJsb2NrRXhwbG9yZXJVcmw6IFwiaHR0cHM6Ly9wb2x5Z29uc2Nhbi5jb21cIixcbiAgICAgIHRpY2tlcjogXCJNQVRJQ1wiLFxuICAgICAgdGlja2VyTmFtZTogXCJQb2x5Z29uXCJcbiAgICB9O1xuICB9XG4gIGlmIChjaGFpbklkID09PSA4MDAwMikge1xuICAgIHJldHVybiB7XG4gICAgICBsb2dvOiBcImh0dHBzOi8vaW1hZ2VzLnRvcnVzd2FsbGV0LmlvL3BvbHlnb24uc3ZnXCIsXG4gICAgICBjaGFpbk5hbWVzcGFjZSxcbiAgICAgIGNoYWluSWQ6IFwiMHgxMzg4MlwiLFxuICAgICAgcnBjVGFyZ2V0OiBcImh0dHBzOi8vcnBjLmFua3IuY29tL3BvbHlnb25fYW1veVwiLFxuICAgICAgZGlzcGxheU5hbWU6IFwiUG9seWdvbiBBbW95IFRlc3RuZXRcIixcbiAgICAgIGJsb2NrRXhwbG9yZXJVcmw6IFwiaHR0cHM6Ly93d3cub2tsaW5rLmNvbS9hbW95XCIsXG4gICAgICB0aWNrZXI6IFwiTUFUSUNcIixcbiAgICAgIHRpY2tlck5hbWU6IFwiUG9seWdvblwiLFxuICAgICAgZGVjaW1hbHM6IDE4XG4gICAgfTtcbiAgfVxuICBpZiAoY2hhaW5JZCA9PT0gNTYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbG9nbzogXCJodHRwczovL2ltYWdlcy50b3J1c3dhbGxldC5pby9ibmIucG5nXCIsXG4gICAgICBjaGFpbk5hbWVzcGFjZSxcbiAgICAgIGNoYWluSWQ6IFwiMHgzOFwiLFxuICAgICAgcnBjVGFyZ2V0OiBcImh0dHBzOi8vcnBjLmFua3IuY29tL2JzY1wiLFxuICAgICAgZGlzcGxheU5hbWU6IFwiQmluYW5jZSBTbWFydENoYWluIE1haW5uZXRcIixcbiAgICAgIGJsb2NrRXhwbG9yZXJVcmw6IFwiaHR0cHM6Ly9ic2NzY2FuLmNvbVwiLFxuICAgICAgdGlja2VyOiBcIkJOQlwiLFxuICAgICAgdGlja2VyTmFtZTogXCJCaW5hbmNlIFNtYXJ0Q2hhaW5cIixcbiAgICAgIGRlY2ltYWxzOiAxOFxuICAgIH07XG4gIH1cbiAgaWYgKGNoYWluSWQgPT09IDk3KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvZ286IFwiaHR0cHM6Ly9pbWFnZXMudG9ydXN3YWxsZXQuaW8vYm5iLnBuZ1wiLFxuICAgICAgY2hhaW5OYW1lc3BhY2UsXG4gICAgICBjaGFpbklkOiBcIjB4NjFcIixcbiAgICAgIHJwY1RhcmdldDogXCJodHRwczovL3JwYy5hbmtyLmNvbS9ic2NfdGVzdG5ldF9jaGFwZWxcIixcbiAgICAgIGRpc3BsYXlOYW1lOiBcIkJpbmFuY2UgU21hcnRDaGFpbiBUZXN0bmV0XCIsXG4gICAgICBibG9ja0V4cGxvcmVyVXJsOiBcImh0dHBzOi8vdGVzdG5ldC5ic2NzY2FuLmNvbVwiLFxuICAgICAgdGlja2VyOiBcIkJOQlwiLFxuICAgICAgdGlja2VyTmFtZTogXCJCaW5hbmNlIFNtYXJ0Q2hhaW5cIixcbiAgICAgIGRlY2ltYWxzOiAxOFxuICAgIH07XG4gIH1cbiAgaWYgKGNoYWluSWQgPT09IDI1KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvZ286IFwiaHR0cHM6Ly9pbWFnZXMudG9ydXN3YWxsZXQuaW8vY3JvLnN2Z1wiLFxuICAgICAgY2hhaW5OYW1lc3BhY2UsXG4gICAgICBjaGFpbklkOiBcIjB4MTlcIixcbiAgICAgIHJwY1RhcmdldDogXCJodHRwczovL3JwYy5jcm9ub3Mub3JnXCIsXG4gICAgICBkaXNwbGF5TmFtZTogXCJDcm9ub3MgTWFpbm5ldFwiLFxuICAgICAgYmxvY2tFeHBsb3JlclVybDogXCJodHRwczovL2Nyb25vc2Nhbi5jb20vXCIsXG4gICAgICB0aWNrZXI6IFwiQ1JPXCIsXG4gICAgICB0aWNrZXJOYW1lOiBcIkNyb25vc1wiXG4gICAgfTtcbiAgfVxuICBpZiAoY2hhaW5JZCA9PT0gMzM4KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvZ286IFwiaHR0cHM6Ly9pbWFnZXMudG9ydXN3YWxsZXQuaW8vY3JvLnN2Z1wiLFxuICAgICAgY2hhaW5OYW1lc3BhY2UsXG4gICAgICBjaGFpbklkOiBcIjB4MTUyXCIsXG4gICAgICBycGNUYXJnZXQ6IFwiaHR0cHM6Ly9ycGMtdDMuY3Jvbm9zLm9yZy9cIixcbiAgICAgIGRpc3BsYXlOYW1lOiBcIkNyb25vcyBUZXN0bmV0XCIsXG4gICAgICBibG9ja0V4cGxvcmVyVXJsOiBcImh0dHBzOi8vY3Jvbm9zY2FuLmNvbS9cIixcbiAgICAgIHRpY2tlcjogXCJDUk9cIixcbiAgICAgIHRpY2tlck5hbWU6IFwiQ3Jvbm9zXCIsXG4gICAgICBkZWNpbWFsczogMThcbiAgICB9O1xuICB9XG4gIGlmIChjaGFpbklkID09PSA4MjE3KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvZ286IFwiaHR0cHM6Ly9pbWFnZXMudG9ydXN3YWxsZXQuaW8va2xheS5zdmdcIixcbiAgICAgIGNoYWluTmFtZXNwYWNlLFxuICAgICAgY2hhaW5JZDogXCIweDIwMTlcIixcbiAgICAgIHJwY1RhcmdldDogXCJodHRwczovL3B1YmxpYy1ub2RlLWFwaS5rbGF5dG5hcGkuY29tL3YxL2N5cHJlc3NcIixcbiAgICAgIGRpc3BsYXlOYW1lOiBcIktsYXl0biBNYWlubmV0XCIsXG4gICAgICBibG9ja0V4cGxvcmVyVXJsOiBcImh0dHBzOi8vc2NvcGUua2xheXRuLmNvbVwiLFxuICAgICAgdGlja2VyOiBcIktMQVlcIixcbiAgICAgIHRpY2tlck5hbWU6IFwiS2xheXRuXCIsXG4gICAgICBkZWNpbWFsczogMThcbiAgICB9O1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmNvbnN0IGdldFNvbGFuYUNoYWluQ29uZmlnID0gY2hhaW5JZCA9PiB7XG4gIGNvbnN0IGNoYWluTmFtZXNwYWNlID0gQ0hBSU5fTkFNRVNQQUNFUy5TT0xBTkE7XG4gIGlmIChjaGFpbklkID09PSAxKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvZ286IFwiaHR0cHM6Ly9pbWFnZXMudG9ydXN3YWxsZXQuaW8vc29sLnN2Z1wiLFxuICAgICAgY2hhaW5OYW1lc3BhY2UsXG4gICAgICBjaGFpbklkOiBcIjB4MVwiLFxuICAgICAgcnBjVGFyZ2V0OiBcImh0dHBzOi8vcnBjLmFua3IuY29tL3NvbGFuYVwiLFxuICAgICAgZGlzcGxheU5hbWU6IFwiU29sYW5hIE1haW5uZXRcIixcbiAgICAgIGJsb2NrRXhwbG9yZXJVcmw6IFwiaHR0cHM6Ly9leHBsb3Jlci5zb2xhbmEuY29tXCIsXG4gICAgICB0aWNrZXI6IFwiU09MXCIsXG4gICAgICB0aWNrZXJOYW1lOiBcIlNvbGFuYVwiLFxuICAgICAgZGVjaW1hbHM6IDlcbiAgICB9O1xuICB9IGVsc2UgaWYgKGNoYWluSWQgPT09IDIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbG9nbzogXCJodHRwczovL2ltYWdlcy50b3J1c3dhbGxldC5pby9zb2wuc3ZnXCIsXG4gICAgICBjaGFpbk5hbWVzcGFjZSxcbiAgICAgIGNoYWluSWQ6IFwiMHgyXCIsXG4gICAgICBycGNUYXJnZXQ6IFwiaHR0cHM6Ly9hcGkudGVzdG5ldC5zb2xhbmEuY29tXCIsXG4gICAgICBkaXNwbGF5TmFtZTogXCJTb2xhbmEgVGVzdG5ldFwiLFxuICAgICAgYmxvY2tFeHBsb3JlclVybDogXCJodHRwczovL2V4cGxvcmVyLnNvbGFuYS5jb20/Y2x1c3Rlcj10ZXN0bmV0XCIsXG4gICAgICB0aWNrZXI6IFwiU09MXCIsXG4gICAgICB0aWNrZXJOYW1lOiBcIlNvbGFuYVwiLFxuICAgICAgZGVjaW1hbHM6IDlcbiAgICB9O1xuICB9IGVsc2UgaWYgKGNoYWluSWQgPT09IDMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbG9nbzogXCJodHRwczovL2ltYWdlcy50b3J1c3dhbGxldC5pby9zb2wuc3ZnXCIsXG4gICAgICBjaGFpbk5hbWVzcGFjZSxcbiAgICAgIGNoYWluSWQ6IFwiMHgzXCIsXG4gICAgICBycGNUYXJnZXQ6IFwiaHR0cHM6Ly9hcGkuZGV2bmV0LnNvbGFuYS5jb21cIixcbiAgICAgIGRpc3BsYXlOYW1lOiBcIlNvbGFuYSBEZXZuZXRcIixcbiAgICAgIGJsb2NrRXhwbG9yZXJVcmw6IFwiaHR0cHM6Ly9leHBsb3Jlci5zb2xhbmEuY29tP2NsdXN0ZXI9ZGV2bmV0XCIsXG4gICAgICB0aWNrZXI6IFwiU09MXCIsXG4gICAgICB0aWNrZXJOYW1lOiBcIlNvbGFuYVwiLFxuICAgICAgZGVjaW1hbHM6IDlcbiAgICB9O1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmNvbnN0IGdldFhycGxDaGFpbkNvbmZpZyA9IGNoYWluSWQgPT4ge1xuICBjb25zdCBjaGFpbk5hbWVzcGFjZSA9IENIQUlOX05BTUVTUEFDRVMuWFJQTDtcbiAgaWYgKGNoYWluSWQgPT09IDEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2hhaW5OYW1lc3BhY2UsXG4gICAgICBkZWNpbWFsczogMTUsXG4gICAgICBjaGFpbklkOiBcIjB4MVwiLFxuICAgICAgbG9nbzogXCJodHRwczovL2ltYWdlcy50b3J1c3dhbGxldC5pby9YUlAuc3ZnXCIsXG4gICAgICBycGNUYXJnZXQ6IFwiaHR0cHM6Ly9yaXBwbGUtbm9kZS50b3IudXNcIixcbiAgICAgIHdzVGFyZ2V0OiBcIndzczovL3MyLnJpcHBsZS5jb21cIixcbiAgICAgIHRpY2tlcjogXCJYUlBcIixcbiAgICAgIHRpY2tlck5hbWU6IFwiWFJQTFwiLFxuICAgICAgZGlzcGxheU5hbWU6IFwieHJwbCBtYWlubmV0XCIsXG4gICAgICBibG9ja0V4cGxvcmVyVXJsOiBcImh0dHBzOi8vbGl2ZW5ldC54cnBsLm9yZ1wiXG4gICAgfTtcbiAgfSBlbHNlIGlmIChjaGFpbklkID09PSAyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNoYWluTmFtZXNwYWNlLFxuICAgICAgZGVjaW1hbHM6IDE1LFxuICAgICAgY2hhaW5JZDogXCIweDJcIixcbiAgICAgIGxvZ286IFwiaHR0cHM6Ly9pbWFnZXMudG9ydXN3YWxsZXQuaW8vWFJQLnN2Z1wiLFxuICAgICAgcnBjVGFyZ2V0OiBcImh0dHBzOi8vdGVzdG5ldC1yaXBwbGUtbm9kZS50b3IudXNcIixcbiAgICAgIHdzVGFyZ2V0OiBcIndzczovL3MuYWx0bmV0LnJpcHBsZXRlc3QubmV0XCIsXG4gICAgICB0aWNrZXI6IFwiWFJQXCIsXG4gICAgICB0aWNrZXJOYW1lOiBcIlhSUExcIixcbiAgICAgIGRpc3BsYXlOYW1lOiBcInhycGwgdGVzdG5ldFwiLFxuICAgICAgYmxvY2tFeHBsb3JlclVybDogXCJodHRwczovL3Rlc3RuZXQueHJwbC5vcmdcIixcbiAgICAgIGlzVGVzdG5ldDogdHJ1ZVxuICAgIH07XG4gIH0gZWxzZSBpZiAoY2hhaW5JZCA9PT0gMykge1xuICAgIHJldHVybiB7XG4gICAgICBjaGFpbk5hbWVzcGFjZSxcbiAgICAgIGRlY2ltYWxzOiAxNSxcbiAgICAgIGNoYWluSWQ6IFwiMHgzXCIsXG4gICAgICBsb2dvOiBcImh0dHBzOi8vaW1hZ2VzLnRvcnVzd2FsbGV0LmlvL1hSUC5zdmdcIixcbiAgICAgIHJwY1RhcmdldDogXCJodHRwczovL2Rldm5ldC1yaXBwbGUtbm9kZS50b3IudXNcIixcbiAgICAgIHdzVGFyZ2V0OiBcIndzczovL3MuZGV2bmV0LnJpcHBsZXRlc3QubmV0L1wiLFxuICAgICAgdGlja2VyOiBcIlhSUFwiLFxuICAgICAgdGlja2VyTmFtZTogXCJYUlBMXCIsXG4gICAgICBkaXNwbGF5TmFtZTogXCJ4cnBsIGRldm5ldFwiLFxuICAgICAgYmxvY2tFeHBsb3JlclVybDogXCJodHRwczovL2Rldm5ldC54cnBsLm9yZ1wiLFxuICAgICAgaXNUZXN0bmV0OiB0cnVlXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5jb25zdCBnZXRDaGFpbkNvbmZpZyA9IChjaGFpbk5hbWVzcGFjZSwgY2hhaW5JZCkgPT4ge1xuICBpZiAoY2hhaW5OYW1lc3BhY2UgPT09IENIQUlOX05BTUVTUEFDRVMuT1RIRVIpIHJldHVybiBudWxsO1xuICBjb25zdCBmaW5hbENoYWluSWQgPSBjaGFpbklkID8gdHlwZW9mIGNoYWluSWQgPT09IFwibnVtYmVyXCIgPyBjaGFpbklkIDogcGFyc2VJbnQoY2hhaW5JZCwgMTYpIDogZ2V0RGVmYXVsdE5ldHdvcmtJZChjaGFpbk5hbWVzcGFjZSk7XG4gIGlmIChjaGFpbk5hbWVzcGFjZSA9PT0gQ0hBSU5fTkFNRVNQQUNFUy5FSVAxNTUpIHtcbiAgICByZXR1cm4gZ2V0RXZtQ2hhaW5Db25maWcoZmluYWxDaGFpbklkKTtcbiAgfSBlbHNlIGlmIChjaGFpbk5hbWVzcGFjZSA9PT0gQ0hBSU5fTkFNRVNQQUNFUy5TT0xBTkEpIHtcbiAgICByZXR1cm4gZ2V0U29sYW5hQ2hhaW5Db25maWcoZmluYWxDaGFpbklkKTtcbiAgfSBlbHNlIGlmIChjaGFpbk5hbWVzcGFjZSA9PT0gQ0hBSU5fTkFNRVNQQUNFUy5YUlBMKSB7XG4gICAgcmV0dXJuIGdldFhycGxDaGFpbkNvbmZpZyhmaW5hbENoYWluSWQpO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuY29uc3QgTVVMVElfQ0hBSU5fQURBUFRFUlMgPSB7XG4gIE9QRU5MT0dJTjogXCJvcGVubG9naW5cIixcbiAgV0FMTEVUX0NPTk5FQ1RfVjI6IFwid2FsbGV0LWNvbm5lY3QtdjJcIixcbiAgU0ZBOiBcInNmYVwiXG59O1xuY29uc3QgU09MQU5BX0FEQVBURVJTID0gX29iamVjdFNwcmVhZCh7XG4gIFRPUlVTX1NPTEFOQTogXCJ0b3J1cy1zb2xhbmFcIixcbiAgUEhBTlRPTTogXCJwaGFudG9tXCIsXG4gIFNPTEZMQVJFOiBcInNvbGZsYXJlXCJcbn0sIE1VTFRJX0NIQUlOX0FEQVBURVJTKTtcbmNvbnN0IEVWTV9BREFQVEVSUyA9IF9vYmplY3RTcHJlYWQoe1xuICBUT1JVU19FVk06IFwidG9ydXMtZXZtXCIsXG4gIE1FVEFNQVNLOiBcIm1ldGFtYXNrXCIsXG4gIENPSU5CQVNFOiBcImNvaW5iYXNlXCJcbn0sIE1VTFRJX0NIQUlOX0FEQVBURVJTKTtcbmNvbnN0IFdBTExFVF9BREFQVEVSUyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgRVZNX0FEQVBURVJTKSwgU09MQU5BX0FEQVBURVJTKTtcbmNvbnN0IEFEQVBURVJfTkFNRVMgPSB7XG4gIFtNVUxUSV9DSEFJTl9BREFQVEVSUy5PUEVOTE9HSU5dOiBcIk9wZW5Mb2dpblwiLFxuICBbTVVMVElfQ0hBSU5fQURBUFRFUlMuV0FMTEVUX0NPTk5FQ1RfVjJdOiBcIldhbGxldCBDb25uZWN0IHYyXCIsXG4gIFtNVUxUSV9DSEFJTl9BREFQVEVSUy5TRkFdOiBcIlNGQVwiLFxuICBbU09MQU5BX0FEQVBURVJTLlRPUlVTX1NPTEFOQV06IFwiVG9ydXNcIixcbiAgW1NPTEFOQV9BREFQVEVSUy5QSEFOVE9NXTogXCJQaGFudG9tXCIsXG4gIFtTT0xBTkFfQURBUFRFUlMuU09MRkxBUkVdOiBcIlNvbGZsYXJlXCIsXG4gIFtFVk1fQURBUFRFUlMuVE9SVVNfRVZNXTogXCJUb3J1c1wiLFxuICBbRVZNX0FEQVBURVJTLk1FVEFNQVNLXTogXCJNZXRhbWFza1wiLFxuICBbRVZNX0FEQVBURVJTLkNPSU5CQVNFXTogXCJDb2luYmFzZVwiXG59O1xuXG5jb25zdCBXRUIzQVVUSF9ORVRXT1JLID0gT1BFTkxPR0lOX05FVFdPUks7XG5jb25zdCBBREFQVEVSX0NBVEVHT1JZID0ge1xuICBFWFRFUk5BTDogXCJleHRlcm5hbFwiLFxuICBJTl9BUFA6IFwiaW5fYXBwXCJcbn07XG5jb25zdCBBREFQVEVSX1NUQVRVUyA9IHtcbiAgTk9UX1JFQURZOiBcIm5vdF9yZWFkeVwiLFxuICBSRUFEWTogXCJyZWFkeVwiLFxuICBDT05ORUNUSU5HOiBcImNvbm5lY3RpbmdcIixcbiAgQ09OTkVDVEVEOiBcImNvbm5lY3RlZFwiLFxuICBESVNDT05ORUNURUQ6IFwiZGlzY29ubmVjdGVkXCIsXG4gIEVSUk9SRUQ6IFwiZXJyb3JlZFwiXG59O1xuY29uc3QgQURBUFRFUl9FVkVOVFMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIEFEQVBURVJfU1RBVFVTKSwge30sIHtcbiAgQURBUFRFUl9EQVRBX1VQREFURUQ6IFwiYWRhcHRlcl9kYXRhX3VwZGF0ZWRcIixcbiAgQ0FDSEVfQ0xFQVI6IFwiY2FjaGVfY2xlYXJcIlxufSk7XG5jbGFzcyBCYXNlQWRhcHRlciBleHRlbmRzIFNhZmVFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcigpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFkYXB0ZXJEYXRhXCIsIHt9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXNzaW9uVGltZVwiLCA4NjQwMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50SWRcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3ZWIzQXV0aE5ldHdvcmtcIiwgT1BFTkxPR0lOX05FVFdPUksuTUFJTk5FVCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlQ29yZUtpdEtleVwiLCB1bmRlZmluZWQpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlaHlkcmF0ZWRcIiwgZmFsc2UpO1xuICAgIC8vIHNob3VsZCBiZSBhZGRlZCBpbiBjb25zdHJ1Y3RvciBvciBmcm9tIHNldEFkYXB0ZXJTZXR0aW5ncyBmdW5jdGlvblxuICAgIC8vIGJlZm9yZSBjYWxsaW5nIGluaXQgZnVuY3Rpb24uXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hhaW5Db25maWdcIiwgbnVsbCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwia25vd25DaGFpbkNvbmZpZ3NcIiwge30pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFkYXB0ZXJOYW1lc3BhY2VcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjdXJyZW50Q2hhaW5OYW1lc3BhY2VcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0eXBlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXR1c1wiLCB2b2lkIDApO1xuICAgIHRoaXMuc2V0QWRhcHRlclNldHRpbmdzKG9wdGlvbnMpO1xuICB9XG4gIGdldCBjaGFpbkNvbmZpZ1Byb3h5KCkge1xuICAgIHJldHVybiB0aGlzLmNoYWluQ29uZmlnID8gX29iamVjdFNwcmVhZCh7fSwgdGhpcy5jaGFpbkNvbmZpZykgOiBudWxsO1xuICB9XG4gIGdldCBjb25ubmVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXR1cyA9PT0gQURBUFRFUl9TVEFUVVMuQ09OTkVDVEVEO1xuICB9XG4gIHNldEFkYXB0ZXJTZXR0aW5ncyhvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSBBREFQVEVSX1NUQVRVUy5SRUFEWSkgcmV0dXJuO1xuICAgIGlmIChvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCAmJiBvcHRpb25zLnNlc3Npb25UaW1lKSB7XG4gICAgICB0aGlzLnNlc3Npb25UaW1lID0gb3B0aW9ucy5zZXNzaW9uVGltZTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwICYmIG9wdGlvbnMuY2xpZW50SWQpIHtcbiAgICAgIHRoaXMuY2xpZW50SWQgPSBvcHRpb25zLmNsaWVudElkO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgJiYgb3B0aW9ucy53ZWIzQXV0aE5ldHdvcmspIHtcbiAgICAgIHRoaXMud2ViM0F1dGhOZXR3b3JrID0gb3B0aW9ucy53ZWIzQXV0aE5ldHdvcms7XG4gICAgfVxuICAgIGlmICgob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnVzZUNvcmVLaXRLZXkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudXNlQ29yZUtpdEtleSA9IG9wdGlvbnMudXNlQ29yZUtpdEtleTtcbiAgICB9XG4gICAgY29uc3QgY3VzdG9tQ2hhaW5Db25maWcgPSBvcHRpb25zLmNoYWluQ29uZmlnO1xuICAgIGlmIChjdXN0b21DaGFpbkNvbmZpZykge1xuICAgICAgaWYgKCFjdXN0b21DaGFpbkNvbmZpZy5jaGFpbk5hbWVzcGFjZSkgdGhyb3cgV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvci5ub3RSZWFkeShcIkNoYWluTmFtZXNwYWNlIGlzIHJlcXVpcmVkIHdoaWxlIHNldHRpbmcgY2hhaW5Db25maWdcIik7XG4gICAgICB0aGlzLmN1cnJlbnRDaGFpbk5hbWVzcGFjZSA9IGN1c3RvbUNoYWluQ29uZmlnLmNoYWluTmFtZXNwYWNlO1xuICAgICAgLy8gY2hhaW5JZCBpcyBvcHRpb25hbCBpbiB0aGlzIGZ1bmN0aW9uLlxuICAgICAgLy8gd2UgZ28gd2l0aCBtYWlubmV0IGNoYWluSWQgYnkgZGVmYXVsdC5cbiAgICAgIGNvbnN0IGRlZmF1bHRDaGFpbkNvbmZpZyA9IGdldENoYWluQ29uZmlnKGN1c3RvbUNoYWluQ29uZmlnLmNoYWluTmFtZXNwYWNlLCBjdXN0b21DaGFpbkNvbmZpZy5jaGFpbklkKTtcbiAgICAgIC8vIE5PVEU6IEl0IGlzIGJlaW5nIGZvcmNlZCBjYXN0ZWQgdG8gQ3VzdG9tQ2hhaW5Db25maWcgdG8gaGFuZGxlIE9USEVSIENoYWlubmFtZXNwYWNlXG4gICAgICAvLyB3aGVyZSBjaGFpbkNvbmZpZyBpcyBub3QgcmVxdWlyZWQuXG4gICAgICBjb25zdCBmaW5hbENoYWluQ29uZmlnID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0Q2hhaW5Db25maWcgfHwge30pLCBjdXN0b21DaGFpbkNvbmZpZyk7XG4gICAgICB0aGlzLmNoYWluQ29uZmlnID0gZmluYWxDaGFpbkNvbmZpZztcbiAgICAgIHRoaXMuYWRkQ2hhaW5Db25maWcoZmluYWxDaGFpbkNvbmZpZyk7XG4gICAgfVxuICB9XG4gIGNoZWNrQ29ubmVjdGlvblJlcXVpcmVtZW50cygpIHtcbiAgICAvLyB3ZSByZWNvbm5lY3Qgd2l0aG91dCBraWxsaW5nIGV4aXN0aW5nIHdhbGxldCBjb25uZWN0IHNlc3Npb24gb24gY2FsbGluZyBjb25uZWN0IGFnYWluLlxuICAgIGlmICh0aGlzLm5hbWUgPT09IFdBTExFVF9BREFQVEVSUy5XQUxMRVRfQ09OTkVDVF9WMiAmJiB0aGlzLnN0YXR1cyA9PT0gQURBUFRFUl9TVEFUVVMuQ09OTkVDVElORykgcmV0dXJuO2Vsc2UgaWYgKHRoaXMuc3RhdHVzID09PSBBREFQVEVSX1NUQVRVUy5DT05ORUNUSU5HKSB0aHJvdyBXYWxsZXRJbml0aWFsaXphdGlvbkVycm9yLm5vdFJlYWR5KFwiQWxyZWFkeSBjb25uZWN0aW5nXCIpO1xuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gQURBUFRFUl9TVEFUVVMuQ09OTkVDVEVEKSB0aHJvdyBXYWxsZXRMb2dpbkVycm9yLmNvbm5lY3Rpb25FcnJvcihcIkFscmVhZHkgY29ubmVjdGVkXCIpO1xuICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gQURBUFRFUl9TVEFUVVMuUkVBRFkpIHRocm93IFdhbGxldExvZ2luRXJyb3IuY29ubmVjdGlvbkVycm9yKFwiV2FsbGV0IGFkYXB0ZXIgaXMgbm90IHJlYWR5IHlldCwgUGxlYXNlIHdhaXQgZm9yIGluaXQgZnVuY3Rpb24gdG8gcmVzb2x2ZSBiZWZvcmUgY2FsbGluZyBjb25uZWN0L2Nvbm5lY3RUbyBmdW5jdGlvblwiKTtcbiAgfVxuICBjaGVja0luaXRpYWxpemF0aW9uUmVxdWlyZW1lbnRzKCkge1xuICAgIGlmICghdGhpcy5jbGllbnRJZCkgdGhyb3cgV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvci5pbnZhbGlkUGFyYW1zKFwiUGxlYXNlIGluaXRpYWxpemUgV2ViM0F1dGggd2l0aCBhIHZhbGlkIGNsaWVudElkIGluIGNvbnN0cnVjdG9yXCIpO1xuICAgIGlmICghdGhpcy5jaGFpbkNvbmZpZykgdGhyb3cgV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvci5pbnZhbGlkUGFyYW1zKFwicnBjVGFyZ2V0IGlzIHJlcXVpcmVkIGluIGNoYWluQ29uZmlnXCIpO1xuICAgIGlmICghdGhpcy5jaGFpbkNvbmZpZy5ycGNUYXJnZXQgJiYgdGhpcy5jaGFpbkNvbmZpZy5jaGFpbk5hbWVzcGFjZSAhPT0gQ0hBSU5fTkFNRVNQQUNFUy5PVEhFUikge1xuICAgICAgdGhyb3cgV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvci5pbnZhbGlkUGFyYW1zKFwicnBjVGFyZ2V0IGlzIHJlcXVpcmVkIGluIGNoYWluQ29uZmlnXCIpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuY2hhaW5Db25maWcuY2hhaW5JZCAmJiB0aGlzLmNoYWluQ29uZmlnLmNoYWluTmFtZXNwYWNlICE9PSBDSEFJTl9OQU1FU1BBQ0VTLk9USEVSKSB7XG4gICAgICB0aHJvdyBXYWxsZXRJbml0aWFsaXphdGlvbkVycm9yLmludmFsaWRQYXJhbXMoXCJjaGFpbklEIGlzIHJlcXVpcmVkIGluIGNoYWluQ29uZmlnXCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IEFEQVBURVJfU1RBVFVTLk5PVF9SRUFEWSkgcmV0dXJuO1xuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gQURBUFRFUl9TVEFUVVMuQ09OTkVDVEVEKSB0aHJvdyBXYWxsZXRJbml0aWFsaXphdGlvbkVycm9yLm5vdFJlYWR5KFwiQWxyZWFkeSBjb25uZWN0ZWRcIik7XG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSBBREFQVEVSX1NUQVRVUy5SRUFEWSkgdGhyb3cgV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvci5ub3RSZWFkeShcIkFkYXB0ZXIgaXMgYWxyZWFkeSBpbml0aWFsaXplZFwiKTtcbiAgfVxuICBjaGVja0Rpc2Nvbm5lY3Rpb25SZXF1aXJlbWVudHMoKSB7XG4gICAgaWYgKHRoaXMuc3RhdHVzICE9PSBBREFQVEVSX1NUQVRVUy5DT05ORUNURUQpIHRocm93IFdhbGxldExvZ2luRXJyb3IuZGlzY29ubmVjdGlvbkVycm9yKFwiTm90IGNvbm5lY3RlZCB3aXRoIHdhbGxldFwiKTtcbiAgfVxuICBjaGVja0FkZENoYWluUmVxdWlyZW1lbnRzKGNoYWluQ29uZmlnLCBpbml0ID0gZmFsc2UpIHtcbiAgICBpZiAoIWluaXQgJiYgIXRoaXMucHJvdmlkZXIpIHRocm93IFdhbGxldExvZ2luRXJyb3Iubm90Q29ubmVjdGVkRXJyb3IoXCJOb3QgY29ubmVjdGVkIHdpdGggd2FsbGV0LlwiKTtcbiAgICBpZiAodGhpcy5jdXJyZW50Q2hhaW5OYW1lc3BhY2UgIT09IGNoYWluQ29uZmlnLmNoYWluTmFtZXNwYWNlKSB7XG4gICAgICB0aHJvdyBXYWxsZXRPcGVyYXRpb25zRXJyb3IuY2hhaW5OYW1lc3BhY2VOb3RBbGxvd2VkKFwiVGhpcyBhZGFwdGVyIGRvZXNuJ3Qgc3VwcG9ydCB0aGlzIGNoYWluTmFtZXNwYWNlXCIpO1xuICAgIH1cbiAgfVxuICBjaGVja1N3aXRjaENoYWluUmVxdWlyZW1lbnRzKHtcbiAgICBjaGFpbklkXG4gIH0sIGluaXQgPSBmYWxzZSkge1xuICAgIGlmICghaW5pdCAmJiAhdGhpcy5wcm92aWRlcikgdGhyb3cgV2FsbGV0TG9naW5FcnJvci5ub3RDb25uZWN0ZWRFcnJvcihcIk5vdCBjb25uZWN0ZWQgd2l0aCB3YWxsZXQuXCIpO1xuICAgIGlmICghdGhpcy5rbm93bkNoYWluQ29uZmlnc1tjaGFpbklkXSkgdGhyb3cgV2FsbGV0TG9naW5FcnJvci5jaGFpbkNvbmZpZ05vdEFkZGVkKFwiSW52YWxpZCBjaGFpbklkXCIpO1xuICB9XG4gIHVwZGF0ZUFkYXB0ZXJEYXRhKGRhdGEpIHtcbiAgICB0aGlzLmFkYXB0ZXJEYXRhID0gZGF0YTtcbiAgICB0aGlzLmVtaXQoQURBUFRFUl9FVkVOVFMuQURBUFRFUl9EQVRBX1VQREFURUQsIHtcbiAgICAgIGFkYXB0ZXJOYW1lOiB0aGlzLm5hbWUsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH1cbiAgYWRkQ2hhaW5Db25maWcoY2hhaW5Db25maWcpIHtcbiAgICBjb25zdCBjdXJyZW50Q29uZmlnID0gdGhpcy5rbm93bkNoYWluQ29uZmlnc1tjaGFpbkNvbmZpZy5jaGFpbklkXTtcbiAgICB0aGlzLmtub3duQ2hhaW5Db25maWdzW2NoYWluQ29uZmlnLmNoYWluSWRdID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjdXJyZW50Q29uZmlnIHx8IHt9KSwgY2hhaW5Db25maWcpO1xuICB9XG4gIGdldENoYWluQ29uZmlnKGNoYWluSWQpIHtcbiAgICByZXR1cm4gdGhpcy5rbm93bkNoYWluQ29uZmlnc1tjaGFpbklkXSB8fCBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3JhZ2VBdmFpbGFibGUodHlwZSkge1xuICBsZXQgc3RvcmFnZUV4aXN0cyA9IGZhbHNlO1xuICBsZXQgc3RvcmFnZUxlbmd0aCA9IDA7XG4gIGxldCBzdG9yYWdlO1xuICB0cnkge1xuICAgIHN0b3JhZ2UgPSB3aW5kb3dbdHlwZV07XG4gICAgc3RvcmFnZUV4aXN0cyA9IHRydWU7XG4gICAgc3RvcmFnZUxlbmd0aCA9IHN0b3JhZ2UubGVuZ3RoO1xuICAgIGNvbnN0IHggPSBcIl9fc3RvcmFnZV90ZXN0X19cIjtcbiAgICBzdG9yYWdlLnNldEl0ZW0oeCwgeCk7XG4gICAgc3RvcmFnZS5yZW1vdmVJdGVtKHgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnN0IF9lcnJvciA9IGVycm9yO1xuICAgIHJldHVybiAhIShfZXJyb3IgJiYgKFxuICAgIC8vIGV2ZXJ5dGhpbmcgZXhjZXB0IEZpcmVmb3hcbiAgICBfZXJyb3IuY29kZSA9PT0gMjIgfHxcbiAgICAvLyBGaXJlZm94XG4gICAgX2Vycm9yLmNvZGUgPT09IDEwMTQgfHxcbiAgICAvLyB0ZXN0IG5hbWUgZmllbGQgdG9vLCBiZWNhdXNlIGNvZGUgbWlnaHQgbm90IGJlIHByZXNlbnRcbiAgICAvLyBldmVyeXRoaW5nIGV4Y2VwdCBGaXJlZm94XG4gICAgX2Vycm9yLm5hbWUgPT09IFwiUXVvdGFFeGNlZWRlZEVycm9yXCIgfHxcbiAgICAvLyBGaXJlZm94XG4gICAgX2Vycm9yLm5hbWUgPT09IFwiTlNfRVJST1JfRE9NX1FVT1RBX1JFQUNIRURcIikgJiZcbiAgICAvLyBhY2tub3dsZWRnZSBRdW90YUV4Y2VlZGVkRXJyb3Igb25seSBpZiB0aGVyZSdzIHNvbWV0aGluZyBhbHJlYWR5IHN0b3JlZFxuICAgIHN0b3JhZ2VFeGlzdHMgJiYgc3RvcmFnZUxlbmd0aCAhPT0gMCk7XG4gIH1cbn1cbmNvbnN0IGlzSGV4U3RyaWN0ID0gaGV4ID0+IHtcbiAgcmV0dXJuICh0eXBlb2YgaGV4ID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBoZXggPT09IFwibnVtYmVyXCIpICYmIC9eKC0pPzB4WzAtOWEtZl0qJC9pLnRlc3QoaGV4KTtcbn07XG5jb25zdCBzaWduZXJIb3N0ID0gd2ViM0F1dGhOZXR3b3JrID0+IHtcbiAgcmV0dXJuIFNJR05FUl9NQVBbd2ViM0F1dGhOZXR3b3JrICE9PSBudWxsICYmIHdlYjNBdXRoTmV0d29yayAhPT0gdm9pZCAwID8gd2ViM0F1dGhOZXR3b3JrIDogV0VCM0FVVEhfTkVUV09SSy5TQVBQSElSRV9NQUlOTkVUXTtcbn07XG5jb25zdCBmZXRjaFByb2plY3RDb25maWcgPSBhc3luYyAoY2xpZW50SWQsIHdlYjNBdXRoTmV0d29yaykgPT4ge1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKGAke3NpZ25lckhvc3Qod2ViM0F1dGhOZXR3b3JrKX0vYXBpL2NvbmZpZ3VyYXRpb25gKTtcbiAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJwcm9qZWN0X2lkXCIsIGNsaWVudElkKTtcbiAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJuZXR3b3JrXCIsIHdlYjNBdXRoTmV0d29yayk7XG4gIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwid2hpdGVsaXN0XCIsIFwidHJ1ZVwiKTtcbiAgY29uc3QgcmVzID0gYXdhaXQgZ2V0KHVybC5ocmVmKTtcbiAgcmV0dXJuIHJlcztcbn07XG5cbi8vIE5vcm1hbGl6ZSB3YWxsZXQgbmFtZSB0byBhIHN0YW5kYXJkIGZvcm1hdCwgdXNlZCBmb3IgZXh0ZXJuYWwgd2FsbGV0cyB0aGF0IGFyZSBhdXRvLWRldGVjdGVkIGJ5IE1JUEQgKEVJUC02OTYzIGFuZCBXYWxsZXQgU3RhbmRhcmQpXG5jb25zdCBub3JtYWxpemVXYWxsZXROYW1lID0gbmFtZSA9PiB7XG4gIGxldCBub3JtYWxpemVkTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgLy8gcmVtb3ZlIGRlY3JpcHRpdmUgcGFydCBhZnRlciB8IGUuZy4gXCJDcnlwdG8uY29tIHwgRGVmaSBXYWxsZXRcIiA9PiBcIkNyeXB0by5jb21cIlxuICBub3JtYWxpemVkTmFtZSA9IG5vcm1hbGl6ZWROYW1lLnNwbGl0KFwifFwiKVswXTtcblxuICAvLyByZXBsYWNlIC0gIHdpdGggc3BhY2UgZS5nLiBcIlRydXN0IC0gV2FsbGV0XCIgPT4gXCJUcnVzdCBXYWxsZXRcIlxuICBub3JtYWxpemVkTmFtZSA9IG5vcm1hbGl6ZWROYW1lLnJlcGxhY2UoLy0vZywgXCIgXCIpO1xuXG4gIC8vIHJlcGxhY2UgbXVsdGlwbGUgc3BhY2VzIHdpdGggc2luZ2xlIHNwYWNlXG4gIG5vcm1hbGl6ZWROYW1lID0gbm9ybWFsaXplZE5hbWUucmVwbGFjZSgvXFxzKy9nLCBcIiBcIik7XG5cbiAgLy8gcmVtb3ZlIHRyYWlsaW5nIFwid2FsbGV0XCIgZS5nLiBcIlRydXN0IFdhbGxldFwiID0+IFwiVHJ1c3RcIiwgXCJHYXRlV2FsbGV0XCIgPT4gXCJHYXRlXCJcbiAgbm9ybWFsaXplZE5hbWUgPSBub3JtYWxpemVkTmFtZS5yZXBsYWNlKC93YWxsZXQkL2ksIFwiXCIpLnRyaW0oKTtcblxuICAvLyByZXBsYWNlIHNwYWNlIHdpdGggLVxuICBub3JtYWxpemVkTmFtZSA9IG5vcm1hbGl6ZWROYW1lLnJlcGxhY2UoL1xccy9nLCBcIi1cIik7XG4gIHJldHVybiBub3JtYWxpemVkTmFtZTtcbn07XG5cbmNvbnN0IGNoZWNrSWZUb2tlbklzRXhwaXJlZCA9IHRva2VuID0+IHtcbiAgY29uc3QgZGVjb2RlZCA9IGp3dERlY29kZSh0b2tlbik7XG4gIGlmICghZGVjb2RlZC5leHApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoZGVjb2RlZC5leHAgPCBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBnZXRTYXZlZFRva2VuID0gKHVzZXJBZGRyZXNzLCBpc3N1ZXIpID0+IHtcbiAgaWYgKHN0b3JhZ2VBdmFpbGFibGUoXCJsb2NhbFN0b3JhZ2VcIikpIHtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYCR7dXNlckFkZHJlc3MudG9Mb3dlckNhc2UoKX1fJHtpc3N1ZXJ9YCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuY29uc3Qgc2F2ZVRva2VuID0gKHVzZXJBZGRyZXNzLCBpc3N1ZXIsIHRva2VuKSA9PiB7XG4gIGlmIChzdG9yYWdlQXZhaWxhYmxlKFwibG9jYWxTdG9yYWdlXCIpKSB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGAke3VzZXJBZGRyZXNzLnRvTG93ZXJDYXNlKCl9XyR7aXNzdWVyfWAsIHRva2VuKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5jb25zdCBjbGVhclRva2VuID0gKHVzZXJBZGRyZXNzLCBpc3N1ZXIpID0+IHtcbiAgaWYgKHN0b3JhZ2VBdmFpbGFibGUoXCJsb2NhbFN0b3JhZ2VcIikpIHtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYCR7dXNlckFkZHJlc3MudG9Mb3dlckNhc2UoKX1fJHtpc3N1ZXJ9YCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG52YXIgbG9nbGV2ZWwgPSBsb2dsZXZlbCQxLmdldExvZ2dlcihcIndlYjNhdXRoLWxvZ2dlclwiKTtcblxuY2xhc3MgV2FsbGV0U2VydmljZXNQbHVnaW5FcnJvciBleHRlbmRzIFdlYjNBdXRoRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcihjb2RlLCBtZXNzYWdlLCBjYXVzZSkge1xuICAgIC8vIHRha2VzIGNhcmUgb2Ygc3RhY2sgYW5kIHByb3RvXG4gICAgc3VwZXIoY29kZSwgbWVzc2FnZSwgY2F1c2UpO1xuXG4gICAgLy8gU2V0IG5hbWUgZXhwbGljaXRseSBhcyBtaW5pZmljYXRpb24gY2FuIG1hbmdsZSBjbGFzcyBuYW1lc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgdmFsdWU6IFwiV2FsbGV0U2VydmljZXNQbHVnaW5FcnJvclwiXG4gICAgfSk7XG4gIH1cbiAgc3RhdGljIGZyb21Db2RlKGNvZGUsIGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIG5ldyBXYWxsZXRTZXJ2aWNlc1BsdWdpbkVycm9yKGNvZGUsIGAke1dhbGxldFNlcnZpY2VzUGx1Z2luRXJyb3IubWVzc2FnZXNbY29kZV19JHtleHRyYU1lc3NhZ2V9YCwgY2F1c2UpO1xuICB9XG4gIHN0YXRpYyBub3RJbml0aWFsaXplZChleHRyYU1lc3NhZ2UgPSBcIlwiLCBjYXVzZSkge1xuICAgIHJldHVybiBXYWxsZXRTZXJ2aWNlc1BsdWdpbkVycm9yLmZyb21Db2RlKDUyMTAsIGV4dHJhTWVzc2FnZSwgY2F1c2UpO1xuICB9XG4gIHN0YXRpYyB1bnN1cHBvcnRlZEFkYXB0ZXIoZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gV2FsbGV0U2VydmljZXNQbHVnaW5FcnJvci5mcm9tQ29kZSg1MjExLCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxuICBzdGF0aWMgcHJvdmlkZXJSZXF1aXJlZChleHRyYU1lc3NhZ2UgPSBcIlwiLCBjYXVzZSkge1xuICAgIHJldHVybiBXYWxsZXRTZXJ2aWNlc1BsdWdpbkVycm9yLmZyb21Db2RlKDUyMTIsIGV4dHJhTWVzc2FnZSwgY2F1c2UpO1xuICB9XG4gIHN0YXRpYyB3ZWIzYXV0aFJlcXVpcmVkKGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldFNlcnZpY2VzUGx1Z2luRXJyb3IuZnJvbUNvZGUoNTIxMywgZXh0cmFNZXNzYWdlLCBjYXVzZSk7XG4gIH1cbiAgc3RhdGljIHdlYjNBdXRoTm90Q29ubmVjdGVkKGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldFNlcnZpY2VzUGx1Z2luRXJyb3IuZnJvbUNvZGUoNTIxNCwgZXh0cmFNZXNzYWdlLCBjYXVzZSk7XG4gIH1cbiAgc3RhdGljIGFscmVhZHlJbml0aWFsaXplZChleHRyYU1lc3NhZ2UgPSBcIlwiLCBjYXVzZSkge1xuICAgIHJldHVybiBXYWxsZXRTZXJ2aWNlc1BsdWdpbkVycm9yLmZyb21Db2RlKDUyMTYsIGV4dHJhTWVzc2FnZSwgY2F1c2UpO1xuICB9XG4gIHN0YXRpYyB1bnN1cHBvcnRlZENoYWluTmFtZXNwYWNlKGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldFNlcnZpY2VzUGx1Z2luRXJyb3IuZnJvbUNvZGUoNTIxOCwgZXh0cmFNZXNzYWdlLCBjYXVzZSk7XG4gIH1cbiAgc3RhdGljIGRpZmZlcmVudFdlYjNBdXRoTmV0d29yayhleHRyYU1lc3NhZ2UgPSBcIlwiLCBjYXVzZSkge1xuICAgIHJldHVybiBXYWxsZXRTZXJ2aWNlc1BsdWdpbkVycm9yLmZyb21Db2RlKDUyMTksIGV4dHJhTWVzc2FnZSwgY2F1c2UpO1xuICB9XG4gIHN0YXRpYyBpbnZhbGlkUGFyYW1zKGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldFNlcnZpY2VzUGx1Z2luRXJyb3IuZnJvbUNvZGUoNTIyMCwgZXh0cmFNZXNzYWdlLCBjYXVzZSk7XG4gIH1cbiAgc3RhdGljIHdlYjNhdXRoTm90SW5pdGlhbGl6ZWQoZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gV2FsbGV0U2VydmljZXNQbHVnaW5FcnJvci5mcm9tQ29kZSg1MjIxLCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxuICBzdGF0aWMgaW52YWxpZFNlc3Npb24oZXh0cmFNZXNzYWdlID0gXCJcIiwgY2F1c2UpIHtcbiAgICByZXR1cm4gV2FsbGV0U2VydmljZXNQbHVnaW5FcnJvci5mcm9tQ29kZSg1MjIyLCBleHRyYU1lc3NhZ2UsIGNhdXNlKTtcbiAgfVxuICBzdGF0aWMgd2FsbGV0UGx1Z2luTm90Q29ubmVjdGVkKGV4dHJhTWVzc2FnZSA9IFwiXCIsIGNhdXNlKSB7XG4gICAgcmV0dXJuIFdhbGxldFNlcnZpY2VzUGx1Z2luRXJyb3IuZnJvbUNvZGUoNTIyMywgZXh0cmFNZXNzYWdlLCBjYXVzZSk7XG4gIH1cbn1cbl9kZWZpbmVQcm9wZXJ0eShXYWxsZXRTZXJ2aWNlc1BsdWdpbkVycm9yLCBcIm1lc3NhZ2VzXCIsIHtcbiAgNTIxMDogXCJXYWxsZXQgU2VydmljZXMgUGx1Z2luIGlzIG5vdCBpbml0aWFsaXplZFwiLFxuICA1MjExOiBcIldlYjNBdXRoIGlzIGNvbm5lY3RlZCB0byB1bnN1cHBvcnRlZCBhZGFwdGVyLiBXYWxsZXQgc2VydmljZXMgY29ubmVjdG9yIHBsdWdpbiByZXF1aXJlcyB3ZWIzYXV0aCBjb25uZWN0ZWQgdG8gb3BlbmxvZ2luIGFkYXB0ZXIuXCIsXG4gIDUyMTI6IFwiUHJvdmlkZXIgaXMgcmVxdWlyZWQuLlwiLFxuICA1MjEzOiBcIldlYjNBdXRoIGluc3RhbmNlIGlzIHJlcXVpcmVkIHdoaWxlIGluaXRpYWxpemF0aW9uLlwiLFxuICA1MjE0OiBcIldlYjNBdXRoIGlzIG5vdCBjb25uZWN0ZWQuXCIsXG4gIDUyMTY6IFwiUGx1Z2luIGlzIGFscmVhZHkgaW5pdGlhbGl6ZWRcIixcbiAgNTIxODogXCJVbnN1cHBvcnRlZCBjaGFpbiBuYW1lc3BhY2UuXCIsXG4gIDUyMTk6IFwiUGx1Z2luIG5ldHdvcmsgZGlmZmVyZW50IHRoYW4gd2ViM2F1dGggaW5zdGFuY2UgbmV0d29yay5cIixcbiAgNTIyMTogXCJXZWIzQXV0aCBpcyBub3QgaW5pdGlhbGl6ZWRcIixcbiAgNTIyMjogXCJJbnZhbGlkIHNlc3Npb24gaW5zaWRlIHdhbGxldCBzZXJ2aWNlcy4gUGxlYXNlIHJlcG9ydCB0aGlzIGlzc3VlLlwiLFxuICA1MjIzOiBcIldhbGxldCBwbHVnaW4gaXMgbm90IGNvbm5lY3RlZCBZZXQuIFBsZWFzZSB3YWl0IGZvciBwbHVnaW4gdG8gY29ubmVjdCBhbmQgbGlzdGVuIHZpYSBgY29ubmVjdGVkYCBldmVudCBvbiB0aGUgcGx1Z2luXCJcbn0pO1xuXG5jb25zdCBQTFVHSU5fTkFNRVNQQUNFUyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgQ0hBSU5fTkFNRVNQQUNFUyksIHt9LCB7XG4gIE1VTFRJQ0hBSU46IFwibXVsdGljaGFpblwiXG59KTtcbmNvbnN0IFBMVUdJTl9TVEFUVVMgPSB7XG4gIFJFQURZOiBcInJlYWR5XCIsXG4gIENPTk5FQ1RJTkc6IFwiY29ubmVjdGluZ1wiLFxuICBDT05ORUNURUQ6IFwiY29ubmVjdGVkXCIsXG4gIERJU0NPTk5FQ1RFRDogXCJkaXNjb25uZWN0ZWRcIixcbiAgRVJST1JFRDogXCJlcnJvcmVkXCJcbn07XG5jb25zdCBQTFVHSU5fRVZFTlRTID0gX29iamVjdFNwcmVhZCh7fSwgUExVR0lOX1NUQVRVUyk7XG5jb25zdCBFVk1fUExVR0lOUyA9IHtcbiAgV0FMTEVUX1NFUlZJQ0VTOiBcIndhbGxldC1zZXJ2aWNlc1wiXG59O1xuY29uc3QgU09MQU5BX1BMVUdJTlMgPSB7XG4gIFNPTEFOQTogXCJzb2xhbmFcIlxufTtcbmNvbnN0IFdBTExFVF9QTFVHSU5TID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBFVk1fUExVR0lOUyksIFNPTEFOQV9QTFVHSU5TKTtcblxuY29uc3QgUFJPVklERVJfRVZFTlRTID0ge1xuICBJTklUSUFMSVpFRDogXCJpbml0aWFsaXplZFwiLFxuICBFUlJPUkVEOiBcImVycm9yZWRcIlxufTtcblxuZXhwb3J0IHsgQURBUFRFUl9DQVRFR09SWSwgQURBUFRFUl9FVkVOVFMsIEFEQVBURVJfTkFNRVMsIEFEQVBURVJfTkFNRVNQQUNFUywgQURBUFRFUl9TVEFUVVMsIEJhc2VBZGFwdGVyLCBDSEFJTl9OQU1FU1BBQ0VTLCBFVk1fQURBUFRFUlMsIEVWTV9QTFVHSU5TLCBNVUxUSV9DSEFJTl9BREFQVEVSUywgUExVR0lOX0VWRU5UUywgUExVR0lOX05BTUVTUEFDRVMsIFBMVUdJTl9TVEFUVVMsIFBST1ZJREVSX0VWRU5UUywgU09MQU5BX0FEQVBURVJTLCBTT0xBTkFfUExVR0lOUywgV0FMTEVUX0FEQVBURVJTLCBXQUxMRVRfUExVR0lOUywgV0VCM0FVVEhfTkVUV09SSywgV2FsbGV0SW5pdGlhbGl6YXRpb25FcnJvciwgV2FsbGV0TG9naW5FcnJvciwgV2FsbGV0T3BlcmF0aW9uc0Vycm9yLCBXYWxsZXRQcm92aWRlckVycm9yLCBXYWxsZXRTZXJ2aWNlc1BsdWdpbkVycm9yLCBXZWIzQXV0aEVycm9yLCBjaGVja0lmVG9rZW5Jc0V4cGlyZWQsIGNsZWFyVG9rZW4sIGZldGNoUHJvamVjdENvbmZpZywgZ2V0Q2hhaW5Db25maWcsIGdldEV2bUNoYWluQ29uZmlnLCBnZXRTYXZlZFRva2VuLCBnZXRTb2xhbmFDaGFpbkNvbmZpZywgZ2V0WHJwbENoYWluQ29uZmlnLCBpc0hleFN0cmljdCwgbG9nbGV2ZWwgYXMgbG9nLCBub3JtYWxpemVXYWxsZXROYW1lLCBzYXZlVG9rZW4sIHNlcmlhbGl6ZUVycm9yLCBzaWduZXJIb3N0LCBzdG9yYWdlQXZhaWxhYmxlIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@web3auth+base@8.12.4_@babel+runtime@7.28.4/node_modules/@web3auth/base/dist/base.esm.js\n");

/***/ })

};
;