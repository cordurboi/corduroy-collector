"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@ethereumjs+tx@5.4.0";
exports.ids = ["vendor-chunks/@ethereumjs+tx@5.4.0"];
exports.modules = {

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/baseTransaction.js":
/*!*************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/baseTransaction.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseTransaction: () => (/* binding */ BaseTransaction)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/common */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+common@4.4.0/node_modules/@ethereumjs/common/dist/esm/index.js\");\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+util@9.1.0/node_modules/@ethereumjs/util/dist/esm/index.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/types.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/util.js\");\n\n\n\n\n/**\n * This base class will likely be subject to further\n * refactoring along the introduction of additional tx types\n * on the Ethereum network.\n *\n * It is therefore not recommended to use directly.\n */\nclass BaseTransaction {\n    constructor(txData, opts) {\n        this.cache = {\n            hash: undefined,\n            dataFee: undefined,\n            senderPubKey: undefined,\n        };\n        /**\n         * List of tx type defining EIPs,\n         * e.g. 1559 (fee market) and 2930 (access lists)\n         * for FeeMarketEIP1559Transaction objects\n         */\n        this.activeCapabilities = [];\n        /**\n         * The default chain the tx falls back to if no Common\n         * is provided and if the chain can't be derived from\n         * a passed in chainId (only EIP-2718 typed txs) or\n         * EIP-155 signature (legacy txs).\n         *\n         * @hidden\n         */\n        this.DEFAULT_CHAIN = _ethereumjs_common__WEBPACK_IMPORTED_MODULE_0__.Chain.Mainnet;\n        const { nonce, gasLimit, to, value, data, v, r, s, type } = txData;\n        this._type = Number((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(type)));\n        this.txOptions = opts;\n        const toB = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(to === '' ? '0x' : to);\n        const vB = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(v);\n        const rB = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(r);\n        const sB = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(s);\n        this.nonce = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(nonce));\n        this.gasLimit = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(gasLimit));\n        this.to = toB.length > 0 ? new _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.Address(toB) : undefined;\n        this.value = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(value));\n        this.data = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(data === '' ? '0x' : data);\n        this.v = vB.length > 0 ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(vB) : undefined;\n        this.r = rB.length > 0 ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(rB) : undefined;\n        this.s = sB.length > 0 ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(sB) : undefined;\n        this._validateCannotExceedMaxInteger({ value: this.value, r: this.r, s: this.s });\n        // geth limits gasLimit to 2^64-1\n        this._validateCannotExceedMaxInteger({ gasLimit: this.gasLimit }, 64);\n        // EIP-2681 limits nonce to 2^64-1 (cannot equal 2^64-1)\n        this._validateCannotExceedMaxInteger({ nonce: this.nonce }, 64, true);\n        const createContract = this.to === undefined || this.to === null;\n        const allowUnlimitedInitCodeSize = opts.allowUnlimitedInitCodeSize ?? false;\n        const common = opts.common ?? this._getCommon();\n        if (createContract && common.isActivatedEIP(3860) && allowUnlimitedInitCodeSize === false) {\n            (0,_util_js__WEBPACK_IMPORTED_MODULE_3__.checkMaxInitCodeSize)(common, this.data.length);\n        }\n    }\n    /**\n     * Returns the transaction type.\n     *\n     * Note: legacy txs will return tx type `0`.\n     */\n    get type() {\n        return this._type;\n    }\n    /**\n     * Checks if a tx type defining capability is active\n     * on a tx, for example the EIP-1559 fee market mechanism\n     * or the EIP-2930 access list feature.\n     *\n     * Note that this is different from the tx type itself,\n     * so EIP-2930 access lists can very well be active\n     * on an EIP-1559 tx for example.\n     *\n     * This method can be useful for feature checks if the\n     * tx type is unknown (e.g. when instantiated with\n     * the tx factory).\n     *\n     * See `Capabilities` in the `types` module for a reference\n     * on all supported capabilities.\n     */\n    supports(capability) {\n        return this.activeCapabilities.includes(capability);\n    }\n    /**\n     * Validates the transaction signature and minimum gas requirements.\n     * @returns {string[]} an array of error strings\n     */\n    getValidationErrors() {\n        const errors = [];\n        if (this.isSigned() && !this.verifySignature()) {\n            errors.push('Invalid Signature');\n        }\n        if (this.getBaseFee() > this.gasLimit) {\n            errors.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`);\n        }\n        return errors;\n    }\n    /**\n     * Validates the transaction signature and minimum gas requirements.\n     * @returns {boolean} true if the transaction is valid, false otherwise\n     */\n    isValid() {\n        const errors = this.getValidationErrors();\n        return errors.length === 0;\n    }\n    /**\n     * The minimum amount of gas the tx must have (DataFee + TxFee + Creation Fee)\n     */\n    getBaseFee() {\n        const txFee = this.common.param('gasPrices', 'tx');\n        let fee = this.getDataFee();\n        if (txFee)\n            fee += txFee;\n        if (this.common.gteHardfork('homestead') && this.toCreationAddress()) {\n            const txCreationFee = this.common.param('gasPrices', 'txCreation');\n            if (txCreationFee)\n                fee += txCreationFee;\n        }\n        return fee;\n    }\n    /**\n     * The amount of gas paid for the data in this tx\n     */\n    getDataFee() {\n        const txDataZero = this.common.param('gasPrices', 'txDataZero');\n        const txDataNonZero = this.common.param('gasPrices', 'txDataNonZero');\n        let cost = _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.BIGINT_0;\n        for (let i = 0; i < this.data.length; i++) {\n            this.data[i] === 0 ? (cost += txDataZero) : (cost += txDataNonZero);\n        }\n        if ((this.to === undefined || this.to === null) && this.common.isActivatedEIP(3860)) {\n            const dataLength = BigInt(Math.ceil(this.data.length / 32));\n            const initCodeCost = this.common.param('gasPrices', 'initCodeWordCost') * dataLength;\n            cost += initCodeCost;\n        }\n        return cost;\n    }\n    /**\n     * If the tx's `to` is to the creation address\n     */\n    toCreationAddress() {\n        return this.to === undefined || this.to.bytes.length === 0;\n    }\n    isSigned() {\n        const { v, r, s } = this;\n        if (v === undefined || r === undefined || s === undefined) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    /**\n     * Determines if the signature is valid\n     */\n    verifySignature() {\n        try {\n            // Main signature verification is done in `getSenderPublicKey()`\n            const publicKey = this.getSenderPublicKey();\n            return (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.unpadBytes)(publicKey).length !== 0;\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    /**\n     * Returns the sender's address\n     */\n    getSenderAddress() {\n        return new _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.Address((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.publicToAddress)(this.getSenderPublicKey()));\n    }\n    /**\n     * Signs a transaction.\n     *\n     * Note that the signed tx is returned as a new object,\n     * use as follows:\n     * ```javascript\n     * const signedTx = tx.sign(privateKey)\n     * ```\n     */\n    sign(privateKey) {\n        if (privateKey.length !== 32) {\n            const msg = this._errorMsg('Private key must be 32 bytes in length.');\n            throw new Error(msg);\n        }\n        // Hack for the constellation that we have got a legacy tx after spuriousDragon with a non-EIP155 conforming signature\n        // and want to recreate a signature (where EIP155 should be applied)\n        // Leaving this hack lets the legacy.spec.ts -> sign(), verifySignature() test fail\n        // 2021-06-23\n        let hackApplied = false;\n        if (this.type === _types_js__WEBPACK_IMPORTED_MODULE_2__.TransactionType.Legacy &&\n            this.common.gteHardfork('spuriousDragon') &&\n            !this.supports(_types_js__WEBPACK_IMPORTED_MODULE_2__.Capability.EIP155ReplayProtection)) {\n            this.activeCapabilities.push(_types_js__WEBPACK_IMPORTED_MODULE_2__.Capability.EIP155ReplayProtection);\n            hackApplied = true;\n        }\n        const msgHash = this.getHashedMessageToSign();\n        const ecSignFunction = this.common.customCrypto?.ecsign ?? _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.ecsign;\n        const { v, r, s } = ecSignFunction(msgHash, privateKey);\n        const tx = this.addSignature(v, r, s, true);\n        // Hack part 2\n        if (hackApplied) {\n            const index = this.activeCapabilities.indexOf(_types_js__WEBPACK_IMPORTED_MODULE_2__.Capability.EIP155ReplayProtection);\n            if (index > -1) {\n                this.activeCapabilities.splice(index, 1);\n            }\n        }\n        return tx;\n    }\n    /**\n     * Returns an object with the JSON representation of the transaction\n     */\n    toJSON() {\n        return {\n            type: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(BigInt(this.type)),\n            nonce: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.nonce),\n            gasLimit: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.gasLimit),\n            to: this.to !== undefined ? this.to.toString() : undefined,\n            value: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.value),\n            data: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(this.data),\n            v: this.v !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.v) : undefined,\n            r: this.r !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.r) : undefined,\n            s: this.s !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.s) : undefined,\n        };\n    }\n    /**\n     * Does chain ID checks on common and returns a common\n     * to be used on instantiation\n     * @hidden\n     *\n     * @param common - {@link Common} instance from tx options\n     * @param chainId - Chain ID from tx options (typed txs) or signature (legacy tx)\n     */\n    _getCommon(common, chainId) {\n        // Chain ID provided\n        if (chainId !== undefined) {\n            const chainIdBigInt = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(chainId));\n            if (common) {\n                if (common.chainId() !== chainIdBigInt) {\n                    const msg = this._errorMsg(`The chain ID does not match the chain ID of Common. Got: ${chainIdBigInt}, expected: ${common.chainId()}`);\n                    throw new Error(msg);\n                }\n                // Common provided, chain ID does match\n                // -> Return provided Common\n                return common.copy();\n            }\n            else {\n                if (_ethereumjs_common__WEBPACK_IMPORTED_MODULE_0__.Common.isSupportedChainId(chainIdBigInt)) {\n                    // No Common, chain ID supported by Common\n                    // -> Instantiate Common with chain ID\n                    return new _ethereumjs_common__WEBPACK_IMPORTED_MODULE_0__.Common({ chain: chainIdBigInt });\n                }\n                else {\n                    // No Common, chain ID not supported by Common\n                    // -> Instantiate custom Common derived from DEFAULT_CHAIN\n                    return _ethereumjs_common__WEBPACK_IMPORTED_MODULE_0__.Common.custom({\n                        name: 'custom-chain',\n                        networkId: chainIdBigInt,\n                        chainId: chainIdBigInt,\n                    }, { baseChain: this.DEFAULT_CHAIN });\n                }\n            }\n        }\n        else {\n            // No chain ID provided\n            // -> return Common provided or create new default Common\n            return common?.copy() ?? new _ethereumjs_common__WEBPACK_IMPORTED_MODULE_0__.Common({ chain: this.DEFAULT_CHAIN });\n        }\n    }\n    /**\n     * Validates that an object with BigInt values cannot exceed the specified bit limit.\n     * @param values Object containing string keys and BigInt values\n     * @param bits Number of bits to check (64 or 256)\n     * @param cannotEqual Pass true if the number also cannot equal one less the maximum value\n     */\n    _validateCannotExceedMaxInteger(values, bits = 256, cannotEqual = false) {\n        for (const [key, value] of Object.entries(values)) {\n            switch (bits) {\n                case 64:\n                    if (cannotEqual) {\n                        if (value !== undefined && value >= _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.MAX_UINT64) {\n                            const msg = this._errorMsg(`${key} cannot equal or exceed MAX_UINT64 (2^64-1), given ${value}`);\n                            throw new Error(msg);\n                        }\n                    }\n                    else {\n                        if (value !== undefined && value > _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.MAX_UINT64) {\n                            const msg = this._errorMsg(`${key} cannot exceed MAX_UINT64 (2^64-1), given ${value}`);\n                            throw new Error(msg);\n                        }\n                    }\n                    break;\n                case 256:\n                    if (cannotEqual) {\n                        if (value !== undefined && value >= _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.MAX_INTEGER) {\n                            const msg = this._errorMsg(`${key} cannot equal or exceed MAX_INTEGER (2^256-1), given ${value}`);\n                            throw new Error(msg);\n                        }\n                    }\n                    else {\n                        if (value !== undefined && value > _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.MAX_INTEGER) {\n                            const msg = this._errorMsg(`${key} cannot exceed MAX_INTEGER (2^256-1), given ${value}`);\n                            throw new Error(msg);\n                        }\n                    }\n                    break;\n                default: {\n                    const msg = this._errorMsg('unimplemented bits value');\n                    throw new Error(msg);\n                }\n            }\n        }\n    }\n    static _validateNotArray(values) {\n        const txDataKeys = [\n            'nonce',\n            'gasPrice',\n            'gasLimit',\n            'to',\n            'value',\n            'data',\n            'v',\n            'r',\n            's',\n            'type',\n            'baseFee',\n            'maxFeePerGas',\n            'chainId',\n        ];\n        for (const [key, value] of Object.entries(values)) {\n            if (txDataKeys.includes(key)) {\n                if (Array.isArray(value)) {\n                    throw new Error(`${key} cannot be an array`);\n                }\n            }\n        }\n    }\n    /**\n     * Returns the shared error postfix part for _error() method\n     * tx type implementations.\n     */\n    _getSharedErrorPostfix() {\n        let hash = '';\n        try {\n            hash = this.isSigned() ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(this.hash()) : 'not available (unsigned)';\n        }\n        catch (e) {\n            hash = 'error';\n        }\n        let isSigned = '';\n        try {\n            isSigned = this.isSigned().toString();\n        }\n        catch (e) {\n            hash = 'error';\n        }\n        let hf = '';\n        try {\n            hf = this.common.hardfork();\n        }\n        catch (e) {\n            hf = 'error';\n        }\n        let postfix = `tx type=${this.type} hash=${hash} nonce=${this.nonce} value=${this.value} `;\n        postfix += `signed=${isSigned} hf=${hf}`;\n        return postfix;\n    }\n}\n//# sourceMappingURL=baseTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9iYXNlVHJhbnNhY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUQ7QUFDa0g7QUFDNUc7QUFDUjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixxREFBSztBQUNsQyxnQkFBZ0Isa0RBQWtEO0FBQ2xFLDRCQUE0QiwrREFBYSxDQUFDLHlEQUFPO0FBQ2pEO0FBQ0Esb0JBQW9CLHlEQUFPO0FBQzNCLG1CQUFtQix5REFBTztBQUMxQixtQkFBbUIseURBQU87QUFDMUIsbUJBQW1CLHlEQUFPO0FBQzFCLHFCQUFxQiwrREFBYSxDQUFDLHlEQUFPO0FBQzFDLHdCQUF3QiwrREFBYSxDQUFDLHlEQUFPO0FBQzdDLHVDQUF1QyxxREFBTztBQUM5QyxxQkFBcUIsK0RBQWEsQ0FBQyx5REFBTztBQUMxQyxvQkFBb0IseURBQU87QUFDM0IsaUNBQWlDLCtEQUFhO0FBQzlDLGlDQUFpQywrREFBYTtBQUM5QyxpQ0FBaUMsK0RBQWE7QUFDOUMsK0NBQStDLHlDQUF5QztBQUN4RjtBQUNBLCtDQUErQyx5QkFBeUI7QUFDeEU7QUFDQSwrQ0FBK0MsbUJBQW1CO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4REFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsVUFBVTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxjQUFjLGtCQUFrQixrQkFBa0I7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0RBQVE7QUFDM0Isd0JBQXdCLHNCQUFzQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNERBQVU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHFEQUFPLENBQUMsaUVBQWU7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixzREFBZTtBQUN6QztBQUNBLDJCQUEyQixpREFBVTtBQUNyQyx5Q0FBeUMsaURBQVU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLG9EQUFNO0FBQ3pFLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxpREFBVTtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDZEQUFXO0FBQzdCLG1CQUFtQiw2REFBVztBQUM5QixzQkFBc0IsNkRBQVc7QUFDakM7QUFDQSxtQkFBbUIsNkRBQVc7QUFDOUIsa0JBQWtCLDREQUFVO0FBQzVCLHNDQUFzQyw2REFBVztBQUNqRCxzQ0FBc0MsNkRBQVc7QUFDakQsc0NBQXNDLDZEQUFXO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGNBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywrREFBYSxDQUFDLHlEQUFPO0FBQ3ZEO0FBQ0E7QUFDQSwyR0FBMkcsY0FBYyxjQUFjLGlCQUFpQjtBQUN4SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzREFBTTtBQUMxQjtBQUNBO0FBQ0EsK0JBQStCLHNEQUFNLEdBQUcsc0JBQXNCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHNEQUFNO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixJQUFJLCtCQUErQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsc0RBQU0sR0FBRywyQkFBMkI7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsd0RBQVU7QUFDdEUsMERBQTBELEtBQUssb0RBQW9ELE1BQU07QUFDekg7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsd0RBQVU7QUFDckUsMERBQTBELEtBQUssMkNBQTJDLE1BQU07QUFDaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELHlEQUFXO0FBQ3ZFLDBEQUEwRCxLQUFLLHNEQUFzRCxNQUFNO0FBQzNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHlEQUFXO0FBQ3RFLDBEQUEwRCxLQUFLLDZDQUE2QyxNQUFNO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxLQUFLO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsNERBQVU7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLFdBQVcsT0FBTyxNQUFNLFFBQVEsWUFBWSxRQUFRLFlBQVk7QUFDakcsNkJBQTZCLFVBQVUsS0FBSyxHQUFHO0FBQy9DO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNvbGxlY3RpYmxlL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhANS40LjAvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvZXNtL2Jhc2VUcmFuc2FjdGlvbi5qcz81ZWY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYWluLCBDb21tb24gfSBmcm9tICdAZXRoZXJldW1qcy9jb21tb24nO1xuaW1wb3J0IHsgQWRkcmVzcywgQklHSU5UXzAsIE1BWF9JTlRFR0VSLCBNQVhfVUlOVDY0LCBiaWdJbnRUb0hleCwgYnl0ZXNUb0JpZ0ludCwgYnl0ZXNUb0hleCwgZWNzaWduLCBwdWJsaWNUb0FkZHJlc3MsIHRvQnl0ZXMsIHVucGFkQnl0ZXMsIH0gZnJvbSAnQGV0aGVyZXVtanMvdXRpbCc7XG5pbXBvcnQgeyBDYXBhYmlsaXR5LCBUcmFuc2FjdGlvblR5cGUgfSBmcm9tICcuL3R5cGVzLmpzJztcbmltcG9ydCB7IGNoZWNrTWF4SW5pdENvZGVTaXplIH0gZnJvbSAnLi91dGlsLmpzJztcbi8qKlxuICogVGhpcyBiYXNlIGNsYXNzIHdpbGwgbGlrZWx5IGJlIHN1YmplY3QgdG8gZnVydGhlclxuICogcmVmYWN0b3JpbmcgYWxvbmcgdGhlIGludHJvZHVjdGlvbiBvZiBhZGRpdGlvbmFsIHR4IHR5cGVzXG4gKiBvbiB0aGUgRXRoZXJldW0gbmV0d29yay5cbiAqXG4gKiBJdCBpcyB0aGVyZWZvcmUgbm90IHJlY29tbWVuZGVkIHRvIHVzZSBkaXJlY3RseS5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhc2VUcmFuc2FjdGlvbiB7XG4gICAgY29uc3RydWN0b3IodHhEYXRhLCBvcHRzKSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSB7XG4gICAgICAgICAgICBoYXNoOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkYXRhRmVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzZW5kZXJQdWJLZXk6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgdHggdHlwZSBkZWZpbmluZyBFSVBzLFxuICAgICAgICAgKiBlLmcuIDE1NTkgKGZlZSBtYXJrZXQpIGFuZCAyOTMwIChhY2Nlc3MgbGlzdHMpXG4gICAgICAgICAqIGZvciBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24gb2JqZWN0c1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hY3RpdmVDYXBhYmlsaXRpZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGNoYWluIHRoZSB0eCBmYWxscyBiYWNrIHRvIGlmIG5vIENvbW1vblxuICAgICAgICAgKiBpcyBwcm92aWRlZCBhbmQgaWYgdGhlIGNoYWluIGNhbid0IGJlIGRlcml2ZWQgZnJvbVxuICAgICAgICAgKiBhIHBhc3NlZCBpbiBjaGFpbklkIChvbmx5IEVJUC0yNzE4IHR5cGVkIHR4cykgb3JcbiAgICAgICAgICogRUlQLTE1NSBzaWduYXR1cmUgKGxlZ2FjeSB0eHMpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaGlkZGVuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLkRFRkFVTFRfQ0hBSU4gPSBDaGFpbi5NYWlubmV0O1xuICAgICAgICBjb25zdCB7IG5vbmNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCB2LCByLCBzLCB0eXBlIH0gPSB0eERhdGE7XG4gICAgICAgIHRoaXMuX3R5cGUgPSBOdW1iZXIoYnl0ZXNUb0JpZ0ludCh0b0J5dGVzKHR5cGUpKSk7XG4gICAgICAgIHRoaXMudHhPcHRpb25zID0gb3B0cztcbiAgICAgICAgY29uc3QgdG9CID0gdG9CeXRlcyh0byA9PT0gJycgPyAnMHgnIDogdG8pO1xuICAgICAgICBjb25zdCB2QiA9IHRvQnl0ZXModik7XG4gICAgICAgIGNvbnN0IHJCID0gdG9CeXRlcyhyKTtcbiAgICAgICAgY29uc3Qgc0IgPSB0b0J5dGVzKHMpO1xuICAgICAgICB0aGlzLm5vbmNlID0gYnl0ZXNUb0JpZ0ludCh0b0J5dGVzKG5vbmNlKSk7XG4gICAgICAgIHRoaXMuZ2FzTGltaXQgPSBieXRlc1RvQmlnSW50KHRvQnl0ZXMoZ2FzTGltaXQpKTtcbiAgICAgICAgdGhpcy50byA9IHRvQi5sZW5ndGggPiAwID8gbmV3IEFkZHJlc3ModG9CKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IGJ5dGVzVG9CaWdJbnQodG9CeXRlcyh2YWx1ZSkpO1xuICAgICAgICB0aGlzLmRhdGEgPSB0b0J5dGVzKGRhdGEgPT09ICcnID8gJzB4JyA6IGRhdGEpO1xuICAgICAgICB0aGlzLnYgPSB2Qi5sZW5ndGggPiAwID8gYnl0ZXNUb0JpZ0ludCh2QikgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuciA9IHJCLmxlbmd0aCA+IDAgPyBieXRlc1RvQmlnSW50KHJCKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zID0gc0IubGVuZ3RoID4gMCA/IGJ5dGVzVG9CaWdJbnQoc0IpIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl92YWxpZGF0ZUNhbm5vdEV4Y2VlZE1heEludGVnZXIoeyB2YWx1ZTogdGhpcy52YWx1ZSwgcjogdGhpcy5yLCBzOiB0aGlzLnMgfSk7XG4gICAgICAgIC8vIGdldGggbGltaXRzIGdhc0xpbWl0IHRvIDJeNjQtMVxuICAgICAgICB0aGlzLl92YWxpZGF0ZUNhbm5vdEV4Y2VlZE1heEludGVnZXIoeyBnYXNMaW1pdDogdGhpcy5nYXNMaW1pdCB9LCA2NCk7XG4gICAgICAgIC8vIEVJUC0yNjgxIGxpbWl0cyBub25jZSB0byAyXjY0LTEgKGNhbm5vdCBlcXVhbCAyXjY0LTEpXG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlQ2Fubm90RXhjZWVkTWF4SW50ZWdlcih7IG5vbmNlOiB0aGlzLm5vbmNlIH0sIDY0LCB0cnVlKTtcbiAgICAgICAgY29uc3QgY3JlYXRlQ29udHJhY3QgPSB0aGlzLnRvID09PSB1bmRlZmluZWQgfHwgdGhpcy50byA9PT0gbnVsbDtcbiAgICAgICAgY29uc3QgYWxsb3dVbmxpbWl0ZWRJbml0Q29kZVNpemUgPSBvcHRzLmFsbG93VW5saW1pdGVkSW5pdENvZGVTaXplID8/IGZhbHNlO1xuICAgICAgICBjb25zdCBjb21tb24gPSBvcHRzLmNvbW1vbiA/PyB0aGlzLl9nZXRDb21tb24oKTtcbiAgICAgICAgaWYgKGNyZWF0ZUNvbnRyYWN0ICYmIGNvbW1vbi5pc0FjdGl2YXRlZEVJUCgzODYwKSAmJiBhbGxvd1VubGltaXRlZEluaXRDb2RlU2l6ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNoZWNrTWF4SW5pdENvZGVTaXplKGNvbW1vbiwgdGhpcy5kYXRhLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdHJhbnNhY3Rpb24gdHlwZS5cbiAgICAgKlxuICAgICAqIE5vdGU6IGxlZ2FjeSB0eHMgd2lsbCByZXR1cm4gdHggdHlwZSBgMGAuXG4gICAgICovXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSB0eCB0eXBlIGRlZmluaW5nIGNhcGFiaWxpdHkgaXMgYWN0aXZlXG4gICAgICogb24gYSB0eCwgZm9yIGV4YW1wbGUgdGhlIEVJUC0xNTU5IGZlZSBtYXJrZXQgbWVjaGFuaXNtXG4gICAgICogb3IgdGhlIEVJUC0yOTMwIGFjY2VzcyBsaXN0IGZlYXR1cmUuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgdHggdHlwZSBpdHNlbGYsXG4gICAgICogc28gRUlQLTI5MzAgYWNjZXNzIGxpc3RzIGNhbiB2ZXJ5IHdlbGwgYmUgYWN0aXZlXG4gICAgICogb24gYW4gRUlQLTE1NTkgdHggZm9yIGV4YW1wbGUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZnVsIGZvciBmZWF0dXJlIGNoZWNrcyBpZiB0aGVcbiAgICAgKiB0eCB0eXBlIGlzIHVua25vd24gKGUuZy4gd2hlbiBpbnN0YW50aWF0ZWQgd2l0aFxuICAgICAqIHRoZSB0eCBmYWN0b3J5KS5cbiAgICAgKlxuICAgICAqIFNlZSBgQ2FwYWJpbGl0aWVzYCBpbiB0aGUgYHR5cGVzYCBtb2R1bGUgZm9yIGEgcmVmZXJlbmNlXG4gICAgICogb24gYWxsIHN1cHBvcnRlZCBjYXBhYmlsaXRpZXMuXG4gICAgICovXG4gICAgc3VwcG9ydHMoY2FwYWJpbGl0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVDYXBhYmlsaXRpZXMuaW5jbHVkZXMoY2FwYWJpbGl0eSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0aGUgdHJhbnNhY3Rpb24gc2lnbmF0dXJlIGFuZCBtaW5pbXVtIGdhcyByZXF1aXJlbWVudHMuXG4gICAgICogQHJldHVybnMge3N0cmluZ1tdfSBhbiBhcnJheSBvZiBlcnJvciBzdHJpbmdzXG4gICAgICovXG4gICAgZ2V0VmFsaWRhdGlvbkVycm9ycygpIHtcbiAgICAgICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgICAgIGlmICh0aGlzLmlzU2lnbmVkKCkgJiYgIXRoaXMudmVyaWZ5U2lnbmF0dXJlKCkpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdJbnZhbGlkIFNpZ25hdHVyZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdldEJhc2VGZWUoKSA+IHRoaXMuZ2FzTGltaXQpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGBnYXNMaW1pdCBpcyB0b28gbG93LiBnaXZlbiAke3RoaXMuZ2FzTGltaXR9LCBuZWVkIGF0IGxlYXN0ICR7dGhpcy5nZXRCYXNlRmVlKCl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycm9ycztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRoZSB0cmFuc2FjdGlvbiBzaWduYXR1cmUgYW5kIG1pbmltdW0gZ2FzIHJlcXVpcmVtZW50cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgdHJhbnNhY3Rpb24gaXMgdmFsaWQsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGlzVmFsaWQoKSB7XG4gICAgICAgIGNvbnN0IGVycm9ycyA9IHRoaXMuZ2V0VmFsaWRhdGlvbkVycm9ycygpO1xuICAgICAgICByZXR1cm4gZXJyb3JzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG1pbmltdW0gYW1vdW50IG9mIGdhcyB0aGUgdHggbXVzdCBoYXZlIChEYXRhRmVlICsgVHhGZWUgKyBDcmVhdGlvbiBGZWUpXG4gICAgICovXG4gICAgZ2V0QmFzZUZlZSgpIHtcbiAgICAgICAgY29uc3QgdHhGZWUgPSB0aGlzLmNvbW1vbi5wYXJhbSgnZ2FzUHJpY2VzJywgJ3R4Jyk7XG4gICAgICAgIGxldCBmZWUgPSB0aGlzLmdldERhdGFGZWUoKTtcbiAgICAgICAgaWYgKHR4RmVlKVxuICAgICAgICAgICAgZmVlICs9IHR4RmVlO1xuICAgICAgICBpZiAodGhpcy5jb21tb24uZ3RlSGFyZGZvcmsoJ2hvbWVzdGVhZCcpICYmIHRoaXMudG9DcmVhdGlvbkFkZHJlc3MoKSkge1xuICAgICAgICAgICAgY29uc3QgdHhDcmVhdGlvbkZlZSA9IHRoaXMuY29tbW9uLnBhcmFtKCdnYXNQcmljZXMnLCAndHhDcmVhdGlvbicpO1xuICAgICAgICAgICAgaWYgKHR4Q3JlYXRpb25GZWUpXG4gICAgICAgICAgICAgICAgZmVlICs9IHR4Q3JlYXRpb25GZWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZlZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBnYXMgcGFpZCBmb3IgdGhlIGRhdGEgaW4gdGhpcyB0eFxuICAgICAqL1xuICAgIGdldERhdGFGZWUoKSB7XG4gICAgICAgIGNvbnN0IHR4RGF0YVplcm8gPSB0aGlzLmNvbW1vbi5wYXJhbSgnZ2FzUHJpY2VzJywgJ3R4RGF0YVplcm8nKTtcbiAgICAgICAgY29uc3QgdHhEYXRhTm9uWmVybyA9IHRoaXMuY29tbW9uLnBhcmFtKCdnYXNQcmljZXMnLCAndHhEYXRhTm9uWmVybycpO1xuICAgICAgICBsZXQgY29zdCA9IEJJR0lOVF8wO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kYXRhW2ldID09PSAwID8gKGNvc3QgKz0gdHhEYXRhWmVybykgOiAoY29zdCArPSB0eERhdGFOb25aZXJvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHRoaXMudG8gPT09IHVuZGVmaW5lZCB8fCB0aGlzLnRvID09PSBudWxsKSAmJiB0aGlzLmNvbW1vbi5pc0FjdGl2YXRlZEVJUCgzODYwKSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YUxlbmd0aCA9IEJpZ0ludChNYXRoLmNlaWwodGhpcy5kYXRhLmxlbmd0aCAvIDMyKSk7XG4gICAgICAgICAgICBjb25zdCBpbml0Q29kZUNvc3QgPSB0aGlzLmNvbW1vbi5wYXJhbSgnZ2FzUHJpY2VzJywgJ2luaXRDb2RlV29yZENvc3QnKSAqIGRhdGFMZW5ndGg7XG4gICAgICAgICAgICBjb3N0ICs9IGluaXRDb2RlQ29zdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29zdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHR4J3MgYHRvYCBpcyB0byB0aGUgY3JlYXRpb24gYWRkcmVzc1xuICAgICAqL1xuICAgIHRvQ3JlYXRpb25BZGRyZXNzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50byA9PT0gdW5kZWZpbmVkIHx8IHRoaXMudG8uYnl0ZXMubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBpc1NpZ25lZCgpIHtcbiAgICAgICAgY29uc3QgeyB2LCByLCBzIH0gPSB0aGlzO1xuICAgICAgICBpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHIgPT09IHVuZGVmaW5lZCB8fCBzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIHNpZ25hdHVyZSBpcyB2YWxpZFxuICAgICAqL1xuICAgIHZlcmlmeVNpZ25hdHVyZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIE1haW4gc2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBpcyBkb25lIGluIGBnZXRTZW5kZXJQdWJsaWNLZXkoKWBcbiAgICAgICAgICAgIGNvbnN0IHB1YmxpY0tleSA9IHRoaXMuZ2V0U2VuZGVyUHVibGljS2V5KCk7XG4gICAgICAgICAgICByZXR1cm4gdW5wYWRCeXRlcyhwdWJsaWNLZXkpLmxlbmd0aCAhPT0gMDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNlbmRlcidzIGFkZHJlc3NcbiAgICAgKi9cbiAgICBnZXRTZW5kZXJBZGRyZXNzKCkge1xuICAgICAgICByZXR1cm4gbmV3IEFkZHJlc3MocHVibGljVG9BZGRyZXNzKHRoaXMuZ2V0U2VuZGVyUHVibGljS2V5KCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2lnbnMgYSB0cmFuc2FjdGlvbi5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGUgc2lnbmVkIHR4IGlzIHJldHVybmVkIGFzIGEgbmV3IG9iamVjdCxcbiAgICAgKiB1c2UgYXMgZm9sbG93czpcbiAgICAgKiBgYGBqYXZhc2NyaXB0XG4gICAgICogY29uc3Qgc2lnbmVkVHggPSB0eC5zaWduKHByaXZhdGVLZXkpXG4gICAgICogYGBgXG4gICAgICovXG4gICAgc2lnbihwcml2YXRlS2V5KSB7XG4gICAgICAgIGlmIChwcml2YXRlS2V5Lmxlbmd0aCAhPT0gMzIpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IHRoaXMuX2Vycm9yTXNnKCdQcml2YXRlIGtleSBtdXN0IGJlIDMyIGJ5dGVzIGluIGxlbmd0aC4nKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhY2sgZm9yIHRoZSBjb25zdGVsbGF0aW9uIHRoYXQgd2UgaGF2ZSBnb3QgYSBsZWdhY3kgdHggYWZ0ZXIgc3B1cmlvdXNEcmFnb24gd2l0aCBhIG5vbi1FSVAxNTUgY29uZm9ybWluZyBzaWduYXR1cmVcbiAgICAgICAgLy8gYW5kIHdhbnQgdG8gcmVjcmVhdGUgYSBzaWduYXR1cmUgKHdoZXJlIEVJUDE1NSBzaG91bGQgYmUgYXBwbGllZClcbiAgICAgICAgLy8gTGVhdmluZyB0aGlzIGhhY2sgbGV0cyB0aGUgbGVnYWN5LnNwZWMudHMgLT4gc2lnbigpLCB2ZXJpZnlTaWduYXR1cmUoKSB0ZXN0IGZhaWxcbiAgICAgICAgLy8gMjAyMS0wNi0yM1xuICAgICAgICBsZXQgaGFja0FwcGxpZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gVHJhbnNhY3Rpb25UeXBlLkxlZ2FjeSAmJlxuICAgICAgICAgICAgdGhpcy5jb21tb24uZ3RlSGFyZGZvcmsoJ3NwdXJpb3VzRHJhZ29uJykgJiZcbiAgICAgICAgICAgICF0aGlzLnN1cHBvcnRzKENhcGFiaWxpdHkuRUlQMTU1UmVwbGF5UHJvdGVjdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlQ2FwYWJpbGl0aWVzLnB1c2goQ2FwYWJpbGl0eS5FSVAxNTVSZXBsYXlQcm90ZWN0aW9uKTtcbiAgICAgICAgICAgIGhhY2tBcHBsaWVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtc2dIYXNoID0gdGhpcy5nZXRIYXNoZWRNZXNzYWdlVG9TaWduKCk7XG4gICAgICAgIGNvbnN0IGVjU2lnbkZ1bmN0aW9uID0gdGhpcy5jb21tb24uY3VzdG9tQ3J5cHRvPy5lY3NpZ24gPz8gZWNzaWduO1xuICAgICAgICBjb25zdCB7IHYsIHIsIHMgfSA9IGVjU2lnbkZ1bmN0aW9uKG1zZ0hhc2gsIHByaXZhdGVLZXkpO1xuICAgICAgICBjb25zdCB0eCA9IHRoaXMuYWRkU2lnbmF0dXJlKHYsIHIsIHMsIHRydWUpO1xuICAgICAgICAvLyBIYWNrIHBhcnQgMlxuICAgICAgICBpZiAoaGFja0FwcGxpZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5hY3RpdmVDYXBhYmlsaXRpZXMuaW5kZXhPZihDYXBhYmlsaXR5LkVJUDE1NVJlcGxheVByb3RlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUNhcGFiaWxpdGllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgdHJhbnNhY3Rpb25cbiAgICAgKi9cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBiaWdJbnRUb0hleChCaWdJbnQodGhpcy50eXBlKSksXG4gICAgICAgICAgICBub25jZTogYmlnSW50VG9IZXgodGhpcy5ub25jZSksXG4gICAgICAgICAgICBnYXNMaW1pdDogYmlnSW50VG9IZXgodGhpcy5nYXNMaW1pdCksXG4gICAgICAgICAgICB0bzogdGhpcy50byAhPT0gdW5kZWZpbmVkID8gdGhpcy50by50b1N0cmluZygpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsdWU6IGJpZ0ludFRvSGV4KHRoaXMudmFsdWUpLFxuICAgICAgICAgICAgZGF0YTogYnl0ZXNUb0hleCh0aGlzLmRhdGEpLFxuICAgICAgICAgICAgdjogdGhpcy52ICE9PSB1bmRlZmluZWQgPyBiaWdJbnRUb0hleCh0aGlzLnYpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcjogdGhpcy5yICE9PSB1bmRlZmluZWQgPyBiaWdJbnRUb0hleCh0aGlzLnIpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgczogdGhpcy5zICE9PSB1bmRlZmluZWQgPyBiaWdJbnRUb0hleCh0aGlzLnMpIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEb2VzIGNoYWluIElEIGNoZWNrcyBvbiBjb21tb24gYW5kIHJldHVybnMgYSBjb21tb25cbiAgICAgKiB0byBiZSB1c2VkIG9uIGluc3RhbnRpYXRpb25cbiAgICAgKiBAaGlkZGVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29tbW9uIC0ge0BsaW5rIENvbW1vbn0gaW5zdGFuY2UgZnJvbSB0eCBvcHRpb25zXG4gICAgICogQHBhcmFtIGNoYWluSWQgLSBDaGFpbiBJRCBmcm9tIHR4IG9wdGlvbnMgKHR5cGVkIHR4cykgb3Igc2lnbmF0dXJlIChsZWdhY3kgdHgpXG4gICAgICovXG4gICAgX2dldENvbW1vbihjb21tb24sIGNoYWluSWQpIHtcbiAgICAgICAgLy8gQ2hhaW4gSUQgcHJvdmlkZWRcbiAgICAgICAgaWYgKGNoYWluSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY2hhaW5JZEJpZ0ludCA9IGJ5dGVzVG9CaWdJbnQodG9CeXRlcyhjaGFpbklkKSk7XG4gICAgICAgICAgICBpZiAoY29tbW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1vbi5jaGFpbklkKCkgIT09IGNoYWluSWRCaWdJbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbXNnID0gdGhpcy5fZXJyb3JNc2coYFRoZSBjaGFpbiBJRCBkb2VzIG5vdCBtYXRjaCB0aGUgY2hhaW4gSUQgb2YgQ29tbW9uLiBHb3Q6ICR7Y2hhaW5JZEJpZ0ludH0sIGV4cGVjdGVkOiAke2NvbW1vbi5jaGFpbklkKCl9YCk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDb21tb24gcHJvdmlkZWQsIGNoYWluIElEIGRvZXMgbWF0Y2hcbiAgICAgICAgICAgICAgICAvLyAtPiBSZXR1cm4gcHJvdmlkZWQgQ29tbW9uXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbi5jb3B5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoQ29tbW9uLmlzU3VwcG9ydGVkQ2hhaW5JZChjaGFpbklkQmlnSW50KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBObyBDb21tb24sIGNoYWluIElEIHN1cHBvcnRlZCBieSBDb21tb25cbiAgICAgICAgICAgICAgICAgICAgLy8gLT4gSW5zdGFudGlhdGUgQ29tbW9uIHdpdGggY2hhaW4gSURcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21tb24oeyBjaGFpbjogY2hhaW5JZEJpZ0ludCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIENvbW1vbiwgY2hhaW4gSUQgbm90IHN1cHBvcnRlZCBieSBDb21tb25cbiAgICAgICAgICAgICAgICAgICAgLy8gLT4gSW5zdGFudGlhdGUgY3VzdG9tIENvbW1vbiBkZXJpdmVkIGZyb20gREVGQVVMVF9DSEFJTlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29tbW9uLmN1c3RvbSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY3VzdG9tLWNoYWluJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldHdvcmtJZDogY2hhaW5JZEJpZ0ludCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IGNoYWluSWRCaWdJbnQsXG4gICAgICAgICAgICAgICAgICAgIH0sIHsgYmFzZUNoYWluOiB0aGlzLkRFRkFVTFRfQ0hBSU4gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTm8gY2hhaW4gSUQgcHJvdmlkZWRcbiAgICAgICAgICAgIC8vIC0+IHJldHVybiBDb21tb24gcHJvdmlkZWQgb3IgY3JlYXRlIG5ldyBkZWZhdWx0IENvbW1vblxuICAgICAgICAgICAgcmV0dXJuIGNvbW1vbj8uY29weSgpID8/IG5ldyBDb21tb24oeyBjaGFpbjogdGhpcy5ERUZBVUxUX0NIQUlOIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0aGF0IGFuIG9iamVjdCB3aXRoIEJpZ0ludCB2YWx1ZXMgY2Fubm90IGV4Y2VlZCB0aGUgc3BlY2lmaWVkIGJpdCBsaW1pdC5cbiAgICAgKiBAcGFyYW0gdmFsdWVzIE9iamVjdCBjb250YWluaW5nIHN0cmluZyBrZXlzIGFuZCBCaWdJbnQgdmFsdWVzXG4gICAgICogQHBhcmFtIGJpdHMgTnVtYmVyIG9mIGJpdHMgdG8gY2hlY2sgKDY0IG9yIDI1NilcbiAgICAgKiBAcGFyYW0gY2Fubm90RXF1YWwgUGFzcyB0cnVlIGlmIHRoZSBudW1iZXIgYWxzbyBjYW5ub3QgZXF1YWwgb25lIGxlc3MgdGhlIG1heGltdW0gdmFsdWVcbiAgICAgKi9cbiAgICBfdmFsaWRhdGVDYW5ub3RFeGNlZWRNYXhJbnRlZ2VyKHZhbHVlcywgYml0cyA9IDI1NiwgY2Fubm90RXF1YWwgPSBmYWxzZSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh2YWx1ZXMpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGJpdHMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDY0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoY2Fubm90RXF1YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlID49IE1BWF9VSU5UNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSB0aGlzLl9lcnJvck1zZyhgJHtrZXl9IGNhbm5vdCBlcXVhbCBvciBleGNlZWQgTUFYX1VJTlQ2NCAoMl42NC0xKSwgZ2l2ZW4gJHt2YWx1ZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlID4gTUFYX1VJTlQ2NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IHRoaXMuX2Vycm9yTXNnKGAke2tleX0gY2Fubm90IGV4Y2VlZCBNQVhfVUlOVDY0ICgyXjY0LTEpLCBnaXZlbiAke3ZhbHVlfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjU2OlxuICAgICAgICAgICAgICAgICAgICBpZiAoY2Fubm90RXF1YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlID49IE1BWF9JTlRFR0VSKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbXNnID0gdGhpcy5fZXJyb3JNc2coYCR7a2V5fSBjYW5ub3QgZXF1YWwgb3IgZXhjZWVkIE1BWF9JTlRFR0VSICgyXjI1Ni0xKSwgZ2l2ZW4gJHt2YWx1ZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlID4gTUFYX0lOVEVHRVIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSB0aGlzLl9lcnJvck1zZyhgJHtrZXl9IGNhbm5vdCBleGNlZWQgTUFYX0lOVEVHRVIgKDJeMjU2LTEpLCBnaXZlbiAke3ZhbHVlfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbXNnID0gdGhpcy5fZXJyb3JNc2coJ3VuaW1wbGVtZW50ZWQgYml0cyB2YWx1ZScpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIF92YWxpZGF0ZU5vdEFycmF5KHZhbHVlcykge1xuICAgICAgICBjb25zdCB0eERhdGFLZXlzID0gW1xuICAgICAgICAgICAgJ25vbmNlJyxcbiAgICAgICAgICAgICdnYXNQcmljZScsXG4gICAgICAgICAgICAnZ2FzTGltaXQnLFxuICAgICAgICAgICAgJ3RvJyxcbiAgICAgICAgICAgICd2YWx1ZScsXG4gICAgICAgICAgICAnZGF0YScsXG4gICAgICAgICAgICAndicsXG4gICAgICAgICAgICAncicsXG4gICAgICAgICAgICAncycsXG4gICAgICAgICAgICAndHlwZScsXG4gICAgICAgICAgICAnYmFzZUZlZScsXG4gICAgICAgICAgICAnbWF4RmVlUGVyR2FzJyxcbiAgICAgICAgICAgICdjaGFpbklkJyxcbiAgICAgICAgXTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModmFsdWVzKSkge1xuICAgICAgICAgICAgaWYgKHR4RGF0YUtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7a2V5fSBjYW5ub3QgYmUgYW4gYXJyYXlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2hhcmVkIGVycm9yIHBvc3RmaXggcGFydCBmb3IgX2Vycm9yKCkgbWV0aG9kXG4gICAgICogdHggdHlwZSBpbXBsZW1lbnRhdGlvbnMuXG4gICAgICovXG4gICAgX2dldFNoYXJlZEVycm9yUG9zdGZpeCgpIHtcbiAgICAgICAgbGV0IGhhc2ggPSAnJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGhhc2ggPSB0aGlzLmlzU2lnbmVkKCkgPyBieXRlc1RvSGV4KHRoaXMuaGFzaCgpKSA6ICdub3QgYXZhaWxhYmxlICh1bnNpZ25lZCknO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBoYXNoID0gJ2Vycm9yJztcbiAgICAgICAgfVxuICAgICAgICBsZXQgaXNTaWduZWQgPSAnJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlzU2lnbmVkID0gdGhpcy5pc1NpZ25lZCgpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGhhc2ggPSAnZXJyb3InO1xuICAgICAgICB9XG4gICAgICAgIGxldCBoZiA9ICcnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaGYgPSB0aGlzLmNvbW1vbi5oYXJkZm9yaygpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBoZiA9ICdlcnJvcic7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBvc3RmaXggPSBgdHggdHlwZT0ke3RoaXMudHlwZX0gaGFzaD0ke2hhc2h9IG5vbmNlPSR7dGhpcy5ub25jZX0gdmFsdWU9JHt0aGlzLnZhbHVlfSBgO1xuICAgICAgICBwb3N0Zml4ICs9IGBzaWduZWQ9JHtpc1NpZ25lZH0gaGY9JHtoZn1gO1xuICAgICAgICByZXR1cm4gcG9zdGZpeDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlVHJhbnNhY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/baseTransaction.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip1559.js":
/*!******************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip1559.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEffectivePriorityFee: () => (/* binding */ getEffectivePriorityFee),\n/* harmony export */   getUpfrontCost: () => (/* binding */ getUpfrontCost)\n/* harmony export */ });\nfunction getUpfrontCost(tx, baseFee) {\n    const prio = tx.maxPriorityFeePerGas;\n    const maxBase = tx.maxFeePerGas - baseFee;\n    const inclusionFeePerGas = prio < maxBase ? prio : maxBase;\n    const gasPrice = inclusionFeePerGas + baseFee;\n    return tx.gasLimit * gasPrice + tx.value;\n}\nfunction getEffectivePriorityFee(tx, baseFee) {\n    if (baseFee === undefined || baseFee > tx.maxFeePerGas) {\n        throw new Error('Tx cannot pay baseFee');\n    }\n    // The remaining fee for the coinbase, which can take up to this value, capped at `maxPriorityFeePerGas`\n    const remainingFee = tx.maxFeePerGas - baseFee;\n    return tx.maxPriorityFeePerGas < remainingFee ? tx.maxPriorityFeePerGas : remainingFee;\n}\n//# sourceMappingURL=eip1559.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9jYXBhYmlsaXRpZXMvZWlwMTU1OS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNvbGxlY3RpYmxlL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhANS40LjAvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvZXNtL2NhcGFiaWxpdGllcy9laXAxNTU5LmpzP2UyZGIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldFVwZnJvbnRDb3N0KHR4LCBiYXNlRmVlKSB7XG4gICAgY29uc3QgcHJpbyA9IHR4Lm1heFByaW9yaXR5RmVlUGVyR2FzO1xuICAgIGNvbnN0IG1heEJhc2UgPSB0eC5tYXhGZWVQZXJHYXMgLSBiYXNlRmVlO1xuICAgIGNvbnN0IGluY2x1c2lvbkZlZVBlckdhcyA9IHByaW8gPCBtYXhCYXNlID8gcHJpbyA6IG1heEJhc2U7XG4gICAgY29uc3QgZ2FzUHJpY2UgPSBpbmNsdXNpb25GZWVQZXJHYXMgKyBiYXNlRmVlO1xuICAgIHJldHVybiB0eC5nYXNMaW1pdCAqIGdhc1ByaWNlICsgdHgudmFsdWU7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RWZmZWN0aXZlUHJpb3JpdHlGZWUodHgsIGJhc2VGZWUpIHtcbiAgICBpZiAoYmFzZUZlZSA9PT0gdW5kZWZpbmVkIHx8IGJhc2VGZWUgPiB0eC5tYXhGZWVQZXJHYXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUeCBjYW5ub3QgcGF5IGJhc2VGZWUnKTtcbiAgICB9XG4gICAgLy8gVGhlIHJlbWFpbmluZyBmZWUgZm9yIHRoZSBjb2luYmFzZSwgd2hpY2ggY2FuIHRha2UgdXAgdG8gdGhpcyB2YWx1ZSwgY2FwcGVkIGF0IGBtYXhQcmlvcml0eUZlZVBlckdhc2BcbiAgICBjb25zdCByZW1haW5pbmdGZWUgPSB0eC5tYXhGZWVQZXJHYXMgLSBiYXNlRmVlO1xuICAgIHJldHVybiB0eC5tYXhQcmlvcml0eUZlZVBlckdhcyA8IHJlbWFpbmluZ0ZlZSA/IHR4Lm1heFByaW9yaXR5RmVlUGVyR2FzIDogcmVtYWluaW5nRmVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWlwMTU1OS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip1559.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip2718.js":
/*!******************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip2718.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getHashedMessageToSign: () => (/* binding */ getHashedMessageToSign),\n/* harmony export */   serialize: () => (/* binding */ serialize),\n/* harmony export */   validateYParity: () => (/* binding */ validateYParity)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/rlp */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+rlp@5.0.2/node_modules/@ethereumjs/rlp/dist/esm/index.js\");\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+util@9.1.0/node_modules/@ethereumjs/util/dist/esm/index.js\");\n/* harmony import */ var ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ethereum-cryptography/keccak.js */ \"(ssr)/../../node_modules/.pnpm/ethereum-cryptography@2.2.1/node_modules/ethereum-cryptography/esm/keccak.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/util.js\");\n/* harmony import */ var _legacy_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./legacy.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/legacy.js\");\n\n\n\n\n\nfunction getHashedMessageToSign(tx) {\n    const keccakFunction = tx.common.customCrypto.keccak256 ?? ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_2__.keccak256;\n    return keccakFunction(tx.getMessageToSign());\n}\nfunction serialize(tx, base) {\n    return (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.concatBytes)((0,_util_js__WEBPACK_IMPORTED_MODULE_3__.txTypeBytes)(tx.type), _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__.RLP.encode(base ?? tx.raw()));\n}\nfunction validateYParity(tx) {\n    const { v } = tx;\n    if (v !== undefined && v !== _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.BIGINT_0 && v !== _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.BIGINT_1) {\n        const msg = (0,_legacy_js__WEBPACK_IMPORTED_MODULE_4__.errorMsg)(tx, 'The y-parity of the transaction should either be 0 or 1');\n        throw new Error(msg);\n    }\n}\n//# sourceMappingURL=eip2718.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9jYXBhYmlsaXRpZXMvZWlwMjcxOC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzQztBQUM2QjtBQUNQO0FBQ25CO0FBQ0Y7QUFDaEM7QUFDUCwrREFBK0Qsc0VBQVM7QUFDeEU7QUFDQTtBQUNPO0FBQ1AsV0FBVyw2REFBVyxDQUFDLHFEQUFXLFdBQVcsZ0RBQUc7QUFDaEQ7QUFDTztBQUNQLFlBQVksSUFBSTtBQUNoQixpQ0FBaUMsc0RBQVEsVUFBVSxzREFBUTtBQUMzRCxvQkFBb0Isb0RBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29sbGVjdGlibGUvd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXRoZXJldW1qcyt0eEA1LjQuMC9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdHgvZGlzdC9lc20vY2FwYWJpbGl0aWVzL2VpcDI3MTguanM/MzhiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSTFAgfSBmcm9tICdAZXRoZXJldW1qcy9ybHAnO1xuaW1wb3J0IHsgQklHSU5UXzAsIEJJR0lOVF8xLCBjb25jYXRCeXRlcyB9IGZyb20gJ0BldGhlcmV1bWpzL3V0aWwnO1xuaW1wb3J0IHsga2VjY2FrMjU2IH0gZnJvbSAnZXRoZXJldW0tY3J5cHRvZ3JhcGh5L2tlY2Nhay5qcyc7XG5pbXBvcnQgeyB0eFR5cGVCeXRlcyB9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0IHsgZXJyb3JNc2cgfSBmcm9tICcuL2xlZ2FjeS5qcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0SGFzaGVkTWVzc2FnZVRvU2lnbih0eCkge1xuICAgIGNvbnN0IGtlY2Nha0Z1bmN0aW9uID0gdHguY29tbW9uLmN1c3RvbUNyeXB0by5rZWNjYWsyNTYgPz8ga2VjY2FrMjU2O1xuICAgIHJldHVybiBrZWNjYWtGdW5jdGlvbih0eC5nZXRNZXNzYWdlVG9TaWduKCkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZSh0eCwgYmFzZSkge1xuICAgIHJldHVybiBjb25jYXRCeXRlcyh0eFR5cGVCeXRlcyh0eC50eXBlKSwgUkxQLmVuY29kZShiYXNlID8/IHR4LnJhdygpKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVZUGFyaXR5KHR4KSB7XG4gICAgY29uc3QgeyB2IH0gPSB0eDtcbiAgICBpZiAodiAhPT0gdW5kZWZpbmVkICYmIHYgIT09IEJJR0lOVF8wICYmIHYgIT09IEJJR0lOVF8xKSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGVycm9yTXNnKHR4LCAnVGhlIHktcGFyaXR5IG9mIHRoZSB0cmFuc2FjdGlvbiBzaG91bGQgZWl0aGVyIGJlIDAgb3IgMScpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1laXAyNzE4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip2718.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip2930.js":
/*!******************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip2930.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDataFee: () => (/* binding */ getDataFee)\n/* harmony export */ });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/util.js\");\n/* harmony import */ var _legacy_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./legacy.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/legacy.js\");\n\n\n/**\n * The amount of gas paid for the data in this tx\n */\nfunction getDataFee(tx) {\n    return _legacy_js__WEBPACK_IMPORTED_MODULE_1__.getDataFee(tx, BigInt(_util_js__WEBPACK_IMPORTED_MODULE_0__.AccessLists.getDataFeeEIP2930(tx.accessList, tx.common)));\n}\n//# sourceMappingURL=eip2930.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9jYXBhYmlsaXRpZXMvZWlwMjkzMC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUM7QUFDSDtBQUN0QztBQUNBO0FBQ0E7QUFDTztBQUNQLFdBQVcsa0RBQWlCLFlBQVksaURBQVc7QUFDbkQ7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb2xsZWN0aWJsZS93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9jYXBhYmlsaXRpZXMvZWlwMjkzMC5qcz8yZTMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjY2Vzc0xpc3RzIH0gZnJvbSAnLi4vdXRpbC5qcyc7XG5pbXBvcnQgKiBhcyBMZWdhY3kgZnJvbSAnLi9sZWdhY3kuanMnO1xuLyoqXG4gKiBUaGUgYW1vdW50IG9mIGdhcyBwYWlkIGZvciB0aGUgZGF0YSBpbiB0aGlzIHR4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXRhRmVlKHR4KSB7XG4gICAgcmV0dXJuIExlZ2FjeS5nZXREYXRhRmVlKHR4LCBCaWdJbnQoQWNjZXNzTGlzdHMuZ2V0RGF0YUZlZUVJUDI5MzAodHguYWNjZXNzTGlzdCwgdHguY29tbW9uKSkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWlwMjkzMC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip2930.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip7702.js":
/*!******************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip7702.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDataFee: () => (/* binding */ getDataFee)\n/* harmony export */ });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/util.js\");\n/* harmony import */ var _legacy_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./legacy.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/legacy.js\");\n\n\n/**\n * The amount of gas paid for the data in this tx\n */\nfunction getDataFee(tx) {\n    const eip2930Cost = BigInt(_util_js__WEBPACK_IMPORTED_MODULE_0__.AccessLists.getDataFeeEIP2930(tx.accessList, tx.common));\n    const eip7702Cost = BigInt(tx.authorizationList.length * Number(tx.common.param('gasPrices', 'perAuthBaseCost')));\n    return _legacy_js__WEBPACK_IMPORTED_MODULE_1__.getDataFee(tx, eip2930Cost + eip7702Cost);\n}\n//# sourceMappingURL=eip7702.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9jYXBhYmlsaXRpZXMvZWlwNzcwMi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUM7QUFDSDtBQUN0QztBQUNBO0FBQ0E7QUFDTztBQUNQLCtCQUErQixpREFBVztBQUMxQztBQUNBLFdBQVcsa0RBQWlCO0FBQzVCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29sbGVjdGlibGUvd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXRoZXJldW1qcyt0eEA1LjQuMC9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdHgvZGlzdC9lc20vY2FwYWJpbGl0aWVzL2VpcDc3MDIuanM/MmZlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY2Nlc3NMaXN0cyB9IGZyb20gJy4uL3V0aWwuanMnO1xuaW1wb3J0ICogYXMgTGVnYWN5IGZyb20gJy4vbGVnYWN5LmpzJztcbi8qKlxuICogVGhlIGFtb3VudCBvZiBnYXMgcGFpZCBmb3IgdGhlIGRhdGEgaW4gdGhpcyB0eFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YUZlZSh0eCkge1xuICAgIGNvbnN0IGVpcDI5MzBDb3N0ID0gQmlnSW50KEFjY2Vzc0xpc3RzLmdldERhdGFGZWVFSVAyOTMwKHR4LmFjY2Vzc0xpc3QsIHR4LmNvbW1vbikpO1xuICAgIGNvbnN0IGVpcDc3MDJDb3N0ID0gQmlnSW50KHR4LmF1dGhvcml6YXRpb25MaXN0Lmxlbmd0aCAqIE51bWJlcih0eC5jb21tb24ucGFyYW0oJ2dhc1ByaWNlcycsICdwZXJBdXRoQmFzZUNvc3QnKSkpO1xuICAgIHJldHVybiBMZWdhY3kuZ2V0RGF0YUZlZSh0eCwgZWlwMjkzMENvc3QgKyBlaXA3NzAyQ29zdCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1laXA3NzAyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip7702.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/legacy.js":
/*!*****************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/legacy.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   errorMsg: () => (/* binding */ errorMsg),\n/* harmony export */   getDataFee: () => (/* binding */ getDataFee),\n/* harmony export */   getEffectivePriorityFee: () => (/* binding */ getEffectivePriorityFee),\n/* harmony export */   getSenderPublicKey: () => (/* binding */ getSenderPublicKey),\n/* harmony export */   hash: () => (/* binding */ hash),\n/* harmony export */   isSigned: () => (/* binding */ isSigned),\n/* harmony export */   validateHighS: () => (/* binding */ validateHighS)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+util@9.1.0/node_modules/@ethereumjs/util/dist/esm/index.js\");\n/* harmony import */ var ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethereum-cryptography/keccak.js */ \"(ssr)/../../node_modules/.pnpm/ethereum-cryptography@2.2.1/node_modules/ethereum-cryptography/esm/keccak.js\");\n/* harmony import */ var _baseTransaction_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../baseTransaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/baseTransaction.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../types.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/types.js\");\n\n\n\n\nfunction errorMsg(tx, msg) {\n    return `${msg} (${tx.errorStr()})`;\n}\nfunction isSigned(tx) {\n    const { v, r, s } = tx;\n    if (v === undefined || r === undefined || s === undefined) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n/**\n * The amount of gas paid for the data in this tx\n */\nfunction getDataFee(tx, extraCost) {\n    if (tx.cache.dataFee && tx.cache.dataFee.hardfork === tx.common.hardfork()) {\n        return tx.cache.dataFee.value;\n    }\n    const cost = _baseTransaction_js__WEBPACK_IMPORTED_MODULE_2__.BaseTransaction.prototype.getDataFee.bind(tx)() + (extraCost ?? 0n);\n    if (Object.isFrozen(tx)) {\n        tx.cache.dataFee = {\n            value: cost,\n            hardfork: tx.common.hardfork(),\n        };\n    }\n    return cost;\n}\nfunction hash(tx) {\n    if (!tx.isSigned()) {\n        const msg = errorMsg(tx, 'Cannot call hash method if transaction is not signed');\n        throw new Error(msg);\n    }\n    const keccakFunction = tx.common.customCrypto.keccak256 ?? ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_1__.keccak256;\n    if (Object.isFrozen(tx)) {\n        if (!tx.cache.hash) {\n            tx.cache.hash = keccakFunction(tx.serialize());\n        }\n        return tx.cache.hash;\n    }\n    return keccakFunction(tx.serialize());\n}\n/**\n * EIP-2: All transaction signatures whose s-value is greater than secp256k1n/2are considered invalid.\n * Reasoning: https://ethereum.stackexchange.com/a/55728\n */\nfunction validateHighS(tx) {\n    const { s } = tx;\n    if (tx.common.gteHardfork('homestead') && s !== undefined && s > _ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.SECP256K1_ORDER_DIV_2) {\n        const msg = errorMsg(tx, 'Invalid Signature: s-values greater than secp256k1n/2 are considered invalid');\n        throw new Error(msg);\n    }\n}\nfunction getSenderPublicKey(tx) {\n    if (tx.cache.senderPubKey !== undefined) {\n        return tx.cache.senderPubKey;\n    }\n    const msgHash = tx.getMessageToVerifySignature();\n    const { v, r, s } = tx;\n    validateHighS(tx);\n    try {\n        const ecrecoverFunction = tx.common.customCrypto.ecrecover ?? _ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.ecrecover;\n        const sender = ecrecoverFunction(msgHash, v, (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bigIntToUnpaddedBytes)(r), (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bigIntToUnpaddedBytes)(s), tx.supports(_types_js__WEBPACK_IMPORTED_MODULE_3__.Capability.EIP155ReplayProtection) ? tx.common.chainId() : undefined);\n        if (Object.isFrozen(tx)) {\n            tx.cache.senderPubKey = sender;\n        }\n        return sender;\n    }\n    catch (e) {\n        const msg = errorMsg(tx, 'Invalid Signature');\n        throw new Error(msg);\n    }\n}\nfunction getEffectivePriorityFee(gasPrice, baseFee) {\n    if (baseFee !== undefined && baseFee > gasPrice) {\n        throw new Error('Tx cannot pay baseFee');\n    }\n    if (baseFee === undefined) {\n        return gasPrice;\n    }\n    return gasPrice - baseFee;\n}\n//# sourceMappingURL=legacy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9jYXBhYmlsaXRpZXMvbGVnYWN5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQTJGO0FBQy9CO0FBQ0o7QUFDZjtBQUNsQztBQUNQLGNBQWMsS0FBSyxHQUFHLGNBQWM7QUFDcEM7QUFDTztBQUNQLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdFQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELHNFQUFTO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsWUFBWSxJQUFJO0FBQ2hCLHFFQUFxRSxtRUFBcUI7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQSxzRUFBc0UsdURBQVM7QUFDL0UscURBQXFELHVFQUFxQixLQUFLLHVFQUFxQixpQkFBaUIsaURBQVU7QUFDL0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb2xsZWN0aWJsZS93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9jYXBhYmlsaXRpZXMvbGVnYWN5LmpzPzJlNjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU0VDUDI1NksxX09SREVSX0RJVl8yLCBiaWdJbnRUb1VucGFkZGVkQnl0ZXMsIGVjcmVjb3ZlciB9IGZyb20gJ0BldGhlcmV1bWpzL3V0aWwnO1xuaW1wb3J0IHsga2VjY2FrMjU2IH0gZnJvbSAnZXRoZXJldW0tY3J5cHRvZ3JhcGh5L2tlY2Nhay5qcyc7XG5pbXBvcnQgeyBCYXNlVHJhbnNhY3Rpb24gfSBmcm9tICcuLi9iYXNlVHJhbnNhY3Rpb24uanMnO1xuaW1wb3J0IHsgQ2FwYWJpbGl0eSB9IGZyb20gJy4uL3R5cGVzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBlcnJvck1zZyh0eCwgbXNnKSB7XG4gICAgcmV0dXJuIGAke21zZ30gKCR7dHguZXJyb3JTdHIoKX0pYDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1NpZ25lZCh0eCkge1xuICAgIGNvbnN0IHsgdiwgciwgcyB9ID0gdHg7XG4gICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCByID09PSB1bmRlZmluZWQgfHwgcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbi8qKlxuICogVGhlIGFtb3VudCBvZiBnYXMgcGFpZCBmb3IgdGhlIGRhdGEgaW4gdGhpcyB0eFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YUZlZSh0eCwgZXh0cmFDb3N0KSB7XG4gICAgaWYgKHR4LmNhY2hlLmRhdGFGZWUgJiYgdHguY2FjaGUuZGF0YUZlZS5oYXJkZm9yayA9PT0gdHguY29tbW9uLmhhcmRmb3JrKCkpIHtcbiAgICAgICAgcmV0dXJuIHR4LmNhY2hlLmRhdGFGZWUudmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IGNvc3QgPSBCYXNlVHJhbnNhY3Rpb24ucHJvdG90eXBlLmdldERhdGFGZWUuYmluZCh0eCkoKSArIChleHRyYUNvc3QgPz8gMG4pO1xuICAgIGlmIChPYmplY3QuaXNGcm96ZW4odHgpKSB7XG4gICAgICAgIHR4LmNhY2hlLmRhdGFGZWUgPSB7XG4gICAgICAgICAgICB2YWx1ZTogY29zdCxcbiAgICAgICAgICAgIGhhcmRmb3JrOiB0eC5jb21tb24uaGFyZGZvcmsoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGNvc3Q7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzaCh0eCkge1xuICAgIGlmICghdHguaXNTaWduZWQoKSkge1xuICAgICAgICBjb25zdCBtc2cgPSBlcnJvck1zZyh0eCwgJ0Nhbm5vdCBjYWxsIGhhc2ggbWV0aG9kIGlmIHRyYW5zYWN0aW9uIGlzIG5vdCBzaWduZWQnKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgfVxuICAgIGNvbnN0IGtlY2Nha0Z1bmN0aW9uID0gdHguY29tbW9uLmN1c3RvbUNyeXB0by5rZWNjYWsyNTYgPz8ga2VjY2FrMjU2O1xuICAgIGlmIChPYmplY3QuaXNGcm96ZW4odHgpKSB7XG4gICAgICAgIGlmICghdHguY2FjaGUuaGFzaCkge1xuICAgICAgICAgICAgdHguY2FjaGUuaGFzaCA9IGtlY2Nha0Z1bmN0aW9uKHR4LnNlcmlhbGl6ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHguY2FjaGUuaGFzaDtcbiAgICB9XG4gICAgcmV0dXJuIGtlY2Nha0Z1bmN0aW9uKHR4LnNlcmlhbGl6ZSgpKTtcbn1cbi8qKlxuICogRUlQLTI6IEFsbCB0cmFuc2FjdGlvbiBzaWduYXR1cmVzIHdob3NlIHMtdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHNlY3AyNTZrMW4vMmFyZSBjb25zaWRlcmVkIGludmFsaWQuXG4gKiBSZWFzb25pbmc6IGh0dHBzOi8vZXRoZXJldW0uc3RhY2tleGNoYW5nZS5jb20vYS81NTcyOFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVIaWdoUyh0eCkge1xuICAgIGNvbnN0IHsgcyB9ID0gdHg7XG4gICAgaWYgKHR4LmNvbW1vbi5ndGVIYXJkZm9yaygnaG9tZXN0ZWFkJykgJiYgcyAhPT0gdW5kZWZpbmVkICYmIHMgPiBTRUNQMjU2SzFfT1JERVJfRElWXzIpIHtcbiAgICAgICAgY29uc3QgbXNnID0gZXJyb3JNc2codHgsICdJbnZhbGlkIFNpZ25hdHVyZTogcy12YWx1ZXMgZ3JlYXRlciB0aGFuIHNlY3AyNTZrMW4vMiBhcmUgY29uc2lkZXJlZCBpbnZhbGlkJyk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZW5kZXJQdWJsaWNLZXkodHgpIHtcbiAgICBpZiAodHguY2FjaGUuc2VuZGVyUHViS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHR4LmNhY2hlLnNlbmRlclB1YktleTtcbiAgICB9XG4gICAgY29uc3QgbXNnSGFzaCA9IHR4LmdldE1lc3NhZ2VUb1ZlcmlmeVNpZ25hdHVyZSgpO1xuICAgIGNvbnN0IHsgdiwgciwgcyB9ID0gdHg7XG4gICAgdmFsaWRhdGVIaWdoUyh0eCk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZWNyZWNvdmVyRnVuY3Rpb24gPSB0eC5jb21tb24uY3VzdG9tQ3J5cHRvLmVjcmVjb3ZlciA/PyBlY3JlY292ZXI7XG4gICAgICAgIGNvbnN0IHNlbmRlciA9IGVjcmVjb3ZlckZ1bmN0aW9uKG1zZ0hhc2gsIHYsIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyhyKSwgYmlnSW50VG9VbnBhZGRlZEJ5dGVzKHMpLCB0eC5zdXBwb3J0cyhDYXBhYmlsaXR5LkVJUDE1NVJlcGxheVByb3RlY3Rpb24pID8gdHguY29tbW9uLmNoYWluSWQoKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4odHgpKSB7XG4gICAgICAgICAgICB0eC5jYWNoZS5zZW5kZXJQdWJLZXkgPSBzZW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbmRlcjtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc3QgbXNnID0gZXJyb3JNc2codHgsICdJbnZhbGlkIFNpZ25hdHVyZScpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RWZmZWN0aXZlUHJpb3JpdHlGZWUoZ2FzUHJpY2UsIGJhc2VGZWUpIHtcbiAgICBpZiAoYmFzZUZlZSAhPT0gdW5kZWZpbmVkICYmIGJhc2VGZWUgPiBnYXNQcmljZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1R4IGNhbm5vdCBwYXkgYmFzZUZlZScpO1xuICAgIH1cbiAgICBpZiAoYmFzZUZlZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBnYXNQcmljZTtcbiAgICB9XG4gICAgcmV0dXJuIGdhc1ByaWNlIC0gYmFzZUZlZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxlZ2FjeS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/legacy.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/constants.js":
/*!*******************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/constants.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BYTES_PER_FIELD_ELEMENT: () => (/* binding */ BYTES_PER_FIELD_ELEMENT),\n/* harmony export */   FIELD_ELEMENTS_PER_BLOB: () => (/* binding */ FIELD_ELEMENTS_PER_BLOB),\n/* harmony export */   LIMIT_BLOBS_PER_TX: () => (/* binding */ LIMIT_BLOBS_PER_TX),\n/* harmony export */   MAX_ACCESS_LIST_SIZE: () => (/* binding */ MAX_ACCESS_LIST_SIZE),\n/* harmony export */   MAX_CALLDATA_SIZE: () => (/* binding */ MAX_CALLDATA_SIZE),\n/* harmony export */   MAX_TX_WRAP_KZG_COMMITMENTS: () => (/* binding */ MAX_TX_WRAP_KZG_COMMITMENTS),\n/* harmony export */   MAX_VERSIONED_HASHES_LIST_SIZE: () => (/* binding */ MAX_VERSIONED_HASHES_LIST_SIZE)\n/* harmony export */ });\n/** EIP4844 constants */\nconst MAX_CALLDATA_SIZE = 16777216; // 2 ** 24\nconst MAX_ACCESS_LIST_SIZE = 16777216; // 2 ** 24\nconst MAX_VERSIONED_HASHES_LIST_SIZE = 16777216; // 2 ** 24\nconst LIMIT_BLOBS_PER_TX = 6; // 786432 / 2^17 (`MAX_BLOB_GAS_PER_BLOCK` / `GAS_PER_BLOB`)\nconst MAX_TX_WRAP_KZG_COMMITMENTS = 16777216; // 2 ** 24\nconst FIELD_ELEMENTS_PER_BLOB = 4096; // This is also in the Common 4844 parameters but needed here since types can't access Common params\nconst BYTES_PER_FIELD_ELEMENT = 32;\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ08sb0NBQW9DO0FBQ3BDLHVDQUF1QztBQUN2QyxpREFBaUQ7QUFDakQsOEJBQThCO0FBQzlCLDhDQUE4QztBQUM5QyxzQ0FBc0M7QUFDdEM7QUFDUCIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb2xsZWN0aWJsZS93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9jb25zdGFudHMuanM/YWMyMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogRUlQNDg0NCBjb25zdGFudHMgKi9cbmV4cG9ydCBjb25zdCBNQVhfQ0FMTERBVEFfU0laRSA9IDE2Nzc3MjE2OyAvLyAyICoqIDI0XG5leHBvcnQgY29uc3QgTUFYX0FDQ0VTU19MSVNUX1NJWkUgPSAxNjc3NzIxNjsgLy8gMiAqKiAyNFxuZXhwb3J0IGNvbnN0IE1BWF9WRVJTSU9ORURfSEFTSEVTX0xJU1RfU0laRSA9IDE2Nzc3MjE2OyAvLyAyICoqIDI0XG5leHBvcnQgY29uc3QgTElNSVRfQkxPQlNfUEVSX1RYID0gNjsgLy8gNzg2NDMyIC8gMl4xNyAoYE1BWF9CTE9CX0dBU19QRVJfQkxPQ0tgIC8gYEdBU19QRVJfQkxPQmApXG5leHBvcnQgY29uc3QgTUFYX1RYX1dSQVBfS1pHX0NPTU1JVE1FTlRTID0gMTY3NzcyMTY7IC8vIDIgKiogMjRcbmV4cG9ydCBjb25zdCBGSUVMRF9FTEVNRU5UU19QRVJfQkxPQiA9IDQwOTY7IC8vIFRoaXMgaXMgYWxzbyBpbiB0aGUgQ29tbW9uIDQ4NDQgcGFyYW1ldGVycyBidXQgbmVlZGVkIGhlcmUgc2luY2UgdHlwZXMgY2FuJ3QgYWNjZXNzIENvbW1vbiBwYXJhbXNcbmV4cG9ydCBjb25zdCBCWVRFU19QRVJfRklFTERfRUxFTUVOVCA9IDMyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/constants.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip1559Transaction.js":
/*!****************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip1559Transaction.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FeeMarketEIP1559Transaction: () => (/* binding */ FeeMarketEIP1559Transaction)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/rlp */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+rlp@5.0.2/node_modules/@ethereumjs/rlp/dist/esm/index.js\");\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+util@9.1.0/node_modules/@ethereumjs/util/dist/esm/index.js\");\n/* harmony import */ var _baseTransaction_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./baseTransaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/baseTransaction.js\");\n/* harmony import */ var _capabilities_eip1559_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./capabilities/eip1559.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip1559.js\");\n/* harmony import */ var _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./capabilities/eip2718.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip2718.js\");\n/* harmony import */ var _capabilities_eip2930_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./capabilities/eip2930.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip2930.js\");\n/* harmony import */ var _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./capabilities/legacy.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/legacy.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./types.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/types.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./util.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/util.js\");\n\n\n\n\n\n\n\n\n\n/**\n * Typed transaction with a new gas fee market mechanism\n *\n * - TransactionType: 2\n * - EIP: [EIP-1559](https://eips.ethereum.org/EIPS/eip-1559)\n */\nclass FeeMarketEIP1559Transaction extends _baseTransaction_js__WEBPACK_IMPORTED_MODULE_2__.BaseTransaction {\n    /**\n     * This constructor takes the values, validates them, assigns them and freezes the object.\n     *\n     * It is not recommended to use this constructor directly. Instead use\n     * the static factory methods to assist in creating a Transaction object from\n     * varying data types.\n     */\n    constructor(txData, opts = {}) {\n        super({ ...txData, type: _types_js__WEBPACK_IMPORTED_MODULE_7__.TransactionType.FeeMarketEIP1559 }, opts);\n        const { chainId, accessList, maxFeePerGas, maxPriorityFeePerGas } = txData;\n        this.common = this._getCommon(opts.common, chainId);\n        this.chainId = this.common.chainId();\n        if (!this.common.isActivatedEIP(1559)) {\n            throw new Error('EIP-1559 not enabled on Common');\n        }\n        this.activeCapabilities = this.activeCapabilities.concat([1559, 2718, 2930]);\n        // Populate the access list fields\n        const accessListData = _util_js__WEBPACK_IMPORTED_MODULE_8__.AccessLists.getAccessListData(accessList ?? []);\n        this.accessList = accessListData.accessList;\n        this.AccessListJSON = accessListData.AccessListJSON;\n        // Verify the access list format.\n        _util_js__WEBPACK_IMPORTED_MODULE_8__.AccessLists.verifyAccessList(this.accessList);\n        this.maxFeePerGas = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(maxFeePerGas));\n        this.maxPriorityFeePerGas = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(maxPriorityFeePerGas));\n        this._validateCannotExceedMaxInteger({\n            maxFeePerGas: this.maxFeePerGas,\n            maxPriorityFeePerGas: this.maxPriorityFeePerGas,\n        });\n        _baseTransaction_js__WEBPACK_IMPORTED_MODULE_2__.BaseTransaction._validateNotArray(txData);\n        if (this.gasLimit * this.maxFeePerGas > _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.MAX_INTEGER) {\n            const msg = this._errorMsg('gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)');\n            throw new Error(msg);\n        }\n        if (this.maxFeePerGas < this.maxPriorityFeePerGas) {\n            const msg = this._errorMsg('maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)');\n            throw new Error(msg);\n        }\n        _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__.validateYParity(this);\n        _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__.validateHighS(this);\n        const freeze = opts?.freeze ?? true;\n        if (freeze) {\n            Object.freeze(this);\n        }\n    }\n    /**\n     * Instantiate a transaction from a data dictionary.\n     *\n     * Format: { chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, v, r, s }\n     *\n     * Notes:\n     * - `chainId` will be set automatically if not provided\n     * - All parameters are optional and have some basic default values\n     */\n    static fromTxData(txData, opts = {}) {\n        return new FeeMarketEIP1559Transaction(txData, opts);\n    }\n    /**\n     * Instantiate a transaction from the serialized tx.\n     *\n     * Format: `0x02 || rlp([chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS])`\n     */\n    static fromSerializedTx(serialized, opts = {}) {\n        if ((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.equalsBytes)(serialized.subarray(0, 1), (0,_util_js__WEBPACK_IMPORTED_MODULE_8__.txTypeBytes)(_types_js__WEBPACK_IMPORTED_MODULE_7__.TransactionType.FeeMarketEIP1559)) ===\n            false) {\n            throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${_types_js__WEBPACK_IMPORTED_MODULE_7__.TransactionType.FeeMarketEIP1559}, received: ${(0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(serialized.subarray(0, 1))}`);\n        }\n        const values = _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__.RLP.decode(serialized.subarray(1));\n        if (!Array.isArray(values)) {\n            throw new Error('Invalid serialized tx input: must be array');\n        }\n        return FeeMarketEIP1559Transaction.fromValuesArray(values, opts);\n    }\n    /**\n     * Create a transaction from a values array.\n     *\n     * Format: `[chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS]`\n     */\n    static fromValuesArray(values, opts = {}) {\n        if (values.length !== 9 && values.length !== 12) {\n            throw new Error('Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).');\n        }\n        const [chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data, accessList, v, r, s,] = values;\n        this._validateNotArray({ chainId, v });\n        (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.validateNoLeadingZeroes)({ nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, value, v, r, s });\n        return new FeeMarketEIP1559Transaction({\n            chainId: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(chainId),\n            nonce,\n            maxPriorityFeePerGas,\n            maxFeePerGas,\n            gasLimit,\n            to,\n            value,\n            data,\n            accessList: accessList ?? [],\n            v: v !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(v) : undefined,\n            r,\n            s,\n        }, opts);\n    }\n    /**\n     * The amount of gas paid for the data in this tx\n     */\n    getDataFee() {\n        return _capabilities_eip2930_js__WEBPACK_IMPORTED_MODULE_5__.getDataFee(this);\n    }\n    /**\n     * Returns the minimum of calculated priority fee (from maxFeePerGas and baseFee) and maxPriorityFeePerGas\n     * @param baseFee Base fee retrieved from block\n     */\n    getEffectivePriorityFee(baseFee) {\n        return _capabilities_eip1559_js__WEBPACK_IMPORTED_MODULE_3__.getEffectivePriorityFee(this, baseFee);\n    }\n    /**\n     * The up front amount that an account must have for this transaction to be valid\n     * @param baseFee The base fee of the block (will be set to 0 if not provided)\n     */\n    getUpfrontCost(baseFee = _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.BIGINT_0) {\n        return _capabilities_eip1559_js__WEBPACK_IMPORTED_MODULE_3__.getUpfrontCost(this, baseFee);\n    }\n    /**\n     * Returns a Uint8Array Array of the raw Bytes of the EIP-1559 transaction, in order.\n     *\n     * Format: `[chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS]`\n     *\n     * Use {@link FeeMarketEIP1559Transaction.serialize} to add a transaction to a block\n     * with {@link Block.fromValuesArray}.\n     *\n     * For an unsigned tx this method uses the empty Bytes values for the\n     * signature parameters `v`, `r` and `s` for encoding. For an EIP-155 compliant\n     * representation for external signing use {@link FeeMarketEIP1559Transaction.getMessageToSign}.\n     */\n    raw() {\n        return [\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.chainId),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.nonce),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.maxPriorityFeePerGas),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.maxFeePerGas),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.gasLimit),\n            this.to !== undefined ? this.to.bytes : new Uint8Array(0),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.value),\n            this.data,\n            this.accessList,\n            this.v !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.v) : new Uint8Array(0),\n            this.r !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.r) : new Uint8Array(0),\n            this.s !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.s) : new Uint8Array(0),\n        ];\n    }\n    /**\n     * Returns the serialized encoding of the EIP-1559 transaction.\n     *\n     * Format: `0x02 || rlp([chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS])`\n     *\n     * Note that in contrast to the legacy tx serialization format this is not\n     * valid RLP any more due to the raw tx type preceding and concatenated to\n     * the RLP encoding of the values.\n     */\n    serialize() {\n        return _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__.serialize(this);\n    }\n    /**\n     * Returns the raw serialized unsigned tx, which can be used\n     * to sign the transaction (e.g. for sending to a hardware wallet).\n     *\n     * Note: in contrast to the legacy tx the raw message format is already\n     * serialized and doesn't need to be RLP encoded any more.\n     *\n     * ```javascript\n     * const serializedMessage = tx.getMessageToSign() // use this for the HW wallet input\n     * ```\n     */\n    getMessageToSign() {\n        return _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__.serialize(this, this.raw().slice(0, 9));\n    }\n    /**\n     * Returns the hashed serialized unsigned tx, which can be used\n     * to sign the transaction (e.g. for sending to a hardware wallet).\n     *\n     * Note: in contrast to the legacy tx the raw message format is already\n     * serialized and doesn't need to be RLP encoded any more.\n     */\n    getHashedMessageToSign() {\n        return _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__.getHashedMessageToSign(this);\n    }\n    /**\n     * Computes a sha3-256 hash of the serialized tx.\n     *\n     * This method can only be used for signed txs (it throws otherwise).\n     * Use {@link FeeMarketEIP1559Transaction.getMessageToSign} to get a tx hash for the purpose of signing.\n     */\n    hash() {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__.hash(this);\n    }\n    /**\n     * Computes a sha3-256 hash which can be used to verify the signature\n     */\n    getMessageToVerifySignature() {\n        return this.getHashedMessageToSign();\n    }\n    /**\n     * Returns the public key of the sender\n     */\n    getSenderPublicKey() {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__.getSenderPublicKey(this);\n    }\n    addSignature(v, r, s, convertV = false) {\n        r = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(r);\n        s = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(s);\n        const opts = { ...this.txOptions, common: this.common };\n        return FeeMarketEIP1559Transaction.fromTxData({\n            chainId: this.chainId,\n            nonce: this.nonce,\n            maxPriorityFeePerGas: this.maxPriorityFeePerGas,\n            maxFeePerGas: this.maxFeePerGas,\n            gasLimit: this.gasLimit,\n            to: this.to,\n            value: this.value,\n            data: this.data,\n            accessList: this.accessList,\n            v: convertV ? v - _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.BIGINT_27 : v,\n            r: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(r),\n            s: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(s),\n        }, opts);\n    }\n    /**\n     * Returns an object with the JSON representation of the transaction\n     */\n    toJSON() {\n        const accessListJSON = _util_js__WEBPACK_IMPORTED_MODULE_8__.AccessLists.getAccessListJSON(this.accessList);\n        const baseJson = super.toJSON();\n        return {\n            ...baseJson,\n            chainId: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.chainId),\n            maxPriorityFeePerGas: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.maxPriorityFeePerGas),\n            maxFeePerGas: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.maxFeePerGas),\n            accessList: accessListJSON,\n        };\n    }\n    /**\n     * Return a compact error string representation of the object\n     */\n    errorStr() {\n        let errorStr = this._getSharedErrorPostfix();\n        errorStr += ` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`;\n        return errorStr;\n    }\n    /**\n     * Internal helper function to create an annotated error message\n     *\n     * @param msg Base error message\n     * @hidden\n     */\n    _errorMsg(msg) {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__.errorMsg(this, msg);\n    }\n}\n//# sourceMappingURL=eip1559Transaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9laXAxNTU5VHJhbnNhY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFzQztBQUM2STtBQUM1SDtBQUNGO0FBQ0E7QUFDQTtBQUNGO0FBQ047QUFDUTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywwQ0FBMEMsZ0VBQWU7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsZ0JBQWdCLGlCQUFpQixzREFBZSxtQkFBbUI7QUFDbkUsZ0JBQWdCLDBEQUEwRDtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixpREFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQSxRQUFRLGlEQUFXO0FBQ25CLDRCQUE0QiwrREFBYSxDQUFDLHlEQUFPO0FBQ2pELG9DQUFvQywrREFBYSxDQUFDLHlEQUFPO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLGdFQUFlO0FBQ3ZCLGdEQUFnRCx5REFBVztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscUVBQXVCO0FBQy9CLFFBQVEsa0VBQW9CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQsWUFBWSw2REFBVyw0QkFBNEIscURBQVcsQ0FBQyxzREFBZTtBQUM5RTtBQUNBLGtIQUFrSCxzREFBZSxrQkFBa0IsY0FBYyw0REFBVSw0QkFBNEI7QUFDdk07QUFDQSx1QkFBdUIsZ0RBQUc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxZQUFZO0FBQzdDLFFBQVEseUVBQXVCLEdBQUcscUVBQXFFO0FBQ3ZHO0FBQ0EscUJBQXFCLCtEQUFhO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsK0RBQWE7QUFDOUM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnRUFBa0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw2RUFBK0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixzREFBUTtBQUNyQyxlQUFlLG9FQUFzQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkNBQTZDO0FBQ3pELGFBQWEsNEJBQTRCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxtREFBbUQ7QUFDbkc7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1RUFBcUI7QUFDakMsWUFBWSx1RUFBcUI7QUFDakMsWUFBWSx1RUFBcUI7QUFDakMsWUFBWSx1RUFBcUI7QUFDakMsWUFBWSx1RUFBcUI7QUFDakM7QUFDQSxZQUFZLHVFQUFxQjtBQUNqQztBQUNBO0FBQ0EsbUNBQW1DLHVFQUFxQjtBQUN4RCxtQ0FBbUMsdUVBQXFCO0FBQ3hELG1DQUFtQyx1RUFBcUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLCtEQUFpQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsK0RBQWlCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNEVBQThCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG9EQUFvRDtBQUNoRTtBQUNBO0FBQ0EsZUFBZSx5REFBVztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1RUFBeUI7QUFDeEM7QUFDQTtBQUNBLFlBQVkseURBQU87QUFDbkIsWUFBWSx5REFBTztBQUNuQix1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsdURBQVM7QUFDdkMsZUFBZSwrREFBYTtBQUM1QixlQUFlLCtEQUFhO0FBQzVCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlEQUFXO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2REFBVztBQUNoQyxrQ0FBa0MsNkRBQVc7QUFDN0MsMEJBQTBCLDZEQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsbUJBQW1CLHVCQUF1QiwwQkFBMEI7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw2REFBZTtBQUM5QjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29sbGVjdGlibGUvd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXRoZXJldW1qcyt0eEA1LjQuMC9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdHgvZGlzdC9lc20vZWlwMTU1OVRyYW5zYWN0aW9uLmpzPzI0ZGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUkxQIH0gZnJvbSAnQGV0aGVyZXVtanMvcmxwJztcbmltcG9ydCB7IEJJR0lOVF8wLCBCSUdJTlRfMjcsIE1BWF9JTlRFR0VSLCBiaWdJbnRUb0hleCwgYmlnSW50VG9VbnBhZGRlZEJ5dGVzLCBieXRlc1RvQmlnSW50LCBieXRlc1RvSGV4LCBlcXVhbHNCeXRlcywgdG9CeXRlcywgdmFsaWRhdGVOb0xlYWRpbmdaZXJvZXMsIH0gZnJvbSAnQGV0aGVyZXVtanMvdXRpbCc7XG5pbXBvcnQgeyBCYXNlVHJhbnNhY3Rpb24gfSBmcm9tICcuL2Jhc2VUcmFuc2FjdGlvbi5qcyc7XG5pbXBvcnQgKiBhcyBFSVAxNTU5IGZyb20gJy4vY2FwYWJpbGl0aWVzL2VpcDE1NTkuanMnO1xuaW1wb3J0ICogYXMgRUlQMjcxOCBmcm9tICcuL2NhcGFiaWxpdGllcy9laXAyNzE4LmpzJztcbmltcG9ydCAqIGFzIEVJUDI5MzAgZnJvbSAnLi9jYXBhYmlsaXRpZXMvZWlwMjkzMC5qcyc7XG5pbXBvcnQgKiBhcyBMZWdhY3kgZnJvbSAnLi9jYXBhYmlsaXRpZXMvbGVnYWN5LmpzJztcbmltcG9ydCB7IFRyYW5zYWN0aW9uVHlwZSB9IGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0IHsgQWNjZXNzTGlzdHMsIHR4VHlwZUJ5dGVzIH0gZnJvbSAnLi91dGlsLmpzJztcbi8qKlxuICogVHlwZWQgdHJhbnNhY3Rpb24gd2l0aCBhIG5ldyBnYXMgZmVlIG1hcmtldCBtZWNoYW5pc21cbiAqXG4gKiAtIFRyYW5zYWN0aW9uVHlwZTogMlxuICogLSBFSVA6IFtFSVAtMTU1OV0oaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0xNTU5KVxuICovXG5leHBvcnQgY2xhc3MgRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uIGV4dGVuZHMgQmFzZVRyYW5zYWN0aW9uIHtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNvbnN0cnVjdG9yIHRha2VzIHRoZSB2YWx1ZXMsIHZhbGlkYXRlcyB0aGVtLCBhc3NpZ25zIHRoZW0gYW5kIGZyZWV6ZXMgdGhlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEl0IGlzIG5vdCByZWNvbW1lbmRlZCB0byB1c2UgdGhpcyBjb25zdHJ1Y3RvciBkaXJlY3RseS4gSW5zdGVhZCB1c2VcbiAgICAgKiB0aGUgc3RhdGljIGZhY3RvcnkgbWV0aG9kcyB0byBhc3Npc3QgaW4gY3JlYXRpbmcgYSBUcmFuc2FjdGlvbiBvYmplY3QgZnJvbVxuICAgICAqIHZhcnlpbmcgZGF0YSB0eXBlcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0eERhdGEsIG9wdHMgPSB7fSkge1xuICAgICAgICBzdXBlcih7IC4uLnR4RGF0YSwgdHlwZTogVHJhbnNhY3Rpb25UeXBlLkZlZU1hcmtldEVJUDE1NTkgfSwgb3B0cyk7XG4gICAgICAgIGNvbnN0IHsgY2hhaW5JZCwgYWNjZXNzTGlzdCwgbWF4RmVlUGVyR2FzLCBtYXhQcmlvcml0eUZlZVBlckdhcyB9ID0gdHhEYXRhO1xuICAgICAgICB0aGlzLmNvbW1vbiA9IHRoaXMuX2dldENvbW1vbihvcHRzLmNvbW1vbiwgY2hhaW5JZCk7XG4gICAgICAgIHRoaXMuY2hhaW5JZCA9IHRoaXMuY29tbW9uLmNoYWluSWQoKTtcbiAgICAgICAgaWYgKCF0aGlzLmNvbW1vbi5pc0FjdGl2YXRlZEVJUCgxNTU5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFSVAtMTU1OSBub3QgZW5hYmxlZCBvbiBDb21tb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZUNhcGFiaWxpdGllcyA9IHRoaXMuYWN0aXZlQ2FwYWJpbGl0aWVzLmNvbmNhdChbMTU1OSwgMjcxOCwgMjkzMF0pO1xuICAgICAgICAvLyBQb3B1bGF0ZSB0aGUgYWNjZXNzIGxpc3QgZmllbGRzXG4gICAgICAgIGNvbnN0IGFjY2Vzc0xpc3REYXRhID0gQWNjZXNzTGlzdHMuZ2V0QWNjZXNzTGlzdERhdGEoYWNjZXNzTGlzdCA/PyBbXSk7XG4gICAgICAgIHRoaXMuYWNjZXNzTGlzdCA9IGFjY2Vzc0xpc3REYXRhLmFjY2Vzc0xpc3Q7XG4gICAgICAgIHRoaXMuQWNjZXNzTGlzdEpTT04gPSBhY2Nlc3NMaXN0RGF0YS5BY2Nlc3NMaXN0SlNPTjtcbiAgICAgICAgLy8gVmVyaWZ5IHRoZSBhY2Nlc3MgbGlzdCBmb3JtYXQuXG4gICAgICAgIEFjY2Vzc0xpc3RzLnZlcmlmeUFjY2Vzc0xpc3QodGhpcy5hY2Nlc3NMaXN0KTtcbiAgICAgICAgdGhpcy5tYXhGZWVQZXJHYXMgPSBieXRlc1RvQmlnSW50KHRvQnl0ZXMobWF4RmVlUGVyR2FzKSk7XG4gICAgICAgIHRoaXMubWF4UHJpb3JpdHlGZWVQZXJHYXMgPSBieXRlc1RvQmlnSW50KHRvQnl0ZXMobWF4UHJpb3JpdHlGZWVQZXJHYXMpKTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVDYW5ub3RFeGNlZWRNYXhJbnRlZ2VyKHtcbiAgICAgICAgICAgIG1heEZlZVBlckdhczogdGhpcy5tYXhGZWVQZXJHYXMsXG4gICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogdGhpcy5tYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICAgICAgfSk7XG4gICAgICAgIEJhc2VUcmFuc2FjdGlvbi5fdmFsaWRhdGVOb3RBcnJheSh0eERhdGEpO1xuICAgICAgICBpZiAodGhpcy5nYXNMaW1pdCAqIHRoaXMubWF4RmVlUGVyR2FzID4gTUFYX0lOVEVHRVIpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IHRoaXMuX2Vycm9yTXNnKCdnYXNMaW1pdCAqIG1heEZlZVBlckdhcyBjYW5ub3QgZXhjZWVkIE1BWF9JTlRFR0VSICgyXjI1Ni0xKScpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWF4RmVlUGVyR2FzIDwgdGhpcy5tYXhQcmlvcml0eUZlZVBlckdhcykge1xuICAgICAgICAgICAgY29uc3QgbXNnID0gdGhpcy5fZXJyb3JNc2coJ21heEZlZVBlckdhcyBjYW5ub3QgYmUgbGVzcyB0aGFuIG1heFByaW9yaXR5RmVlUGVyR2FzIChUaGUgdG90YWwgbXVzdCBiZSB0aGUgbGFyZ2VyIG9mIHRoZSB0d28pJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICBFSVAyNzE4LnZhbGlkYXRlWVBhcml0eSh0aGlzKTtcbiAgICAgICAgTGVnYWN5LnZhbGlkYXRlSGlnaFModGhpcyk7XG4gICAgICAgIGNvbnN0IGZyZWV6ZSA9IG9wdHM/LmZyZWV6ZSA/PyB0cnVlO1xuICAgICAgICBpZiAoZnJlZXplKSB7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSBhIGRhdGEgZGljdGlvbmFyeS5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogeyBjaGFpbklkLCBub25jZSwgbWF4UHJpb3JpdHlGZWVQZXJHYXMsIG1heEZlZVBlckdhcywgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSxcbiAgICAgKiBhY2Nlc3NMaXN0LCB2LCByLCBzIH1cbiAgICAgKlxuICAgICAqIE5vdGVzOlxuICAgICAqIC0gYGNoYWluSWRgIHdpbGwgYmUgc2V0IGF1dG9tYXRpY2FsbHkgaWYgbm90IHByb3ZpZGVkXG4gICAgICogLSBBbGwgcGFyYW1ldGVycyBhcmUgb3B0aW9uYWwgYW5kIGhhdmUgc29tZSBiYXNpYyBkZWZhdWx0IHZhbHVlc1xuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tVHhEYXRhKHR4RGF0YSwgb3B0cyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBuZXcgRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uKHR4RGF0YSwgb3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSB0aGUgc2VyaWFsaXplZCB0eC5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYDB4MDIgfHwgcmxwKFtjaGFpbklkLCBub25jZSwgbWF4UHJpb3JpdHlGZWVQZXJHYXMsIG1heEZlZVBlckdhcywgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSxcbiAgICAgKiBhY2Nlc3NMaXN0LCBzaWduYXR1cmVZUGFyaXR5LCBzaWduYXR1cmVSLCBzaWduYXR1cmVTXSlgXG4gICAgICovXG4gICAgc3RhdGljIGZyb21TZXJpYWxpemVkVHgoc2VyaWFsaXplZCwgb3B0cyA9IHt9KSB7XG4gICAgICAgIGlmIChlcXVhbHNCeXRlcyhzZXJpYWxpemVkLnN1YmFycmF5KDAsIDEpLCB0eFR5cGVCeXRlcyhUcmFuc2FjdGlvblR5cGUuRmVlTWFya2V0RUlQMTU1OSkpID09PVxuICAgICAgICAgICAgZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzZXJpYWxpemVkIHR4IGlucHV0OiBub3QgYW4gRUlQLTE1NTkgdHJhbnNhY3Rpb24gKHdyb25nIHR4IHR5cGUsIGV4cGVjdGVkOiAke1RyYW5zYWN0aW9uVHlwZS5GZWVNYXJrZXRFSVAxNTU5fSwgcmVjZWl2ZWQ6ICR7Ynl0ZXNUb0hleChzZXJpYWxpemVkLnN1YmFycmF5KDAsIDEpKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBSTFAuZGVjb2RlKHNlcmlhbGl6ZWQuc3ViYXJyYXkoMSkpO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcmlhbGl6ZWQgdHggaW5wdXQ6IG11c3QgYmUgYXJyYXknKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLmZyb21WYWx1ZXNBcnJheSh2YWx1ZXMsIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0cmFuc2FjdGlvbiBmcm9tIGEgdmFsdWVzIGFycmF5LlxuICAgICAqXG4gICAgICogRm9ybWF0OiBgW2NoYWluSWQsIG5vbmNlLCBtYXhQcmlvcml0eUZlZVBlckdhcywgbWF4RmVlUGVyR2FzLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLFxuICAgICAqIGFjY2Vzc0xpc3QsIHNpZ25hdHVyZVlQYXJpdHksIHNpZ25hdHVyZVIsIHNpZ25hdHVyZVNdYFxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tVmFsdWVzQXJyYXkodmFsdWVzLCBvcHRzID0ge30pIHtcbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggIT09IDkgJiYgdmFsdWVzLmxlbmd0aCAhPT0gMTIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBFSVAtMTU1OSB0cmFuc2FjdGlvbi4gT25seSBleHBlY3RpbmcgOSB2YWx1ZXMgKGZvciB1bnNpZ25lZCB0eCkgb3IgMTIgdmFsdWVzIChmb3Igc2lnbmVkIHR4KS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbY2hhaW5JZCwgbm9uY2UsIG1heFByaW9yaXR5RmVlUGVyR2FzLCBtYXhGZWVQZXJHYXMsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIGFjY2Vzc0xpc3QsIHYsIHIsIHMsXSA9IHZhbHVlcztcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVOb3RBcnJheSh7IGNoYWluSWQsIHYgfSk7XG4gICAgICAgIHZhbGlkYXRlTm9MZWFkaW5nWmVyb2VzKHsgbm9uY2UsIG1heFByaW9yaXR5RmVlUGVyR2FzLCBtYXhGZWVQZXJHYXMsIGdhc0xpbWl0LCB2YWx1ZSwgdiwgciwgcyB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgY2hhaW5JZDogYnl0ZXNUb0JpZ0ludChjaGFpbklkKSxcbiAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICAgICAgICBtYXhGZWVQZXJHYXMsXG4gICAgICAgICAgICBnYXNMaW1pdCxcbiAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgYWNjZXNzTGlzdDogYWNjZXNzTGlzdCA/PyBbXSxcbiAgICAgICAgICAgIHY6IHYgIT09IHVuZGVmaW5lZCA/IGJ5dGVzVG9CaWdJbnQodikgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICByLFxuICAgICAgICAgICAgcyxcbiAgICAgICAgfSwgb3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2YgZ2FzIHBhaWQgZm9yIHRoZSBkYXRhIGluIHRoaXMgdHhcbiAgICAgKi9cbiAgICBnZXREYXRhRmVlKCkge1xuICAgICAgICByZXR1cm4gRUlQMjkzMC5nZXREYXRhRmVlKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtaW5pbXVtIG9mIGNhbGN1bGF0ZWQgcHJpb3JpdHkgZmVlIChmcm9tIG1heEZlZVBlckdhcyBhbmQgYmFzZUZlZSkgYW5kIG1heFByaW9yaXR5RmVlUGVyR2FzXG4gICAgICogQHBhcmFtIGJhc2VGZWUgQmFzZSBmZWUgcmV0cmlldmVkIGZyb20gYmxvY2tcbiAgICAgKi9cbiAgICBnZXRFZmZlY3RpdmVQcmlvcml0eUZlZShiYXNlRmVlKSB7XG4gICAgICAgIHJldHVybiBFSVAxNTU5LmdldEVmZmVjdGl2ZVByaW9yaXR5RmVlKHRoaXMsIGJhc2VGZWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdXAgZnJvbnQgYW1vdW50IHRoYXQgYW4gYWNjb3VudCBtdXN0IGhhdmUgZm9yIHRoaXMgdHJhbnNhY3Rpb24gdG8gYmUgdmFsaWRcbiAgICAgKiBAcGFyYW0gYmFzZUZlZSBUaGUgYmFzZSBmZWUgb2YgdGhlIGJsb2NrICh3aWxsIGJlIHNldCB0byAwIGlmIG5vdCBwcm92aWRlZClcbiAgICAgKi9cbiAgICBnZXRVcGZyb250Q29zdChiYXNlRmVlID0gQklHSU5UXzApIHtcbiAgICAgICAgcmV0dXJuIEVJUDE1NTkuZ2V0VXBmcm9udENvc3QodGhpcywgYmFzZUZlZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBVaW50OEFycmF5IEFycmF5IG9mIHRoZSByYXcgQnl0ZXMgb2YgdGhlIEVJUC0xNTU5IHRyYW5zYWN0aW9uLCBpbiBvcmRlci5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYFtjaGFpbklkLCBub25jZSwgbWF4UHJpb3JpdHlGZWVQZXJHYXMsIG1heEZlZVBlckdhcywgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSxcbiAgICAgKiBhY2Nlc3NMaXN0LCBzaWduYXR1cmVZUGFyaXR5LCBzaWduYXR1cmVSLCBzaWduYXR1cmVTXWBcbiAgICAgKlxuICAgICAqIFVzZSB7QGxpbmsgRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLnNlcmlhbGl6ZX0gdG8gYWRkIGEgdHJhbnNhY3Rpb24gdG8gYSBibG9ja1xuICAgICAqIHdpdGgge0BsaW5rIEJsb2NrLmZyb21WYWx1ZXNBcnJheX0uXG4gICAgICpcbiAgICAgKiBGb3IgYW4gdW5zaWduZWQgdHggdGhpcyBtZXRob2QgdXNlcyB0aGUgZW1wdHkgQnl0ZXMgdmFsdWVzIGZvciB0aGVcbiAgICAgKiBzaWduYXR1cmUgcGFyYW1ldGVycyBgdmAsIGByYCBhbmQgYHNgIGZvciBlbmNvZGluZy4gRm9yIGFuIEVJUC0xNTUgY29tcGxpYW50XG4gICAgICogcmVwcmVzZW50YXRpb24gZm9yIGV4dGVybmFsIHNpZ25pbmcgdXNlIHtAbGluayBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24uZ2V0TWVzc2FnZVRvU2lnbn0uXG4gICAgICovXG4gICAgcmF3KCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgYmlnSW50VG9VbnBhZGRlZEJ5dGVzKHRoaXMuY2hhaW5JZCksXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5ub25jZSksXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5tYXhQcmlvcml0eUZlZVBlckdhcyksXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5tYXhGZWVQZXJHYXMpLFxuICAgICAgICAgICAgYmlnSW50VG9VbnBhZGRlZEJ5dGVzKHRoaXMuZ2FzTGltaXQpLFxuICAgICAgICAgICAgdGhpcy50byAhPT0gdW5kZWZpbmVkID8gdGhpcy50by5ieXRlcyA6IG5ldyBVaW50OEFycmF5KDApLFxuICAgICAgICAgICAgYmlnSW50VG9VbnBhZGRlZEJ5dGVzKHRoaXMudmFsdWUpLFxuICAgICAgICAgICAgdGhpcy5kYXRhLFxuICAgICAgICAgICAgdGhpcy5hY2Nlc3NMaXN0LFxuICAgICAgICAgICAgdGhpcy52ICE9PSB1bmRlZmluZWQgPyBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy52KSA6IG5ldyBVaW50OEFycmF5KDApLFxuICAgICAgICAgICAgdGhpcy5yICE9PSB1bmRlZmluZWQgPyBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5yKSA6IG5ldyBVaW50OEFycmF5KDApLFxuICAgICAgICAgICAgdGhpcy5zICE9PSB1bmRlZmluZWQgPyBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5zKSA6IG5ldyBVaW50OEFycmF5KDApLFxuICAgICAgICBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzZXJpYWxpemVkIGVuY29kaW5nIG9mIHRoZSBFSVAtMTU1OSB0cmFuc2FjdGlvbi5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYDB4MDIgfHwgcmxwKFtjaGFpbklkLCBub25jZSwgbWF4UHJpb3JpdHlGZWVQZXJHYXMsIG1heEZlZVBlckdhcywgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSxcbiAgICAgKiBhY2Nlc3NMaXN0LCBzaWduYXR1cmVZUGFyaXR5LCBzaWduYXR1cmVSLCBzaWduYXR1cmVTXSlgXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgaW4gY29udHJhc3QgdG8gdGhlIGxlZ2FjeSB0eCBzZXJpYWxpemF0aW9uIGZvcm1hdCB0aGlzIGlzIG5vdFxuICAgICAqIHZhbGlkIFJMUCBhbnkgbW9yZSBkdWUgdG8gdGhlIHJhdyB0eCB0eXBlIHByZWNlZGluZyBhbmQgY29uY2F0ZW5hdGVkIHRvXG4gICAgICogdGhlIFJMUCBlbmNvZGluZyBvZiB0aGUgdmFsdWVzLlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIEVJUDI3MTguc2VyaWFsaXplKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSByYXcgc2VyaWFsaXplZCB1bnNpZ25lZCB0eCwgd2hpY2ggY2FuIGJlIHVzZWRcbiAgICAgKiB0byBzaWduIHRoZSB0cmFuc2FjdGlvbiAoZS5nLiBmb3Igc2VuZGluZyB0byBhIGhhcmR3YXJlIHdhbGxldCkuXG4gICAgICpcbiAgICAgKiBOb3RlOiBpbiBjb250cmFzdCB0byB0aGUgbGVnYWN5IHR4IHRoZSByYXcgbWVzc2FnZSBmb3JtYXQgaXMgYWxyZWFkeVxuICAgICAqIHNlcmlhbGl6ZWQgYW5kIGRvZXNuJ3QgbmVlZCB0byBiZSBSTFAgZW5jb2RlZCBhbnkgbW9yZS5cbiAgICAgKlxuICAgICAqIGBgYGphdmFzY3JpcHRcbiAgICAgKiBjb25zdCBzZXJpYWxpemVkTWVzc2FnZSA9IHR4LmdldE1lc3NhZ2VUb1NpZ24oKSAvLyB1c2UgdGhpcyBmb3IgdGhlIEhXIHdhbGxldCBpbnB1dFxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGdldE1lc3NhZ2VUb1NpZ24oKSB7XG4gICAgICAgIHJldHVybiBFSVAyNzE4LnNlcmlhbGl6ZSh0aGlzLCB0aGlzLnJhdygpLnNsaWNlKDAsIDkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaGFzaGVkIHNlcmlhbGl6ZWQgdW5zaWduZWQgdHgsIHdoaWNoIGNhbiBiZSB1c2VkXG4gICAgICogdG8gc2lnbiB0aGUgdHJhbnNhY3Rpb24gKGUuZy4gZm9yIHNlbmRpbmcgdG8gYSBoYXJkd2FyZSB3YWxsZXQpLlxuICAgICAqXG4gICAgICogTm90ZTogaW4gY29udHJhc3QgdG8gdGhlIGxlZ2FjeSB0eCB0aGUgcmF3IG1lc3NhZ2UgZm9ybWF0IGlzIGFscmVhZHlcbiAgICAgKiBzZXJpYWxpemVkIGFuZCBkb2Vzbid0IG5lZWQgdG8gYmUgUkxQIGVuY29kZWQgYW55IG1vcmUuXG4gICAgICovXG4gICAgZ2V0SGFzaGVkTWVzc2FnZVRvU2lnbigpIHtcbiAgICAgICAgcmV0dXJuIEVJUDI3MTguZ2V0SGFzaGVkTWVzc2FnZVRvU2lnbih0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYSBzaGEzLTI1NiBoYXNoIG9mIHRoZSBzZXJpYWxpemVkIHR4LlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgY2FuIG9ubHkgYmUgdXNlZCBmb3Igc2lnbmVkIHR4cyAoaXQgdGhyb3dzIG90aGVyd2lzZSkuXG4gICAgICogVXNlIHtAbGluayBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24uZ2V0TWVzc2FnZVRvU2lnbn0gdG8gZ2V0IGEgdHggaGFzaCBmb3IgdGhlIHB1cnBvc2Ugb2Ygc2lnbmluZy5cbiAgICAgKi9cbiAgICBoYXNoKCkge1xuICAgICAgICByZXR1cm4gTGVnYWN5Lmhhc2godGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgc2hhMy0yNTYgaGFzaCB3aGljaCBjYW4gYmUgdXNlZCB0byB2ZXJpZnkgdGhlIHNpZ25hdHVyZVxuICAgICAqL1xuICAgIGdldE1lc3NhZ2VUb1ZlcmlmeVNpZ25hdHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SGFzaGVkTWVzc2FnZVRvU2lnbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwdWJsaWMga2V5IG9mIHRoZSBzZW5kZXJcbiAgICAgKi9cbiAgICBnZXRTZW5kZXJQdWJsaWNLZXkoKSB7XG4gICAgICAgIHJldHVybiBMZWdhY3kuZ2V0U2VuZGVyUHVibGljS2V5KHRoaXMpO1xuICAgIH1cbiAgICBhZGRTaWduYXR1cmUodiwgciwgcywgY29udmVydFYgPSBmYWxzZSkge1xuICAgICAgICByID0gdG9CeXRlcyhyKTtcbiAgICAgICAgcyA9IHRvQnl0ZXMocyk7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB7IC4uLnRoaXMudHhPcHRpb25zLCBjb21tb246IHRoaXMuY29tbW9uIH07XG4gICAgICAgIHJldHVybiBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24uZnJvbVR4RGF0YSh7XG4gICAgICAgICAgICBjaGFpbklkOiB0aGlzLmNoYWluSWQsXG4gICAgICAgICAgICBub25jZTogdGhpcy5ub25jZSxcbiAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiB0aGlzLm1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiB0aGlzLm1heEZlZVBlckdhcyxcbiAgICAgICAgICAgIGdhc0xpbWl0OiB0aGlzLmdhc0xpbWl0LFxuICAgICAgICAgICAgdG86IHRoaXMudG8sXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgIGRhdGE6IHRoaXMuZGF0YSxcbiAgICAgICAgICAgIGFjY2Vzc0xpc3Q6IHRoaXMuYWNjZXNzTGlzdCxcbiAgICAgICAgICAgIHY6IGNvbnZlcnRWID8gdiAtIEJJR0lOVF8yNyA6IHYsXG4gICAgICAgICAgICByOiBieXRlc1RvQmlnSW50KHIpLFxuICAgICAgICAgICAgczogYnl0ZXNUb0JpZ0ludChzKSxcbiAgICAgICAgfSwgb3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICBjb25zdCBhY2Nlc3NMaXN0SlNPTiA9IEFjY2Vzc0xpc3RzLmdldEFjY2Vzc0xpc3RKU09OKHRoaXMuYWNjZXNzTGlzdCk7XG4gICAgICAgIGNvbnN0IGJhc2VKc29uID0gc3VwZXIudG9KU09OKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5iYXNlSnNvbixcbiAgICAgICAgICAgIGNoYWluSWQ6IGJpZ0ludFRvSGV4KHRoaXMuY2hhaW5JZCksXG4gICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogYmlnSW50VG9IZXgodGhpcy5tYXhQcmlvcml0eUZlZVBlckdhcyksXG4gICAgICAgICAgICBtYXhGZWVQZXJHYXM6IGJpZ0ludFRvSGV4KHRoaXMubWF4RmVlUGVyR2FzKSxcbiAgICAgICAgICAgIGFjY2Vzc0xpc3Q6IGFjY2Vzc0xpc3RKU09OLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBjb21wYWN0IGVycm9yIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgZXJyb3JTdHIoKSB7XG4gICAgICAgIGxldCBlcnJvclN0ciA9IHRoaXMuX2dldFNoYXJlZEVycm9yUG9zdGZpeCgpO1xuICAgICAgICBlcnJvclN0ciArPSBgIG1heEZlZVBlckdhcz0ke3RoaXMubWF4RmVlUGVyR2FzfSBtYXhQcmlvcml0eUZlZVBlckdhcz0ke3RoaXMubWF4UHJpb3JpdHlGZWVQZXJHYXN9YDtcbiAgICAgICAgcmV0dXJuIGVycm9yU3RyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBoZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGFuIGFubm90YXRlZCBlcnJvciBtZXNzYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbXNnIEJhc2UgZXJyb3IgbWVzc2FnZVxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfZXJyb3JNc2cobXNnKSB7XG4gICAgICAgIHJldHVybiBMZWdhY3kuZXJyb3JNc2codGhpcywgbXNnKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1laXAxNTU5VHJhbnNhY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip1559Transaction.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip2930Transaction.js":
/*!****************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip2930Transaction.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessListEIP2930Transaction: () => (/* binding */ AccessListEIP2930Transaction)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/rlp */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+rlp@5.0.2/node_modules/@ethereumjs/rlp/dist/esm/index.js\");\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+util@9.1.0/node_modules/@ethereumjs/util/dist/esm/index.js\");\n/* harmony import */ var _baseTransaction_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./baseTransaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/baseTransaction.js\");\n/* harmony import */ var _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./capabilities/eip2718.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip2718.js\");\n/* harmony import */ var _capabilities_eip2930_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./capabilities/eip2930.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip2930.js\");\n/* harmony import */ var _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./capabilities/legacy.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/legacy.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./types.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/types.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./util.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/util.js\");\n\n\n\n\n\n\n\n\n/**\n * Typed transaction with optional access lists\n *\n * - TransactionType: 1\n * - EIP: [EIP-2930](https://eips.ethereum.org/EIPS/eip-2930)\n */\nclass AccessListEIP2930Transaction extends _baseTransaction_js__WEBPACK_IMPORTED_MODULE_2__.BaseTransaction {\n    /**\n     * This constructor takes the values, validates them, assigns them and freezes the object.\n     *\n     * It is not recommended to use this constructor directly. Instead use\n     * the static factory methods to assist in creating a Transaction object from\n     * varying data types.\n     */\n    constructor(txData, opts = {}) {\n        super({ ...txData, type: _types_js__WEBPACK_IMPORTED_MODULE_6__.TransactionType.AccessListEIP2930 }, opts);\n        const { chainId, accessList, gasPrice } = txData;\n        this.common = this._getCommon(opts.common, chainId);\n        this.chainId = this.common.chainId();\n        // EIP-2718 check is done in Common\n        if (!this.common.isActivatedEIP(2930)) {\n            throw new Error('EIP-2930 not enabled on Common');\n        }\n        this.activeCapabilities = this.activeCapabilities.concat([2718, 2930]);\n        // Populate the access list fields\n        const accessListData = _util_js__WEBPACK_IMPORTED_MODULE_7__.AccessLists.getAccessListData(accessList ?? []);\n        this.accessList = accessListData.accessList;\n        this.AccessListJSON = accessListData.AccessListJSON;\n        // Verify the access list format.\n        _util_js__WEBPACK_IMPORTED_MODULE_7__.AccessLists.verifyAccessList(this.accessList);\n        this.gasPrice = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(gasPrice));\n        this._validateCannotExceedMaxInteger({\n            gasPrice: this.gasPrice,\n        });\n        _baseTransaction_js__WEBPACK_IMPORTED_MODULE_2__.BaseTransaction._validateNotArray(txData);\n        if (this.gasPrice * this.gasLimit > _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.MAX_INTEGER) {\n            const msg = this._errorMsg('gasLimit * gasPrice cannot exceed MAX_INTEGER');\n            throw new Error(msg);\n        }\n        _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_3__.validateYParity(this);\n        _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_5__.validateHighS(this);\n        const freeze = opts?.freeze ?? true;\n        if (freeze) {\n            Object.freeze(this);\n        }\n    }\n    /**\n     * Instantiate a transaction from a data dictionary.\n     *\n     * Format: { chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * v, r, s }\n     *\n     * Notes:\n     * - `chainId` will be set automatically if not provided\n     * - All parameters are optional and have some basic default values\n     */\n    static fromTxData(txData, opts = {}) {\n        return new AccessListEIP2930Transaction(txData, opts);\n    }\n    /**\n     * Instantiate a transaction from the serialized tx.\n     *\n     * Format: `0x01 || rlp([chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * signatureYParity (v), signatureR (r), signatureS (s)])`\n     */\n    static fromSerializedTx(serialized, opts = {}) {\n        if ((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.equalsBytes)(serialized.subarray(0, 1), (0,_util_js__WEBPACK_IMPORTED_MODULE_7__.txTypeBytes)(_types_js__WEBPACK_IMPORTED_MODULE_6__.TransactionType.AccessListEIP2930)) ===\n            false) {\n            throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${_types_js__WEBPACK_IMPORTED_MODULE_6__.TransactionType.AccessListEIP2930}, received: ${(0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(serialized.subarray(0, 1))}`);\n        }\n        const values = _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__.RLP.decode(Uint8Array.from(serialized.subarray(1)));\n        if (!Array.isArray(values)) {\n            throw new Error('Invalid serialized tx input: must be array');\n        }\n        return AccessListEIP2930Transaction.fromValuesArray(values, opts);\n    }\n    /**\n     * Create a transaction from a values array.\n     *\n     * Format: `[chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * signatureYParity (v), signatureR (r), signatureS (s)]`\n     */\n    static fromValuesArray(values, opts = {}) {\n        if (values.length !== 8 && values.length !== 11) {\n            throw new Error('Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).');\n        }\n        const [chainId, nonce, gasPrice, gasLimit, to, value, data, accessList, v, r, s] = values;\n        this._validateNotArray({ chainId, v });\n        (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.validateNoLeadingZeroes)({ nonce, gasPrice, gasLimit, value, v, r, s });\n        const emptyAccessList = [];\n        return new AccessListEIP2930Transaction({\n            chainId: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(chainId),\n            nonce,\n            gasPrice,\n            gasLimit,\n            to,\n            value,\n            data,\n            accessList: accessList ?? emptyAccessList,\n            v: v !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(v) : undefined,\n            r,\n            s,\n        }, opts);\n    }\n    getEffectivePriorityFee(baseFee) {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_5__.getEffectivePriorityFee(this.gasPrice, baseFee);\n    }\n    /**\n     * The amount of gas paid for the data in this tx\n     */\n    getDataFee() {\n        return _capabilities_eip2930_js__WEBPACK_IMPORTED_MODULE_4__.getDataFee(this);\n    }\n    /**\n     * The up front amount that an account must have for this transaction to be valid\n     */\n    getUpfrontCost() {\n        return this.gasLimit * this.gasPrice + this.value;\n    }\n    /**\n     * Returns a Uint8Array Array of the raw Bytes of the EIP-2930 transaction, in order.\n     *\n     * Format: `[chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * signatureYParity (v), signatureR (r), signatureS (s)]`\n     *\n     * Use {@link AccessListEIP2930Transaction.serialize} to add a transaction to a block\n     * with {@link Block.fromValuesArray}.\n     *\n     * For an unsigned tx this method uses the empty Bytes values for the\n     * signature parameters `v`, `r` and `s` for encoding. For an EIP-155 compliant\n     * representation for external signing use {@link AccessListEIP2930Transaction.getMessageToSign}.\n     */\n    raw() {\n        return [\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.chainId),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.nonce),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.gasPrice),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.gasLimit),\n            this.to !== undefined ? this.to.bytes : new Uint8Array(0),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.value),\n            this.data,\n            this.accessList,\n            this.v !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.v) : new Uint8Array(0),\n            this.r !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.r) : new Uint8Array(0),\n            this.s !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.s) : new Uint8Array(0),\n        ];\n    }\n    /**\n     * Returns the serialized encoding of the EIP-2930 transaction.\n     *\n     * Format: `0x01 || rlp([chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * signatureYParity (v), signatureR (r), signatureS (s)])`\n     *\n     * Note that in contrast to the legacy tx serialization format this is not\n     * valid RLP any more due to the raw tx type preceding and concatenated to\n     * the RLP encoding of the values.\n     */\n    serialize() {\n        return _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_3__.serialize(this);\n    }\n    /**\n     * Returns the raw serialized unsigned tx, which can be used\n     * to sign the transaction (e.g. for sending to a hardware wallet).\n     *\n     * Note: in contrast to the legacy tx the raw message format is already\n     * serialized and doesn't need to be RLP encoded any more.\n     *\n     * ```javascript\n     * const serializedMessage = tx.getMessageToSign() // use this for the HW wallet input\n     * ```\n     */\n    getMessageToSign() {\n        return _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_3__.serialize(this, this.raw().slice(0, 8));\n    }\n    /**\n     * Returns the hashed serialized unsigned tx, which can be used\n     * to sign the transaction (e.g. for sending to a hardware wallet).\n     *\n     * Note: in contrast to the legacy tx the raw message format is already\n     * serialized and doesn't need to be RLP encoded any more.\n     */\n    getHashedMessageToSign() {\n        return _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_3__.getHashedMessageToSign(this);\n    }\n    /**\n     * Computes a sha3-256 hash of the serialized tx.\n     *\n     * This method can only be used for signed txs (it throws otherwise).\n     * Use {@link AccessListEIP2930Transaction.getMessageToSign} to get a tx hash for the purpose of signing.\n     */\n    hash() {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_5__.hash(this);\n    }\n    /**\n     * Computes a sha3-256 hash which can be used to verify the signature\n     */\n    getMessageToVerifySignature() {\n        return this.getHashedMessageToSign();\n    }\n    /**\n     * Returns the public key of the sender\n     */\n    getSenderPublicKey() {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_5__.getSenderPublicKey(this);\n    }\n    addSignature(v, r, s, convertV = false) {\n        r = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(r);\n        s = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(s);\n        const opts = { ...this.txOptions, common: this.common };\n        return AccessListEIP2930Transaction.fromTxData({\n            chainId: this.chainId,\n            nonce: this.nonce,\n            gasPrice: this.gasPrice,\n            gasLimit: this.gasLimit,\n            to: this.to,\n            value: this.value,\n            data: this.data,\n            accessList: this.accessList,\n            v: convertV ? v - _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.BIGINT_27 : v,\n            r: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(r),\n            s: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(s),\n        }, opts);\n    }\n    /**\n     * Returns an object with the JSON representation of the transaction\n     */\n    toJSON() {\n        const accessListJSON = _util_js__WEBPACK_IMPORTED_MODULE_7__.AccessLists.getAccessListJSON(this.accessList);\n        const baseJson = super.toJSON();\n        return {\n            ...baseJson,\n            chainId: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.chainId),\n            gasPrice: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.gasPrice),\n            accessList: accessListJSON,\n        };\n    }\n    /**\n     * Return a compact error string representation of the object\n     */\n    errorStr() {\n        let errorStr = this._getSharedErrorPostfix();\n        // Keep ? for this.accessList since this otherwise causes Hardhat E2E tests to fail\n        errorStr += ` gasPrice=${this.gasPrice} accessListCount=${this.accessList?.length ?? 0}`;\n        return errorStr;\n    }\n    /**\n     * Internal helper function to create an annotated error message\n     *\n     * @param msg Base error message\n     * @hidden\n     */\n    _errorMsg(msg) {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_5__.errorMsg(this, msg);\n    }\n}\n//# sourceMappingURL=eip2930Transaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9laXAyOTMwVHJhbnNhY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ21JO0FBQ2xIO0FBQ0Y7QUFDQTtBQUNGO0FBQ047QUFDUTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywyQ0FBMkMsZ0VBQWU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsZ0JBQWdCLGlCQUFpQixzREFBZSxvQkFBb0I7QUFDcEUsZ0JBQWdCLGdDQUFnQztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlEQUFXO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaURBQVc7QUFDbkIsd0JBQXdCLCtEQUFhLENBQUMseURBQU87QUFDN0M7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLGdFQUFlO0FBQ3ZCLDRDQUE0Qyx5REFBVztBQUN2RDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFFQUF1QjtBQUMvQixRQUFRLGtFQUFvQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pELFlBQVksNkRBQVcsNEJBQTRCLHFEQUFXLENBQUMsc0RBQWU7QUFDOUU7QUFDQSxrSEFBa0gsc0RBQWUsbUJBQW1CLGNBQWMsNERBQVUsNEJBQTRCO0FBQ3hNO0FBQ0EsdUJBQXVCLGdEQUFHO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsWUFBWTtBQUM3QyxRQUFRLHlFQUF1QixHQUFHLDJDQUEyQztBQUM3RTtBQUNBO0FBQ0EscUJBQXFCLCtEQUFhO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLCtEQUFhO0FBQzlDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGVBQWUsNEVBQThCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdFQUFrQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOENBQThDO0FBQzFELGFBQWEsNEJBQTRCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxvREFBb0Q7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1RUFBcUI7QUFDakMsWUFBWSx1RUFBcUI7QUFDakMsWUFBWSx1RUFBcUI7QUFDakMsWUFBWSx1RUFBcUI7QUFDakM7QUFDQSxZQUFZLHVFQUFxQjtBQUNqQztBQUNBO0FBQ0EsbUNBQW1DLHVFQUFxQjtBQUN4RCxtQ0FBbUMsdUVBQXFCO0FBQ3hELG1DQUFtQyx1RUFBcUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLCtEQUFpQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsK0RBQWlCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNEVBQThCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFxRDtBQUNqRTtBQUNBO0FBQ0EsZUFBZSx5REFBVztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1RUFBeUI7QUFDeEM7QUFDQTtBQUNBLFlBQVkseURBQU87QUFDbkIsWUFBWSx5REFBTztBQUNuQix1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHVEQUFTO0FBQ3ZDLGVBQWUsK0RBQWE7QUFDNUIsZUFBZSwrREFBYTtBQUM1QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixpREFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkRBQVc7QUFDaEMsc0JBQXNCLDZEQUFXO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxlQUFlLGtCQUFrQiw2QkFBNkI7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw2REFBZTtBQUM5QjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29sbGVjdGlibGUvd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXRoZXJldW1qcyt0eEA1LjQuMC9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdHgvZGlzdC9lc20vZWlwMjkzMFRyYW5zYWN0aW9uLmpzPzYyNjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUkxQIH0gZnJvbSAnQGV0aGVyZXVtanMvcmxwJztcbmltcG9ydCB7IEJJR0lOVF8yNywgTUFYX0lOVEVHRVIsIGJpZ0ludFRvSGV4LCBiaWdJbnRUb1VucGFkZGVkQnl0ZXMsIGJ5dGVzVG9CaWdJbnQsIGJ5dGVzVG9IZXgsIGVxdWFsc0J5dGVzLCB0b0J5dGVzLCB2YWxpZGF0ZU5vTGVhZGluZ1plcm9lcywgfSBmcm9tICdAZXRoZXJldW1qcy91dGlsJztcbmltcG9ydCB7IEJhc2VUcmFuc2FjdGlvbiB9IGZyb20gJy4vYmFzZVRyYW5zYWN0aW9uLmpzJztcbmltcG9ydCAqIGFzIEVJUDI3MTggZnJvbSAnLi9jYXBhYmlsaXRpZXMvZWlwMjcxOC5qcyc7XG5pbXBvcnQgKiBhcyBFSVAyOTMwIGZyb20gJy4vY2FwYWJpbGl0aWVzL2VpcDI5MzAuanMnO1xuaW1wb3J0ICogYXMgTGVnYWN5IGZyb20gJy4vY2FwYWJpbGl0aWVzL2xlZ2FjeS5qcyc7XG5pbXBvcnQgeyBUcmFuc2FjdGlvblR5cGUgfSBmcm9tICcuL3R5cGVzLmpzJztcbmltcG9ydCB7IEFjY2Vzc0xpc3RzLCB0eFR5cGVCeXRlcyB9IGZyb20gJy4vdXRpbC5qcyc7XG4vKipcbiAqIFR5cGVkIHRyYW5zYWN0aW9uIHdpdGggb3B0aW9uYWwgYWNjZXNzIGxpc3RzXG4gKlxuICogLSBUcmFuc2FjdGlvblR5cGU6IDFcbiAqIC0gRUlQOiBbRUlQLTI5MzBdKGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMjkzMClcbiAqL1xuZXhwb3J0IGNsYXNzIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24gZXh0ZW5kcyBCYXNlVHJhbnNhY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIFRoaXMgY29uc3RydWN0b3IgdGFrZXMgdGhlIHZhbHVlcywgdmFsaWRhdGVzIHRoZW0sIGFzc2lnbnMgdGhlbSBhbmQgZnJlZXplcyB0aGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogSXQgaXMgbm90IHJlY29tbWVuZGVkIHRvIHVzZSB0aGlzIGNvbnN0cnVjdG9yIGRpcmVjdGx5LiBJbnN0ZWFkIHVzZVxuICAgICAqIHRoZSBzdGF0aWMgZmFjdG9yeSBtZXRob2RzIHRvIGFzc2lzdCBpbiBjcmVhdGluZyBhIFRyYW5zYWN0aW9uIG9iamVjdCBmcm9tXG4gICAgICogdmFyeWluZyBkYXRhIHR5cGVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHR4RGF0YSwgb3B0cyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHsgLi4udHhEYXRhLCB0eXBlOiBUcmFuc2FjdGlvblR5cGUuQWNjZXNzTGlzdEVJUDI5MzAgfSwgb3B0cyk7XG4gICAgICAgIGNvbnN0IHsgY2hhaW5JZCwgYWNjZXNzTGlzdCwgZ2FzUHJpY2UgfSA9IHR4RGF0YTtcbiAgICAgICAgdGhpcy5jb21tb24gPSB0aGlzLl9nZXRDb21tb24ob3B0cy5jb21tb24sIGNoYWluSWQpO1xuICAgICAgICB0aGlzLmNoYWluSWQgPSB0aGlzLmNvbW1vbi5jaGFpbklkKCk7XG4gICAgICAgIC8vIEVJUC0yNzE4IGNoZWNrIGlzIGRvbmUgaW4gQ29tbW9uXG4gICAgICAgIGlmICghdGhpcy5jb21tb24uaXNBY3RpdmF0ZWRFSVAoMjkzMCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRUlQLTI5MzAgbm90IGVuYWJsZWQgb24gQ29tbW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVDYXBhYmlsaXRpZXMgPSB0aGlzLmFjdGl2ZUNhcGFiaWxpdGllcy5jb25jYXQoWzI3MTgsIDI5MzBdKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgdGhlIGFjY2VzcyBsaXN0IGZpZWxkc1xuICAgICAgICBjb25zdCBhY2Nlc3NMaXN0RGF0YSA9IEFjY2Vzc0xpc3RzLmdldEFjY2Vzc0xpc3REYXRhKGFjY2Vzc0xpc3QgPz8gW10pO1xuICAgICAgICB0aGlzLmFjY2Vzc0xpc3QgPSBhY2Nlc3NMaXN0RGF0YS5hY2Nlc3NMaXN0O1xuICAgICAgICB0aGlzLkFjY2Vzc0xpc3RKU09OID0gYWNjZXNzTGlzdERhdGEuQWNjZXNzTGlzdEpTT047XG4gICAgICAgIC8vIFZlcmlmeSB0aGUgYWNjZXNzIGxpc3QgZm9ybWF0LlxuICAgICAgICBBY2Nlc3NMaXN0cy52ZXJpZnlBY2Nlc3NMaXN0KHRoaXMuYWNjZXNzTGlzdCk7XG4gICAgICAgIHRoaXMuZ2FzUHJpY2UgPSBieXRlc1RvQmlnSW50KHRvQnl0ZXMoZ2FzUHJpY2UpKTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVDYW5ub3RFeGNlZWRNYXhJbnRlZ2VyKHtcbiAgICAgICAgICAgIGdhc1ByaWNlOiB0aGlzLmdhc1ByaWNlLFxuICAgICAgICB9KTtcbiAgICAgICAgQmFzZVRyYW5zYWN0aW9uLl92YWxpZGF0ZU5vdEFycmF5KHR4RGF0YSk7XG4gICAgICAgIGlmICh0aGlzLmdhc1ByaWNlICogdGhpcy5nYXNMaW1pdCA+IE1BWF9JTlRFR0VSKSB7XG4gICAgICAgICAgICBjb25zdCBtc2cgPSB0aGlzLl9lcnJvck1zZygnZ2FzTGltaXQgKiBnYXNQcmljZSBjYW5ub3QgZXhjZWVkIE1BWF9JTlRFR0VSJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICBFSVAyNzE4LnZhbGlkYXRlWVBhcml0eSh0aGlzKTtcbiAgICAgICAgTGVnYWN5LnZhbGlkYXRlSGlnaFModGhpcyk7XG4gICAgICAgIGNvbnN0IGZyZWV6ZSA9IG9wdHM/LmZyZWV6ZSA/PyB0cnVlO1xuICAgICAgICBpZiAoZnJlZXplKSB7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSBhIGRhdGEgZGljdGlvbmFyeS5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogeyBjaGFpbklkLCBub25jZSwgZ2FzUHJpY2UsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIGFjY2Vzc0xpc3QsXG4gICAgICogdiwgciwgcyB9XG4gICAgICpcbiAgICAgKiBOb3RlczpcbiAgICAgKiAtIGBjaGFpbklkYCB3aWxsIGJlIHNldCBhdXRvbWF0aWNhbGx5IGlmIG5vdCBwcm92aWRlZFxuICAgICAqIC0gQWxsIHBhcmFtZXRlcnMgYXJlIG9wdGlvbmFsIGFuZCBoYXZlIHNvbWUgYmFzaWMgZGVmYXVsdCB2YWx1ZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVR4RGF0YSh0eERhdGEsIG9wdHMgPSB7fSkge1xuICAgICAgICByZXR1cm4gbmV3IEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24odHhEYXRhLCBvcHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zdGFudGlhdGUgYSB0cmFuc2FjdGlvbiBmcm9tIHRoZSBzZXJpYWxpemVkIHR4LlxuICAgICAqXG4gICAgICogRm9ybWF0OiBgMHgwMSB8fCBybHAoW2NoYWluSWQsIG5vbmNlLCBnYXNQcmljZSwgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSwgYWNjZXNzTGlzdCxcbiAgICAgKiBzaWduYXR1cmVZUGFyaXR5ICh2KSwgc2lnbmF0dXJlUiAociksIHNpZ25hdHVyZVMgKHMpXSlgXG4gICAgICovXG4gICAgc3RhdGljIGZyb21TZXJpYWxpemVkVHgoc2VyaWFsaXplZCwgb3B0cyA9IHt9KSB7XG4gICAgICAgIGlmIChlcXVhbHNCeXRlcyhzZXJpYWxpemVkLnN1YmFycmF5KDAsIDEpLCB0eFR5cGVCeXRlcyhUcmFuc2FjdGlvblR5cGUuQWNjZXNzTGlzdEVJUDI5MzApKSA9PT1cbiAgICAgICAgICAgIGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2VyaWFsaXplZCB0eCBpbnB1dDogbm90IGFuIEVJUC0yOTMwIHRyYW5zYWN0aW9uICh3cm9uZyB0eCB0eXBlLCBleHBlY3RlZDogJHtUcmFuc2FjdGlvblR5cGUuQWNjZXNzTGlzdEVJUDI5MzB9LCByZWNlaXZlZDogJHtieXRlc1RvSGV4KHNlcmlhbGl6ZWQuc3ViYXJyYXkoMCwgMSkpfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFJMUC5kZWNvZGUoVWludDhBcnJheS5mcm9tKHNlcmlhbGl6ZWQuc3ViYXJyYXkoMSkpKTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXJpYWxpemVkIHR4IGlucHV0OiBtdXN0IGJlIGFycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24uZnJvbVZhbHVlc0FycmF5KHZhbHVlcywgb3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRyYW5zYWN0aW9uIGZyb20gYSB2YWx1ZXMgYXJyYXkuXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IGBbY2hhaW5JZCwgbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCBhY2Nlc3NMaXN0LFxuICAgICAqIHNpZ25hdHVyZVlQYXJpdHkgKHYpLCBzaWduYXR1cmVSIChyKSwgc2lnbmF0dXJlUyAocyldYFxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tVmFsdWVzQXJyYXkodmFsdWVzLCBvcHRzID0ge30pIHtcbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggIT09IDggJiYgdmFsdWVzLmxlbmd0aCAhPT0gMTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBFSVAtMjkzMCB0cmFuc2FjdGlvbi4gT25seSBleHBlY3RpbmcgOCB2YWx1ZXMgKGZvciB1bnNpZ25lZCB0eCkgb3IgMTEgdmFsdWVzIChmb3Igc2lnbmVkIHR4KS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbY2hhaW5JZCwgbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCBhY2Nlc3NMaXN0LCB2LCByLCBzXSA9IHZhbHVlcztcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVOb3RBcnJheSh7IGNoYWluSWQsIHYgfSk7XG4gICAgICAgIHZhbGlkYXRlTm9MZWFkaW5nWmVyb2VzKHsgbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdmFsdWUsIHYsIHIsIHMgfSk7XG4gICAgICAgIGNvbnN0IGVtcHR5QWNjZXNzTGlzdCA9IFtdO1xuICAgICAgICByZXR1cm4gbmV3IEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgY2hhaW5JZDogYnl0ZXNUb0JpZ0ludChjaGFpbklkKSxcbiAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgZ2FzUHJpY2UsXG4gICAgICAgICAgICBnYXNMaW1pdCxcbiAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgYWNjZXNzTGlzdDogYWNjZXNzTGlzdCA/PyBlbXB0eUFjY2Vzc0xpc3QsXG4gICAgICAgICAgICB2OiB2ICE9PSB1bmRlZmluZWQgPyBieXRlc1RvQmlnSW50KHYpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcixcbiAgICAgICAgICAgIHMsXG4gICAgICAgIH0sIG9wdHMpO1xuICAgIH1cbiAgICBnZXRFZmZlY3RpdmVQcmlvcml0eUZlZShiYXNlRmVlKSB7XG4gICAgICAgIHJldHVybiBMZWdhY3kuZ2V0RWZmZWN0aXZlUHJpb3JpdHlGZWUodGhpcy5nYXNQcmljZSwgYmFzZUZlZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2YgZ2FzIHBhaWQgZm9yIHRoZSBkYXRhIGluIHRoaXMgdHhcbiAgICAgKi9cbiAgICBnZXREYXRhRmVlKCkge1xuICAgICAgICByZXR1cm4gRUlQMjkzMC5nZXREYXRhRmVlKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdXAgZnJvbnQgYW1vdW50IHRoYXQgYW4gYWNjb3VudCBtdXN0IGhhdmUgZm9yIHRoaXMgdHJhbnNhY3Rpb24gdG8gYmUgdmFsaWRcbiAgICAgKi9cbiAgICBnZXRVcGZyb250Q29zdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FzTGltaXQgKiB0aGlzLmdhc1ByaWNlICsgdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFVpbnQ4QXJyYXkgQXJyYXkgb2YgdGhlIHJhdyBCeXRlcyBvZiB0aGUgRUlQLTI5MzAgdHJhbnNhY3Rpb24sIGluIG9yZGVyLlxuICAgICAqXG4gICAgICogRm9ybWF0OiBgW2NoYWluSWQsIG5vbmNlLCBnYXNQcmljZSwgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSwgYWNjZXNzTGlzdCxcbiAgICAgKiBzaWduYXR1cmVZUGFyaXR5ICh2KSwgc2lnbmF0dXJlUiAociksIHNpZ25hdHVyZVMgKHMpXWBcbiAgICAgKlxuICAgICAqIFVzZSB7QGxpbmsgQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbi5zZXJpYWxpemV9IHRvIGFkZCBhIHRyYW5zYWN0aW9uIHRvIGEgYmxvY2tcbiAgICAgKiB3aXRoIHtAbGluayBCbG9jay5mcm9tVmFsdWVzQXJyYXl9LlxuICAgICAqXG4gICAgICogRm9yIGFuIHVuc2lnbmVkIHR4IHRoaXMgbWV0aG9kIHVzZXMgdGhlIGVtcHR5IEJ5dGVzIHZhbHVlcyBmb3IgdGhlXG4gICAgICogc2lnbmF0dXJlIHBhcmFtZXRlcnMgYHZgLCBgcmAgYW5kIGBzYCBmb3IgZW5jb2RpbmcuIEZvciBhbiBFSVAtMTU1IGNvbXBsaWFudFxuICAgICAqIHJlcHJlc2VudGF0aW9uIGZvciBleHRlcm5hbCBzaWduaW5nIHVzZSB7QGxpbmsgQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbi5nZXRNZXNzYWdlVG9TaWdufS5cbiAgICAgKi9cbiAgICByYXcoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5jaGFpbklkKSxcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLm5vbmNlKSxcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLmdhc1ByaWNlKSxcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLmdhc0xpbWl0KSxcbiAgICAgICAgICAgIHRoaXMudG8gIT09IHVuZGVmaW5lZCA/IHRoaXMudG8uYnl0ZXMgOiBuZXcgVWludDhBcnJheSgwKSxcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLnZhbHVlKSxcbiAgICAgICAgICAgIHRoaXMuZGF0YSxcbiAgICAgICAgICAgIHRoaXMuYWNjZXNzTGlzdCxcbiAgICAgICAgICAgIHRoaXMudiAhPT0gdW5kZWZpbmVkID8gYmlnSW50VG9VbnBhZGRlZEJ5dGVzKHRoaXMudikgOiBuZXcgVWludDhBcnJheSgwKSxcbiAgICAgICAgICAgIHRoaXMuciAhPT0gdW5kZWZpbmVkID8gYmlnSW50VG9VbnBhZGRlZEJ5dGVzKHRoaXMucikgOiBuZXcgVWludDhBcnJheSgwKSxcbiAgICAgICAgICAgIHRoaXMucyAhPT0gdW5kZWZpbmVkID8gYmlnSW50VG9VbnBhZGRlZEJ5dGVzKHRoaXMucykgOiBuZXcgVWludDhBcnJheSgwKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2VyaWFsaXplZCBlbmNvZGluZyBvZiB0aGUgRUlQLTI5MzAgdHJhbnNhY3Rpb24uXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IGAweDAxIHx8IHJscChbY2hhaW5JZCwgbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCBhY2Nlc3NMaXN0LFxuICAgICAqIHNpZ25hdHVyZVlQYXJpdHkgKHYpLCBzaWduYXR1cmVSIChyKSwgc2lnbmF0dXJlUyAocyldKWBcbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBpbiBjb250cmFzdCB0byB0aGUgbGVnYWN5IHR4IHNlcmlhbGl6YXRpb24gZm9ybWF0IHRoaXMgaXMgbm90XG4gICAgICogdmFsaWQgUkxQIGFueSBtb3JlIGR1ZSB0byB0aGUgcmF3IHR4IHR5cGUgcHJlY2VkaW5nIGFuZCBjb25jYXRlbmF0ZWQgdG9cbiAgICAgKiB0aGUgUkxQIGVuY29kaW5nIG9mIHRoZSB2YWx1ZXMuXG4gICAgICovXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICByZXR1cm4gRUlQMjcxOC5zZXJpYWxpemUodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJhdyBzZXJpYWxpemVkIHVuc2lnbmVkIHR4LCB3aGljaCBjYW4gYmUgdXNlZFxuICAgICAqIHRvIHNpZ24gdGhlIHRyYW5zYWN0aW9uIChlLmcuIGZvciBzZW5kaW5nIHRvIGEgaGFyZHdhcmUgd2FsbGV0KS5cbiAgICAgKlxuICAgICAqIE5vdGU6IGluIGNvbnRyYXN0IHRvIHRoZSBsZWdhY3kgdHggdGhlIHJhdyBtZXNzYWdlIGZvcm1hdCBpcyBhbHJlYWR5XG4gICAgICogc2VyaWFsaXplZCBhbmQgZG9lc24ndCBuZWVkIHRvIGJlIFJMUCBlbmNvZGVkIGFueSBtb3JlLlxuICAgICAqXG4gICAgICogYGBgamF2YXNjcmlwdFxuICAgICAqIGNvbnN0IHNlcmlhbGl6ZWRNZXNzYWdlID0gdHguZ2V0TWVzc2FnZVRvU2lnbigpIC8vIHVzZSB0aGlzIGZvciB0aGUgSFcgd2FsbGV0IGlucHV0XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0TWVzc2FnZVRvU2lnbigpIHtcbiAgICAgICAgcmV0dXJuIEVJUDI3MTguc2VyaWFsaXplKHRoaXMsIHRoaXMucmF3KCkuc2xpY2UoMCwgOCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBoYXNoZWQgc2VyaWFsaXplZCB1bnNpZ25lZCB0eCwgd2hpY2ggY2FuIGJlIHVzZWRcbiAgICAgKiB0byBzaWduIHRoZSB0cmFuc2FjdGlvbiAoZS5nLiBmb3Igc2VuZGluZyB0byBhIGhhcmR3YXJlIHdhbGxldCkuXG4gICAgICpcbiAgICAgKiBOb3RlOiBpbiBjb250cmFzdCB0byB0aGUgbGVnYWN5IHR4IHRoZSByYXcgbWVzc2FnZSBmb3JtYXQgaXMgYWxyZWFkeVxuICAgICAqIHNlcmlhbGl6ZWQgYW5kIGRvZXNuJ3QgbmVlZCB0byBiZSBSTFAgZW5jb2RlZCBhbnkgbW9yZS5cbiAgICAgKi9cbiAgICBnZXRIYXNoZWRNZXNzYWdlVG9TaWduKCkge1xuICAgICAgICByZXR1cm4gRUlQMjcxOC5nZXRIYXNoZWRNZXNzYWdlVG9TaWduKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIHNoYTMtMjU2IGhhc2ggb2YgdGhlIHNlcmlhbGl6ZWQgdHguXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gb25seSBiZSB1c2VkIGZvciBzaWduZWQgdHhzIChpdCB0aHJvd3Mgb3RoZXJ3aXNlKS5cbiAgICAgKiBVc2Uge0BsaW5rIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24uZ2V0TWVzc2FnZVRvU2lnbn0gdG8gZ2V0IGEgdHggaGFzaCBmb3IgdGhlIHB1cnBvc2Ugb2Ygc2lnbmluZy5cbiAgICAgKi9cbiAgICBoYXNoKCkge1xuICAgICAgICByZXR1cm4gTGVnYWN5Lmhhc2godGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgc2hhMy0yNTYgaGFzaCB3aGljaCBjYW4gYmUgdXNlZCB0byB2ZXJpZnkgdGhlIHNpZ25hdHVyZVxuICAgICAqL1xuICAgIGdldE1lc3NhZ2VUb1ZlcmlmeVNpZ25hdHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SGFzaGVkTWVzc2FnZVRvU2lnbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwdWJsaWMga2V5IG9mIHRoZSBzZW5kZXJcbiAgICAgKi9cbiAgICBnZXRTZW5kZXJQdWJsaWNLZXkoKSB7XG4gICAgICAgIHJldHVybiBMZWdhY3kuZ2V0U2VuZGVyUHVibGljS2V5KHRoaXMpO1xuICAgIH1cbiAgICBhZGRTaWduYXR1cmUodiwgciwgcywgY29udmVydFYgPSBmYWxzZSkge1xuICAgICAgICByID0gdG9CeXRlcyhyKTtcbiAgICAgICAgcyA9IHRvQnl0ZXMocyk7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB7IC4uLnRoaXMudHhPcHRpb25zLCBjb21tb246IHRoaXMuY29tbW9uIH07XG4gICAgICAgIHJldHVybiBBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uLmZyb21UeERhdGEoe1xuICAgICAgICAgICAgY2hhaW5JZDogdGhpcy5jaGFpbklkLFxuICAgICAgICAgICAgbm9uY2U6IHRoaXMubm9uY2UsXG4gICAgICAgICAgICBnYXNQcmljZTogdGhpcy5nYXNQcmljZSxcbiAgICAgICAgICAgIGdhc0xpbWl0OiB0aGlzLmdhc0xpbWl0LFxuICAgICAgICAgICAgdG86IHRoaXMudG8sXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgIGRhdGE6IHRoaXMuZGF0YSxcbiAgICAgICAgICAgIGFjY2Vzc0xpc3Q6IHRoaXMuYWNjZXNzTGlzdCxcbiAgICAgICAgICAgIHY6IGNvbnZlcnRWID8gdiAtIEJJR0lOVF8yNyA6IHYsXG4gICAgICAgICAgICByOiBieXRlc1RvQmlnSW50KHIpLFxuICAgICAgICAgICAgczogYnl0ZXNUb0JpZ0ludChzKSxcbiAgICAgICAgfSwgb3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICBjb25zdCBhY2Nlc3NMaXN0SlNPTiA9IEFjY2Vzc0xpc3RzLmdldEFjY2Vzc0xpc3RKU09OKHRoaXMuYWNjZXNzTGlzdCk7XG4gICAgICAgIGNvbnN0IGJhc2VKc29uID0gc3VwZXIudG9KU09OKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5iYXNlSnNvbixcbiAgICAgICAgICAgIGNoYWluSWQ6IGJpZ0ludFRvSGV4KHRoaXMuY2hhaW5JZCksXG4gICAgICAgICAgICBnYXNQcmljZTogYmlnSW50VG9IZXgodGhpcy5nYXNQcmljZSksXG4gICAgICAgICAgICBhY2Nlc3NMaXN0OiBhY2Nlc3NMaXN0SlNPTixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgY29tcGFjdCBlcnJvciBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdFxuICAgICAqL1xuICAgIGVycm9yU3RyKCkge1xuICAgICAgICBsZXQgZXJyb3JTdHIgPSB0aGlzLl9nZXRTaGFyZWRFcnJvclBvc3RmaXgoKTtcbiAgICAgICAgLy8gS2VlcCA/IGZvciB0aGlzLmFjY2Vzc0xpc3Qgc2luY2UgdGhpcyBvdGhlcndpc2UgY2F1c2VzIEhhcmRoYXQgRTJFIHRlc3RzIHRvIGZhaWxcbiAgICAgICAgZXJyb3JTdHIgKz0gYCBnYXNQcmljZT0ke3RoaXMuZ2FzUHJpY2V9IGFjY2Vzc0xpc3RDb3VudD0ke3RoaXMuYWNjZXNzTGlzdD8ubGVuZ3RoID8/IDB9YDtcbiAgICAgICAgcmV0dXJuIGVycm9yU3RyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBoZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGFuIGFubm90YXRlZCBlcnJvciBtZXNzYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbXNnIEJhc2UgZXJyb3IgbWVzc2FnZVxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfZXJyb3JNc2cobXNnKSB7XG4gICAgICAgIHJldHVybiBMZWdhY3kuZXJyb3JNc2codGhpcywgbXNnKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1laXAyOTMwVHJhbnNhY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip2930Transaction.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip4844Transaction.js":
/*!****************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip4844Transaction.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlobEIP4844Transaction: () => (/* binding */ BlobEIP4844Transaction)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/rlp */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+rlp@5.0.2/node_modules/@ethereumjs/rlp/dist/esm/index.js\");\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+util@9.1.0/node_modules/@ethereumjs/util/dist/esm/index.js\");\n/* harmony import */ var _baseTransaction_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./baseTransaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/baseTransaction.js\");\n/* harmony import */ var _capabilities_eip1559_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./capabilities/eip1559.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip1559.js\");\n/* harmony import */ var _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./capabilities/eip2718.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip2718.js\");\n/* harmony import */ var _capabilities_eip2930_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./capabilities/eip2930.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip2930.js\");\n/* harmony import */ var _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./capabilities/legacy.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/legacy.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/constants.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./types.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/types.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./util.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/util.js\");\n\n\n\n\n\n\n\n\n\n\nconst validateBlobTransactionNetworkWrapper = (blobVersionedHashes, blobs, commitments, kzgProofs, version, kzg) => {\n    if (!(blobVersionedHashes.length === blobs.length && blobs.length === commitments.length)) {\n        throw new Error('Number of blobVersionedHashes, blobs, and commitments not all equal');\n    }\n    if (blobVersionedHashes.length === 0) {\n        throw new Error('Invalid transaction with empty blobs');\n    }\n    let isValid;\n    try {\n        isValid = kzg.verifyBlobKzgProofBatch(blobs, commitments, kzgProofs);\n    }\n    catch (error) {\n        throw new Error(`KZG verification of blobs fail with error=${error}`);\n    }\n    if (!isValid) {\n        throw new Error('KZG proof cannot be verified from blobs/commitments');\n    }\n    for (let x = 0; x < blobVersionedHashes.length; x++) {\n        const computedVersionedHash = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.computeVersionedHash)(commitments[x], version);\n        if (!(0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.equalsBytes)(computedVersionedHash, blobVersionedHashes[x])) {\n            throw new Error(`commitment for blob at index ${x} does not match versionedHash`);\n        }\n    }\n};\n/**\n * Typed transaction with a new gas fee market mechanism for transactions that include \"blobs\" of data\n *\n * - TransactionType: 3\n * - EIP: [EIP-4844](https://eips.ethereum.org/EIPS/eip-4844)\n */\nclass BlobEIP4844Transaction extends _baseTransaction_js__WEBPACK_IMPORTED_MODULE_2__.BaseTransaction {\n    /**\n     * This constructor takes the values, validates them, assigns them and freezes the object.\n     *\n     * It is not recommended to use this constructor directly. Instead use\n     * the static constructors or factory methods to assist in creating a Transaction object from\n     * varying data types.\n     */\n    constructor(txData, opts = {}) {\n        super({ ...txData, type: _types_js__WEBPACK_IMPORTED_MODULE_8__.TransactionType.BlobEIP4844 }, opts);\n        const { chainId, accessList, maxFeePerGas, maxPriorityFeePerGas, maxFeePerBlobGas } = txData;\n        this.common = this._getCommon(opts.common, chainId);\n        this.chainId = this.common.chainId();\n        if (!this.common.isActivatedEIP(1559)) {\n            throw new Error('EIP-1559 not enabled on Common');\n        }\n        if (!this.common.isActivatedEIP(4844)) {\n            throw new Error('EIP-4844 not enabled on Common');\n        }\n        this.activeCapabilities = this.activeCapabilities.concat([1559, 2718, 2930]);\n        // Populate the access list fields\n        const accessListData = _util_js__WEBPACK_IMPORTED_MODULE_9__.AccessLists.getAccessListData(accessList ?? []);\n        this.accessList = accessListData.accessList;\n        this.AccessListJSON = accessListData.AccessListJSON;\n        // Verify the access list format.\n        _util_js__WEBPACK_IMPORTED_MODULE_9__.AccessLists.verifyAccessList(this.accessList);\n        this.maxFeePerGas = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(maxFeePerGas));\n        this.maxPriorityFeePerGas = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(maxPriorityFeePerGas));\n        this._validateCannotExceedMaxInteger({\n            maxFeePerGas: this.maxFeePerGas,\n            maxPriorityFeePerGas: this.maxPriorityFeePerGas,\n        });\n        _baseTransaction_js__WEBPACK_IMPORTED_MODULE_2__.BaseTransaction._validateNotArray(txData);\n        if (this.gasLimit * this.maxFeePerGas > _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.MAX_INTEGER) {\n            const msg = this._errorMsg('gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)');\n            throw new Error(msg);\n        }\n        if (this.maxFeePerGas < this.maxPriorityFeePerGas) {\n            const msg = this._errorMsg('maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)');\n            throw new Error(msg);\n        }\n        this.maxFeePerBlobGas = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)((maxFeePerBlobGas ?? '') === '' ? '0x' : maxFeePerBlobGas));\n        this.blobVersionedHashes = (txData.blobVersionedHashes ?? []).map((vh) => (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(vh));\n        _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__.validateYParity(this);\n        _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__.validateHighS(this);\n        for (const hash of this.blobVersionedHashes) {\n            if (hash.length !== 32) {\n                const msg = this._errorMsg('versioned hash is invalid length');\n                throw new Error(msg);\n            }\n            if (BigInt(hash[0]) !== this.common.param('sharding', 'blobCommitmentVersionKzg')) {\n                const msg = this._errorMsg('versioned hash does not start with KZG commitment version');\n                throw new Error(msg);\n            }\n        }\n        if (this.blobVersionedHashes.length > _constants_js__WEBPACK_IMPORTED_MODULE_7__.LIMIT_BLOBS_PER_TX) {\n            const msg = this._errorMsg(`tx can contain at most ${_constants_js__WEBPACK_IMPORTED_MODULE_7__.LIMIT_BLOBS_PER_TX} blobs`);\n            throw new Error(msg);\n        }\n        else if (this.blobVersionedHashes.length === 0) {\n            const msg = this._errorMsg(`tx should contain at least one blob`);\n            throw new Error(msg);\n        }\n        if (this.to === undefined) {\n            const msg = this._errorMsg(`tx should have a \"to\" field and cannot be used to create contracts`);\n            throw new Error(msg);\n        }\n        this.blobs = txData.blobs?.map((blob) => (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(blob));\n        this.kzgCommitments = txData.kzgCommitments?.map((commitment) => (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(commitment));\n        this.kzgProofs = txData.kzgProofs?.map((proof) => (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(proof));\n        const freeze = opts?.freeze ?? true;\n        if (freeze) {\n            Object.freeze(this);\n        }\n    }\n    static fromTxData(txData, opts) {\n        if (opts?.common?.customCrypto?.kzg === undefined) {\n            throw new Error('A common object with customCrypto.kzg initialized required to instantiate a 4844 blob tx');\n        }\n        const kzg = opts.common.customCrypto.kzg;\n        if (txData.blobsData !== undefined) {\n            if (txData.blobs !== undefined) {\n                throw new Error('cannot have both raw blobs data and encoded blobs in constructor');\n            }\n            if (txData.kzgCommitments !== undefined) {\n                throw new Error('cannot have both raw blobs data and KZG commitments in constructor');\n            }\n            if (txData.blobVersionedHashes !== undefined) {\n                throw new Error('cannot have both raw blobs data and versioned hashes in constructor');\n            }\n            if (txData.kzgProofs !== undefined) {\n                throw new Error('cannot have both raw blobs data and KZG proofs in constructor');\n            }\n            txData.blobs = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.getBlobs)(txData.blobsData.reduce((acc, cur) => acc + cur));\n            txData.kzgCommitments = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.blobsToCommitments)(kzg, txData.blobs);\n            txData.blobVersionedHashes = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.commitmentsToVersionedHashes)(txData.kzgCommitments);\n            txData.kzgProofs = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.blobsToProofs)(kzg, txData.blobs, txData.kzgCommitments);\n        }\n        return new BlobEIP4844Transaction(txData, opts);\n    }\n    /**\n     * Returns the minimum of calculated priority fee (from maxFeePerGas and baseFee) and maxPriorityFeePerGas\n     * @param baseFee Base fee retrieved from block\n     */\n    getEffectivePriorityFee(baseFee) {\n        return _capabilities_eip1559_js__WEBPACK_IMPORTED_MODULE_3__.getEffectivePriorityFee(this, baseFee);\n    }\n    /**\n     * Creates the minimal representation of a blob transaction from the network wrapper version.\n     * The minimal representation is used when adding transactions to an execution payload/block\n     * @param txData a {@link BlobEIP4844Transaction} containing optional blobs/kzg commitments\n     * @param opts - dictionary of {@link TxOptions}\n     * @returns the \"minimal\" representation of a BlobEIP4844Transaction (i.e. transaction object minus blobs and kzg commitments)\n     */\n    static minimalFromNetworkWrapper(txData, opts) {\n        if (opts?.common?.customCrypto?.kzg === undefined) {\n            throw new Error('A common object with customCrypto.kzg initialized required to instantiate a 4844 blob tx');\n        }\n        const tx = BlobEIP4844Transaction.fromTxData({\n            ...txData,\n            ...{ blobs: undefined, kzgCommitments: undefined, kzgProofs: undefined },\n        }, opts);\n        return tx;\n    }\n    /**\n     * Instantiate a transaction from the serialized tx.\n     *\n     * Format: `0x03 || rlp([chain_id, nonce, max_priority_fee_per_gas, max_fee_per_gas, gas_limit, to, value, data,\n     * access_list, max_fee_per_data_gas, blob_versioned_hashes, y_parity, r, s])`\n     */\n    static fromSerializedTx(serialized, opts = {}) {\n        if (opts.common?.customCrypto?.kzg === undefined) {\n            throw new Error('A common object with customCrypto.kzg initialized required to instantiate a 4844 blob tx');\n        }\n        if ((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.equalsBytes)(serialized.subarray(0, 1), (0,_util_js__WEBPACK_IMPORTED_MODULE_9__.txTypeBytes)(_types_js__WEBPACK_IMPORTED_MODULE_8__.TransactionType.BlobEIP4844)) === false) {\n            throw new Error(`Invalid serialized tx input: not an EIP-4844 transaction (wrong tx type, expected: ${_types_js__WEBPACK_IMPORTED_MODULE_8__.TransactionType.BlobEIP4844}, received: ${(0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(serialized.subarray(0, 1))}`);\n        }\n        const values = _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__.RLP.decode(serialized.subarray(1));\n        if (!Array.isArray(values)) {\n            throw new Error('Invalid serialized tx input: must be array');\n        }\n        return BlobEIP4844Transaction.fromValuesArray(values, opts);\n    }\n    /**\n     * Create a transaction from a values array.\n     *\n     * Format: `[chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS]`\n     */\n    static fromValuesArray(values, opts = {}) {\n        if (opts.common?.customCrypto?.kzg === undefined) {\n            throw new Error('A common object with customCrypto.kzg initialized required to instantiate a 4844 blob tx');\n        }\n        if (values.length !== 11 && values.length !== 14) {\n            throw new Error('Invalid EIP-4844 transaction. Only expecting 11 values (for unsigned tx) or 14 values (for signed tx).');\n        }\n        const [chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data, accessList, maxFeePerBlobGas, blobVersionedHashes, v, r, s,] = values;\n        this._validateNotArray({ chainId, v });\n        (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.validateNoLeadingZeroes)({\n            nonce,\n            maxPriorityFeePerGas,\n            maxFeePerGas,\n            gasLimit,\n            value,\n            maxFeePerBlobGas,\n            v,\n            r,\n            s,\n        });\n        return new BlobEIP4844Transaction({\n            chainId: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(chainId),\n            nonce,\n            maxPriorityFeePerGas,\n            maxFeePerGas,\n            gasLimit,\n            to,\n            value,\n            data,\n            accessList: accessList ?? [],\n            maxFeePerBlobGas,\n            blobVersionedHashes,\n            v: v !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(v) : undefined,\n            r,\n            s,\n        }, opts);\n    }\n    /**\n     * Creates a transaction from the network encoding of a blob transaction (with blobs/commitments/proof)\n     * @param serialized a buffer representing a serialized BlobTransactionNetworkWrapper\n     * @param opts any TxOptions defined\n     * @returns a BlobEIP4844Transaction\n     */\n    static fromSerializedBlobTxNetworkWrapper(serialized, opts) {\n        if (!opts || !opts.common) {\n            throw new Error('common instance required to validate versioned hashes');\n        }\n        if (opts.common?.customCrypto?.kzg === undefined) {\n            throw new Error('A common object with customCrypto.kzg initialized required to instantiate a 4844 blob tx');\n        }\n        if ((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.equalsBytes)(serialized.subarray(0, 1), (0,_util_js__WEBPACK_IMPORTED_MODULE_9__.txTypeBytes)(_types_js__WEBPACK_IMPORTED_MODULE_8__.TransactionType.BlobEIP4844)) === false) {\n            throw new Error(`Invalid serialized tx input: not an EIP-4844 transaction (wrong tx type, expected: ${_types_js__WEBPACK_IMPORTED_MODULE_8__.TransactionType.BlobEIP4844}, received: ${(0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(serialized.subarray(0, 1))}`);\n        }\n        // Validate network wrapper\n        const networkTxValues = _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__.RLP.decode(serialized.subarray(1));\n        if (networkTxValues.length !== 4) {\n            throw Error(`Expected 4 values in the deserialized network transaction`);\n        }\n        const [txValues, blobs, kzgCommitments, kzgProofs] = networkTxValues;\n        // Construct the tx but don't freeze yet, we will assign blobs etc once validated\n        const decodedTx = BlobEIP4844Transaction.fromValuesArray(txValues, { ...opts, freeze: false });\n        if (decodedTx.to === undefined) {\n            throw Error('BlobEIP4844Transaction can not be send without a valid `to`');\n        }\n        const version = Number(opts.common.param('sharding', 'blobCommitmentVersionKzg'));\n        validateBlobTransactionNetworkWrapper(decodedTx.blobVersionedHashes, blobs, kzgCommitments, kzgProofs, version, opts.common.customCrypto.kzg);\n        // set the network blob data on the tx\n        decodedTx.blobs = blobs;\n        decodedTx.kzgCommitments = kzgCommitments;\n        decodedTx.kzgProofs = kzgProofs;\n        // freeze the tx\n        const freeze = opts?.freeze ?? true;\n        if (freeze) {\n            Object.freeze(decodedTx);\n        }\n        return decodedTx;\n    }\n    /**\n     * The amount of gas paid for the data in this tx\n     */\n    getDataFee() {\n        return _capabilities_eip2930_js__WEBPACK_IMPORTED_MODULE_5__.getDataFee(this);\n    }\n    /**\n     * The up front amount that an account must have for this transaction to be valid\n     * @param baseFee The base fee of the block (will be set to 0 if not provided)\n     */\n    getUpfrontCost(baseFee = _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.BIGINT_0) {\n        return _capabilities_eip1559_js__WEBPACK_IMPORTED_MODULE_3__.getUpfrontCost(this, baseFee);\n    }\n    /**\n     * Returns a Uint8Array Array of the raw Bytes of the EIP-4844 transaction, in order.\n     *\n     * Format: [chain_id, nonce, max_priority_fee_per_gas, max_fee_per_gas, gas_limit, to, value, data,\n     * access_list, max_fee_per_data_gas, blob_versioned_hashes, y_parity, r, s]`.\n     *\n     * Use {@link BlobEIP4844Transaction.serialize} to add a transaction to a block\n     * with {@link Block.fromValuesArray}.\n     *\n     * For an unsigned tx this method uses the empty Bytes values for the\n     * signature parameters `v`, `r` and `s` for encoding. For an EIP-155 compliant\n     * representation for external signing use {@link BlobEIP4844Transaction.getMessageToSign}.\n     */\n    raw() {\n        return [\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.chainId),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.nonce),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.maxPriorityFeePerGas),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.maxFeePerGas),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.gasLimit),\n            this.to !== undefined ? this.to.bytes : new Uint8Array(0),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.value),\n            this.data,\n            this.accessList,\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.maxFeePerBlobGas),\n            this.blobVersionedHashes,\n            this.v !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.v) : new Uint8Array(0),\n            this.r !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.r) : new Uint8Array(0),\n            this.s !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.s) : new Uint8Array(0),\n        ];\n    }\n    /**\n     * Returns the serialized encoding of the EIP-4844 transaction.\n     *\n     * Format: `0x03 || rlp([chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * access_list, max_fee_per_data_gas, blob_versioned_hashes, y_parity, r, s])`.\n     *\n     * Note that in contrast to the legacy tx serialization format this is not\n     * valid RLP any more due to the raw tx type preceding and concatenated to\n     * the RLP encoding of the values.\n     */\n    serialize() {\n        return _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__.serialize(this);\n    }\n    /**\n     * @returns the serialized form of a blob transaction in the network wrapper format (used for gossipping mempool transactions over devp2p)\n     */\n    serializeNetworkWrapper() {\n        if (this.blobs === undefined ||\n            this.kzgCommitments === undefined ||\n            this.kzgProofs === undefined) {\n            throw new Error('cannot serialize network wrapper without blobs, KZG commitments and KZG proofs provided');\n        }\n        return _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__.serialize(this, [this.raw(), this.blobs, this.kzgCommitments, this.kzgProofs]);\n    }\n    /**\n     * Returns the raw serialized unsigned tx, which can be used\n     * to sign the transaction (e.g. for sending to a hardware wallet).\n     *\n     * Note: in contrast to the legacy tx the raw message format is already\n     * serialized and doesn't need to be RLP encoded any more.\n     *\n     * ```javascript\n     * const serializedMessage = tx.getMessageToSign() // use this for the HW wallet input\n     * ```\n     */\n    getMessageToSign() {\n        return _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__.serialize(this, this.raw().slice(0, 11));\n    }\n    /**\n     * Returns the hashed serialized unsigned tx, which can be used\n     * to sign the transaction (e.g. for sending to a hardware wallet).\n     *\n     * Note: in contrast to the legacy tx the raw message format is already\n     * serialized and doesn't need to be RLP encoded any more.\n     */\n    getHashedMessageToSign() {\n        return _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__.getHashedMessageToSign(this);\n    }\n    /**\n     * Computes a sha3-256 hash of the serialized tx.\n     *\n     * This method can only be used for signed txs (it throws otherwise).\n     * Use {@link BlobEIP4844Transaction.getMessageToSign} to get a tx hash for the purpose of signing.\n     */\n    hash() {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__.hash(this);\n    }\n    getMessageToVerifySignature() {\n        return this.getHashedMessageToSign();\n    }\n    /**\n     * Returns the public key of the sender\n     */\n    getSenderPublicKey() {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__.getSenderPublicKey(this);\n    }\n    /**\n     * Returns the EIP 4844 transaction network wrapper in JSON format similar to toJSON, including\n     * blobs, commitments, and proofs fields\n     * @param serialized a buffer representing a serialized BlobTransactionNetworkWrapper\n     * @param opts any TxOptions defined\n     * @returns JsonBlobTxNetworkWrapper with blobs, KZG commitments, and KZG proofs fields\n     */\n    static networkWrapperToJson(serialized, opts) {\n        const tx = this.fromSerializedBlobTxNetworkWrapper(serialized, opts);\n        const accessListJSON = _util_js__WEBPACK_IMPORTED_MODULE_9__.AccessLists.getAccessListJSON(tx.accessList);\n        const baseJson = tx.toJSON();\n        return {\n            ...baseJson,\n            chainId: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(tx.chainId),\n            maxPriorityFeePerGas: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(tx.maxPriorityFeePerGas),\n            maxFeePerGas: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(tx.maxFeePerGas),\n            accessList: accessListJSON,\n            maxFeePerBlobGas: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(tx.maxFeePerBlobGas),\n            blobVersionedHashes: tx.blobVersionedHashes.map((hash) => (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(hash)),\n            blobs: tx.blobs.map((bytes) => (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(bytes)),\n            kzgCommitments: tx.kzgCommitments.map((bytes) => (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(bytes)),\n            kzgProofs: tx.kzgProofs.map((bytes) => (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(bytes)),\n        };\n    }\n    toJSON() {\n        const accessListJSON = _util_js__WEBPACK_IMPORTED_MODULE_9__.AccessLists.getAccessListJSON(this.accessList);\n        const baseJson = super.toJSON();\n        return {\n            ...baseJson,\n            chainId: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.chainId),\n            maxPriorityFeePerGas: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.maxPriorityFeePerGas),\n            maxFeePerGas: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.maxFeePerGas),\n            accessList: accessListJSON,\n            maxFeePerBlobGas: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.maxFeePerBlobGas),\n            blobVersionedHashes: this.blobVersionedHashes.map((hash) => (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(hash)),\n        };\n    }\n    addSignature(v, r, s, convertV = false) {\n        r = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(r);\n        s = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(s);\n        const opts = { ...this.txOptions, common: this.common };\n        return BlobEIP4844Transaction.fromTxData({\n            chainId: this.chainId,\n            nonce: this.nonce,\n            maxPriorityFeePerGas: this.maxPriorityFeePerGas,\n            maxFeePerGas: this.maxFeePerGas,\n            gasLimit: this.gasLimit,\n            to: this.to,\n            value: this.value,\n            data: this.data,\n            accessList: this.accessList,\n            v: convertV ? v - _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.BIGINT_27 : v,\n            r: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(r),\n            s: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(s),\n            maxFeePerBlobGas: this.maxFeePerBlobGas,\n            blobVersionedHashes: this.blobVersionedHashes,\n            blobs: this.blobs,\n            kzgCommitments: this.kzgCommitments,\n            kzgProofs: this.kzgProofs,\n        }, opts);\n    }\n    /**\n     * Return a compact error string representation of the object\n     */\n    errorStr() {\n        let errorStr = this._getSharedErrorPostfix();\n        errorStr += ` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`;\n        return errorStr;\n    }\n    /**\n     * Internal helper function to create an annotated error message\n     *\n     * @param msg Base error message\n     * @hidden\n     */\n    _errorMsg(msg) {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__.errorMsg(this, msg);\n    }\n    /**\n     * @returns the number of blobs included with this transaction\n     */\n    numBlobs() {\n        return this.blobVersionedHashes.length;\n    }\n}\n//# sourceMappingURL=eip4844Transaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9laXA0ODQ0VHJhbnNhY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0M7QUFDOE87QUFDN047QUFDRjtBQUNBO0FBQ0E7QUFDRjtBQUNDO0FBQ1A7QUFDUTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsTUFBTTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQ0FBZ0M7QUFDcEQsc0NBQXNDLHNFQUFvQjtBQUMxRCxhQUFhLDZEQUFXO0FBQ3hCLDREQUE0RCxHQUFHO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHFDQUFxQyxnRUFBZTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxnQkFBZ0IsaUJBQWlCLHNEQUFlLGNBQWM7QUFDOUQsZ0JBQWdCLDRFQUE0RTtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixpREFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQSxRQUFRLGlEQUFXO0FBQ25CLDRCQUE0QiwrREFBYSxDQUFDLHlEQUFPO0FBQ2pELG9DQUFvQywrREFBYSxDQUFDLHlEQUFPO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLGdFQUFlO0FBQ3ZCLGdEQUFnRCx5REFBVztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywrREFBYSxDQUFDLHlEQUFPO0FBQ3JELGtGQUFrRix5REFBTztBQUN6RixRQUFRLHFFQUF1QjtBQUMvQixRQUFRLGtFQUFvQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyw2REFBa0I7QUFDaEUsaUVBQWlFLDZEQUFrQixFQUFFO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELHlEQUFPO0FBQ3hELHlFQUF5RSx5REFBTztBQUNoRiwwREFBMEQseURBQU87QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwwREFBUTtBQUNuQyxvQ0FBb0Msb0VBQWtCO0FBQ3RELHlDQUF5Qyw4RUFBNEI7QUFDckUsK0JBQStCLCtEQUFhO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZFQUErQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4QkFBOEI7QUFDdEQsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsbUVBQW1FO0FBQ3BGLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkRBQVcsNEJBQTRCLHFEQUFXLENBQUMsc0RBQWU7QUFDOUUsa0hBQWtILHNEQUFlLGFBQWEsY0FBYyw0REFBVSw0QkFBNEI7QUFDbE07QUFDQSx1QkFBdUIsZ0RBQUc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxZQUFZO0FBQzdDLFFBQVEseUVBQXVCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHFCQUFxQiwrREFBYTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywrREFBYTtBQUM5QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZEQUFXLDRCQUE0QixxREFBVyxDQUFDLHNEQUFlO0FBQzlFLGtIQUFrSCxzREFBZSxhQUFhLGNBQWMsNERBQVUsNEJBQTRCO0FBQ2xNO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0RBQUc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSx3QkFBd0I7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0VBQWtCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsc0RBQVE7QUFDckMsZUFBZSxvRUFBc0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdDQUF3QztBQUNwRCxhQUFhLDRCQUE0QjtBQUN6QztBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsOENBQThDO0FBQzlGO0FBQ0E7QUFDQTtBQUNBLFlBQVksdUVBQXFCO0FBQ2pDLFlBQVksdUVBQXFCO0FBQ2pDLFlBQVksdUVBQXFCO0FBQ2pDLFlBQVksdUVBQXFCO0FBQ2pDLFlBQVksdUVBQXFCO0FBQ2pDO0FBQ0EsWUFBWSx1RUFBcUI7QUFDakM7QUFDQTtBQUNBLFlBQVksdUVBQXFCO0FBQ2pDO0FBQ0EsbUNBQW1DLHVFQUFxQjtBQUN4RCxtQ0FBbUMsdUVBQXFCO0FBQ3hELG1DQUFtQyx1RUFBcUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLCtEQUFpQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsK0RBQWlCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwrREFBaUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0RUFBOEI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0NBQStDO0FBQzNEO0FBQ0E7QUFDQSxlQUFlLHlEQUFXO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVFQUF5QjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixpREFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkRBQVc7QUFDaEMsa0NBQWtDLDZEQUFXO0FBQzdDLDBCQUEwQiw2REFBVztBQUNyQztBQUNBLDhCQUE4Qiw2REFBVztBQUN6QyxzRUFBc0UsNERBQVU7QUFDaEYsMkNBQTJDLDREQUFVO0FBQ3JELDZEQUE2RCw0REFBVTtBQUN2RSxtREFBbUQsNERBQVU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlEQUFXO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2REFBVztBQUNoQyxrQ0FBa0MsNkRBQVc7QUFDN0MsMEJBQTBCLDZEQUFXO0FBQ3JDO0FBQ0EsOEJBQThCLDZEQUFXO0FBQ3pDLHdFQUF3RSw0REFBVTtBQUNsRjtBQUNBO0FBQ0E7QUFDQSxZQUFZLHlEQUFPO0FBQ25CLFlBQVkseURBQU87QUFDbkIsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHVEQUFTO0FBQ3ZDLGVBQWUsK0RBQWE7QUFDNUIsZUFBZSwrREFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxtQkFBbUIsdUJBQXVCLDBCQUEwQjtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZEQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb2xsZWN0aWJsZS93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9laXA0ODQ0VHJhbnNhY3Rpb24uanM/YjZiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSTFAgfSBmcm9tICdAZXRoZXJldW1qcy9ybHAnO1xuaW1wb3J0IHsgQklHSU5UXzAsIEJJR0lOVF8yNywgTUFYX0lOVEVHRVIsIGJpZ0ludFRvSGV4LCBiaWdJbnRUb1VucGFkZGVkQnl0ZXMsIGJsb2JzVG9Db21taXRtZW50cywgYmxvYnNUb1Byb29mcywgYnl0ZXNUb0JpZ0ludCwgYnl0ZXNUb0hleCwgY29tbWl0bWVudHNUb1ZlcnNpb25lZEhhc2hlcywgY29tcHV0ZVZlcnNpb25lZEhhc2gsIGVxdWFsc0J5dGVzLCBnZXRCbG9icywgdG9CeXRlcywgdmFsaWRhdGVOb0xlYWRpbmdaZXJvZXMsIH0gZnJvbSAnQGV0aGVyZXVtanMvdXRpbCc7XG5pbXBvcnQgeyBCYXNlVHJhbnNhY3Rpb24gfSBmcm9tICcuL2Jhc2VUcmFuc2FjdGlvbi5qcyc7XG5pbXBvcnQgKiBhcyBFSVAxNTU5IGZyb20gJy4vY2FwYWJpbGl0aWVzL2VpcDE1NTkuanMnO1xuaW1wb3J0ICogYXMgRUlQMjcxOCBmcm9tICcuL2NhcGFiaWxpdGllcy9laXAyNzE4LmpzJztcbmltcG9ydCAqIGFzIEVJUDI5MzAgZnJvbSAnLi9jYXBhYmlsaXRpZXMvZWlwMjkzMC5qcyc7XG5pbXBvcnQgKiBhcyBMZWdhY3kgZnJvbSAnLi9jYXBhYmlsaXRpZXMvbGVnYWN5LmpzJztcbmltcG9ydCB7IExJTUlUX0JMT0JTX1BFUl9UWCB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IFRyYW5zYWN0aW9uVHlwZSB9IGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0IHsgQWNjZXNzTGlzdHMsIHR4VHlwZUJ5dGVzIH0gZnJvbSAnLi91dGlsLmpzJztcbmNvbnN0IHZhbGlkYXRlQmxvYlRyYW5zYWN0aW9uTmV0d29ya1dyYXBwZXIgPSAoYmxvYlZlcnNpb25lZEhhc2hlcywgYmxvYnMsIGNvbW1pdG1lbnRzLCBremdQcm9vZnMsIHZlcnNpb24sIGt6ZykgPT4ge1xuICAgIGlmICghKGJsb2JWZXJzaW9uZWRIYXNoZXMubGVuZ3RoID09PSBibG9icy5sZW5ndGggJiYgYmxvYnMubGVuZ3RoID09PSBjb21taXRtZW50cy5sZW5ndGgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTnVtYmVyIG9mIGJsb2JWZXJzaW9uZWRIYXNoZXMsIGJsb2JzLCBhbmQgY29tbWl0bWVudHMgbm90IGFsbCBlcXVhbCcpO1xuICAgIH1cbiAgICBpZiAoYmxvYlZlcnNpb25lZEhhc2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRyYW5zYWN0aW9uIHdpdGggZW1wdHkgYmxvYnMnKTtcbiAgICB9XG4gICAgbGV0IGlzVmFsaWQ7XG4gICAgdHJ5IHtcbiAgICAgICAgaXNWYWxpZCA9IGt6Zy52ZXJpZnlCbG9iS3pnUHJvb2ZCYXRjaChibG9icywgY29tbWl0bWVudHMsIGt6Z1Byb29mcyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEtaRyB2ZXJpZmljYXRpb24gb2YgYmxvYnMgZmFpbCB3aXRoIGVycm9yPSR7ZXJyb3J9YCk7XG4gICAgfVxuICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0taRyBwcm9vZiBjYW5ub3QgYmUgdmVyaWZpZWQgZnJvbSBibG9icy9jb21taXRtZW50cycpO1xuICAgIH1cbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGJsb2JWZXJzaW9uZWRIYXNoZXMubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRWZXJzaW9uZWRIYXNoID0gY29tcHV0ZVZlcnNpb25lZEhhc2goY29tbWl0bWVudHNbeF0sIHZlcnNpb24pO1xuICAgICAgICBpZiAoIWVxdWFsc0J5dGVzKGNvbXB1dGVkVmVyc2lvbmVkSGFzaCwgYmxvYlZlcnNpb25lZEhhc2hlc1t4XSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY29tbWl0bWVudCBmb3IgYmxvYiBhdCBpbmRleCAke3h9IGRvZXMgbm90IG1hdGNoIHZlcnNpb25lZEhhc2hgKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4vKipcbiAqIFR5cGVkIHRyYW5zYWN0aW9uIHdpdGggYSBuZXcgZ2FzIGZlZSBtYXJrZXQgbWVjaGFuaXNtIGZvciB0cmFuc2FjdGlvbnMgdGhhdCBpbmNsdWRlIFwiYmxvYnNcIiBvZiBkYXRhXG4gKlxuICogLSBUcmFuc2FjdGlvblR5cGU6IDNcbiAqIC0gRUlQOiBbRUlQLTQ4NDRdKGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtNDg0NClcbiAqL1xuZXhwb3J0IGNsYXNzIEJsb2JFSVA0ODQ0VHJhbnNhY3Rpb24gZXh0ZW5kcyBCYXNlVHJhbnNhY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIFRoaXMgY29uc3RydWN0b3IgdGFrZXMgdGhlIHZhbHVlcywgdmFsaWRhdGVzIHRoZW0sIGFzc2lnbnMgdGhlbSBhbmQgZnJlZXplcyB0aGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogSXQgaXMgbm90IHJlY29tbWVuZGVkIHRvIHVzZSB0aGlzIGNvbnN0cnVjdG9yIGRpcmVjdGx5LiBJbnN0ZWFkIHVzZVxuICAgICAqIHRoZSBzdGF0aWMgY29uc3RydWN0b3JzIG9yIGZhY3RvcnkgbWV0aG9kcyB0byBhc3Npc3QgaW4gY3JlYXRpbmcgYSBUcmFuc2FjdGlvbiBvYmplY3QgZnJvbVxuICAgICAqIHZhcnlpbmcgZGF0YSB0eXBlcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0eERhdGEsIG9wdHMgPSB7fSkge1xuICAgICAgICBzdXBlcih7IC4uLnR4RGF0YSwgdHlwZTogVHJhbnNhY3Rpb25UeXBlLkJsb2JFSVA0ODQ0IH0sIG9wdHMpO1xuICAgICAgICBjb25zdCB7IGNoYWluSWQsIGFjY2Vzc0xpc3QsIG1heEZlZVBlckdhcywgbWF4UHJpb3JpdHlGZWVQZXJHYXMsIG1heEZlZVBlckJsb2JHYXMgfSA9IHR4RGF0YTtcbiAgICAgICAgdGhpcy5jb21tb24gPSB0aGlzLl9nZXRDb21tb24ob3B0cy5jb21tb24sIGNoYWluSWQpO1xuICAgICAgICB0aGlzLmNoYWluSWQgPSB0aGlzLmNvbW1vbi5jaGFpbklkKCk7XG4gICAgICAgIGlmICghdGhpcy5jb21tb24uaXNBY3RpdmF0ZWRFSVAoMTU1OSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRUlQLTE1NTkgbm90IGVuYWJsZWQgb24gQ29tbW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNvbW1vbi5pc0FjdGl2YXRlZEVJUCg0ODQ0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFSVAtNDg0NCBub3QgZW5hYmxlZCBvbiBDb21tb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZUNhcGFiaWxpdGllcyA9IHRoaXMuYWN0aXZlQ2FwYWJpbGl0aWVzLmNvbmNhdChbMTU1OSwgMjcxOCwgMjkzMF0pO1xuICAgICAgICAvLyBQb3B1bGF0ZSB0aGUgYWNjZXNzIGxpc3QgZmllbGRzXG4gICAgICAgIGNvbnN0IGFjY2Vzc0xpc3REYXRhID0gQWNjZXNzTGlzdHMuZ2V0QWNjZXNzTGlzdERhdGEoYWNjZXNzTGlzdCA/PyBbXSk7XG4gICAgICAgIHRoaXMuYWNjZXNzTGlzdCA9IGFjY2Vzc0xpc3REYXRhLmFjY2Vzc0xpc3Q7XG4gICAgICAgIHRoaXMuQWNjZXNzTGlzdEpTT04gPSBhY2Nlc3NMaXN0RGF0YS5BY2Nlc3NMaXN0SlNPTjtcbiAgICAgICAgLy8gVmVyaWZ5IHRoZSBhY2Nlc3MgbGlzdCBmb3JtYXQuXG4gICAgICAgIEFjY2Vzc0xpc3RzLnZlcmlmeUFjY2Vzc0xpc3QodGhpcy5hY2Nlc3NMaXN0KTtcbiAgICAgICAgdGhpcy5tYXhGZWVQZXJHYXMgPSBieXRlc1RvQmlnSW50KHRvQnl0ZXMobWF4RmVlUGVyR2FzKSk7XG4gICAgICAgIHRoaXMubWF4UHJpb3JpdHlGZWVQZXJHYXMgPSBieXRlc1RvQmlnSW50KHRvQnl0ZXMobWF4UHJpb3JpdHlGZWVQZXJHYXMpKTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVDYW5ub3RFeGNlZWRNYXhJbnRlZ2VyKHtcbiAgICAgICAgICAgIG1heEZlZVBlckdhczogdGhpcy5tYXhGZWVQZXJHYXMsXG4gICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogdGhpcy5tYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICAgICAgfSk7XG4gICAgICAgIEJhc2VUcmFuc2FjdGlvbi5fdmFsaWRhdGVOb3RBcnJheSh0eERhdGEpO1xuICAgICAgICBpZiAodGhpcy5nYXNMaW1pdCAqIHRoaXMubWF4RmVlUGVyR2FzID4gTUFYX0lOVEVHRVIpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IHRoaXMuX2Vycm9yTXNnKCdnYXNMaW1pdCAqIG1heEZlZVBlckdhcyBjYW5ub3QgZXhjZWVkIE1BWF9JTlRFR0VSICgyXjI1Ni0xKScpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWF4RmVlUGVyR2FzIDwgdGhpcy5tYXhQcmlvcml0eUZlZVBlckdhcykge1xuICAgICAgICAgICAgY29uc3QgbXNnID0gdGhpcy5fZXJyb3JNc2coJ21heEZlZVBlckdhcyBjYW5ub3QgYmUgbGVzcyB0aGFuIG1heFByaW9yaXR5RmVlUGVyR2FzIChUaGUgdG90YWwgbXVzdCBiZSB0aGUgbGFyZ2VyIG9mIHRoZSB0d28pJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1heEZlZVBlckJsb2JHYXMgPSBieXRlc1RvQmlnSW50KHRvQnl0ZXMoKG1heEZlZVBlckJsb2JHYXMgPz8gJycpID09PSAnJyA/ICcweCcgOiBtYXhGZWVQZXJCbG9iR2FzKSk7XG4gICAgICAgIHRoaXMuYmxvYlZlcnNpb25lZEhhc2hlcyA9ICh0eERhdGEuYmxvYlZlcnNpb25lZEhhc2hlcyA/PyBbXSkubWFwKCh2aCkgPT4gdG9CeXRlcyh2aCkpO1xuICAgICAgICBFSVAyNzE4LnZhbGlkYXRlWVBhcml0eSh0aGlzKTtcbiAgICAgICAgTGVnYWN5LnZhbGlkYXRlSGlnaFModGhpcyk7XG4gICAgICAgIGZvciAoY29uc3QgaGFzaCBvZiB0aGlzLmJsb2JWZXJzaW9uZWRIYXNoZXMpIHtcbiAgICAgICAgICAgIGlmIChoYXNoLmxlbmd0aCAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtc2cgPSB0aGlzLl9lcnJvck1zZygndmVyc2lvbmVkIGhhc2ggaXMgaW52YWxpZCBsZW5ndGgnKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChCaWdJbnQoaGFzaFswXSkgIT09IHRoaXMuY29tbW9uLnBhcmFtKCdzaGFyZGluZycsICdibG9iQ29tbWl0bWVudFZlcnNpb25LemcnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IHRoaXMuX2Vycm9yTXNnKCd2ZXJzaW9uZWQgaGFzaCBkb2VzIG5vdCBzdGFydCB3aXRoIEtaRyBjb21taXRtZW50IHZlcnNpb24nKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ibG9iVmVyc2lvbmVkSGFzaGVzLmxlbmd0aCA+IExJTUlUX0JMT0JTX1BFUl9UWCkge1xuICAgICAgICAgICAgY29uc3QgbXNnID0gdGhpcy5fZXJyb3JNc2coYHR4IGNhbiBjb250YWluIGF0IG1vc3QgJHtMSU1JVF9CTE9CU19QRVJfVFh9IGJsb2JzYCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmJsb2JWZXJzaW9uZWRIYXNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBtc2cgPSB0aGlzLl9lcnJvck1zZyhgdHggc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3Qgb25lIGJsb2JgKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IHRoaXMuX2Vycm9yTXNnKGB0eCBzaG91bGQgaGF2ZSBhIFwidG9cIiBmaWVsZCBhbmQgY2Fubm90IGJlIHVzZWQgdG8gY3JlYXRlIGNvbnRyYWN0c2ApO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ibG9icyA9IHR4RGF0YS5ibG9icz8ubWFwKChibG9iKSA9PiB0b0J5dGVzKGJsb2IpKTtcbiAgICAgICAgdGhpcy5remdDb21taXRtZW50cyA9IHR4RGF0YS5remdDb21taXRtZW50cz8ubWFwKChjb21taXRtZW50KSA9PiB0b0J5dGVzKGNvbW1pdG1lbnQpKTtcbiAgICAgICAgdGhpcy5remdQcm9vZnMgPSB0eERhdGEua3pnUHJvb2ZzPy5tYXAoKHByb29mKSA9PiB0b0J5dGVzKHByb29mKSk7XG4gICAgICAgIGNvbnN0IGZyZWV6ZSA9IG9wdHM/LmZyZWV6ZSA/PyB0cnVlO1xuICAgICAgICBpZiAoZnJlZXplKSB7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tVHhEYXRhKHR4RGF0YSwgb3B0cykge1xuICAgICAgICBpZiAob3B0cz8uY29tbW9uPy5jdXN0b21DcnlwdG8/Lmt6ZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgY29tbW9uIG9iamVjdCB3aXRoIGN1c3RvbUNyeXB0by5remcgaW5pdGlhbGl6ZWQgcmVxdWlyZWQgdG8gaW5zdGFudGlhdGUgYSA0ODQ0IGJsb2IgdHgnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBremcgPSBvcHRzLmNvbW1vbi5jdXN0b21DcnlwdG8ua3pnO1xuICAgICAgICBpZiAodHhEYXRhLmJsb2JzRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodHhEYXRhLmJsb2JzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Nhbm5vdCBoYXZlIGJvdGggcmF3IGJsb2JzIGRhdGEgYW5kIGVuY29kZWQgYmxvYnMgaW4gY29uc3RydWN0b3InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eERhdGEua3pnQ29tbWl0bWVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2Fubm90IGhhdmUgYm90aCByYXcgYmxvYnMgZGF0YSBhbmQgS1pHIGNvbW1pdG1lbnRzIGluIGNvbnN0cnVjdG9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHhEYXRhLmJsb2JWZXJzaW9uZWRIYXNoZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2Fubm90IGhhdmUgYm90aCByYXcgYmxvYnMgZGF0YSBhbmQgdmVyc2lvbmVkIGhhc2hlcyBpbiBjb25zdHJ1Y3RvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR4RGF0YS5remdQcm9vZnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2Fubm90IGhhdmUgYm90aCByYXcgYmxvYnMgZGF0YSBhbmQgS1pHIHByb29mcyBpbiBjb25zdHJ1Y3RvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHhEYXRhLmJsb2JzID0gZ2V0QmxvYnModHhEYXRhLmJsb2JzRGF0YS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgKyBjdXIpKTtcbiAgICAgICAgICAgIHR4RGF0YS5remdDb21taXRtZW50cyA9IGJsb2JzVG9Db21taXRtZW50cyhremcsIHR4RGF0YS5ibG9icyk7XG4gICAgICAgICAgICB0eERhdGEuYmxvYlZlcnNpb25lZEhhc2hlcyA9IGNvbW1pdG1lbnRzVG9WZXJzaW9uZWRIYXNoZXModHhEYXRhLmt6Z0NvbW1pdG1lbnRzKTtcbiAgICAgICAgICAgIHR4RGF0YS5remdQcm9vZnMgPSBibG9ic1RvUHJvb2ZzKGt6ZywgdHhEYXRhLmJsb2JzLCB0eERhdGEua3pnQ29tbWl0bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQmxvYkVJUDQ4NDRUcmFuc2FjdGlvbih0eERhdGEsIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtaW5pbXVtIG9mIGNhbGN1bGF0ZWQgcHJpb3JpdHkgZmVlIChmcm9tIG1heEZlZVBlckdhcyBhbmQgYmFzZUZlZSkgYW5kIG1heFByaW9yaXR5RmVlUGVyR2FzXG4gICAgICogQHBhcmFtIGJhc2VGZWUgQmFzZSBmZWUgcmV0cmlldmVkIGZyb20gYmxvY2tcbiAgICAgKi9cbiAgICBnZXRFZmZlY3RpdmVQcmlvcml0eUZlZShiYXNlRmVlKSB7XG4gICAgICAgIHJldHVybiBFSVAxNTU5LmdldEVmZmVjdGl2ZVByaW9yaXR5RmVlKHRoaXMsIGJhc2VGZWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBtaW5pbWFsIHJlcHJlc2VudGF0aW9uIG9mIGEgYmxvYiB0cmFuc2FjdGlvbiBmcm9tIHRoZSBuZXR3b3JrIHdyYXBwZXIgdmVyc2lvbi5cbiAgICAgKiBUaGUgbWluaW1hbCByZXByZXNlbnRhdGlvbiBpcyB1c2VkIHdoZW4gYWRkaW5nIHRyYW5zYWN0aW9ucyB0byBhbiBleGVjdXRpb24gcGF5bG9hZC9ibG9ja1xuICAgICAqIEBwYXJhbSB0eERhdGEgYSB7QGxpbmsgQmxvYkVJUDQ4NDRUcmFuc2FjdGlvbn0gY29udGFpbmluZyBvcHRpb25hbCBibG9icy9remcgY29tbWl0bWVudHNcbiAgICAgKiBAcGFyYW0gb3B0cyAtIGRpY3Rpb25hcnkgb2Yge0BsaW5rIFR4T3B0aW9uc31cbiAgICAgKiBAcmV0dXJucyB0aGUgXCJtaW5pbWFsXCIgcmVwcmVzZW50YXRpb24gb2YgYSBCbG9iRUlQNDg0NFRyYW5zYWN0aW9uIChpLmUuIHRyYW5zYWN0aW9uIG9iamVjdCBtaW51cyBibG9icyBhbmQga3pnIGNvbW1pdG1lbnRzKVxuICAgICAqL1xuICAgIHN0YXRpYyBtaW5pbWFsRnJvbU5ldHdvcmtXcmFwcGVyKHR4RGF0YSwgb3B0cykge1xuICAgICAgICBpZiAob3B0cz8uY29tbW9uPy5jdXN0b21DcnlwdG8/Lmt6ZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgY29tbW9uIG9iamVjdCB3aXRoIGN1c3RvbUNyeXB0by5remcgaW5pdGlhbGl6ZWQgcmVxdWlyZWQgdG8gaW5zdGFudGlhdGUgYSA0ODQ0IGJsb2IgdHgnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0eCA9IEJsb2JFSVA0ODQ0VHJhbnNhY3Rpb24uZnJvbVR4RGF0YSh7XG4gICAgICAgICAgICAuLi50eERhdGEsXG4gICAgICAgICAgICAuLi57IGJsb2JzOiB1bmRlZmluZWQsIGt6Z0NvbW1pdG1lbnRzOiB1bmRlZmluZWQsIGt6Z1Byb29mczogdW5kZWZpbmVkIH0sXG4gICAgICAgIH0sIG9wdHMpO1xuICAgICAgICByZXR1cm4gdHg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSB0aGUgc2VyaWFsaXplZCB0eC5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYDB4MDMgfHwgcmxwKFtjaGFpbl9pZCwgbm9uY2UsIG1heF9wcmlvcml0eV9mZWVfcGVyX2dhcywgbWF4X2ZlZV9wZXJfZ2FzLCBnYXNfbGltaXQsIHRvLCB2YWx1ZSwgZGF0YSxcbiAgICAgKiBhY2Nlc3NfbGlzdCwgbWF4X2ZlZV9wZXJfZGF0YV9nYXMsIGJsb2JfdmVyc2lvbmVkX2hhc2hlcywgeV9wYXJpdHksIHIsIHNdKWBcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVNlcmlhbGl6ZWRUeChzZXJpYWxpemVkLCBvcHRzID0ge30pIHtcbiAgICAgICAgaWYgKG9wdHMuY29tbW9uPy5jdXN0b21DcnlwdG8/Lmt6ZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgY29tbW9uIG9iamVjdCB3aXRoIGN1c3RvbUNyeXB0by5remcgaW5pdGlhbGl6ZWQgcmVxdWlyZWQgdG8gaW5zdGFudGlhdGUgYSA0ODQ0IGJsb2IgdHgnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXF1YWxzQnl0ZXMoc2VyaWFsaXplZC5zdWJhcnJheSgwLCAxKSwgdHhUeXBlQnl0ZXMoVHJhbnNhY3Rpb25UeXBlLkJsb2JFSVA0ODQ0KSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2VyaWFsaXplZCB0eCBpbnB1dDogbm90IGFuIEVJUC00ODQ0IHRyYW5zYWN0aW9uICh3cm9uZyB0eCB0eXBlLCBleHBlY3RlZDogJHtUcmFuc2FjdGlvblR5cGUuQmxvYkVJUDQ4NDR9LCByZWNlaXZlZDogJHtieXRlc1RvSGV4KHNlcmlhbGl6ZWQuc3ViYXJyYXkoMCwgMSkpfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFJMUC5kZWNvZGUoc2VyaWFsaXplZC5zdWJhcnJheSgxKSk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VyaWFsaXplZCB0eCBpbnB1dDogbXVzdCBiZSBhcnJheScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBCbG9iRUlQNDg0NFRyYW5zYWN0aW9uLmZyb21WYWx1ZXNBcnJheSh2YWx1ZXMsIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0cmFuc2FjdGlvbiBmcm9tIGEgdmFsdWVzIGFycmF5LlxuICAgICAqXG4gICAgICogRm9ybWF0OiBgW2NoYWluSWQsIG5vbmNlLCBtYXhQcmlvcml0eUZlZVBlckdhcywgbWF4RmVlUGVyR2FzLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLFxuICAgICAqIGFjY2Vzc0xpc3QsIHNpZ25hdHVyZVlQYXJpdHksIHNpZ25hdHVyZVIsIHNpZ25hdHVyZVNdYFxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tVmFsdWVzQXJyYXkodmFsdWVzLCBvcHRzID0ge30pIHtcbiAgICAgICAgaWYgKG9wdHMuY29tbW9uPy5jdXN0b21DcnlwdG8/Lmt6ZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgY29tbW9uIG9iamVjdCB3aXRoIGN1c3RvbUNyeXB0by5remcgaW5pdGlhbGl6ZWQgcmVxdWlyZWQgdG8gaW5zdGFudGlhdGUgYSA0ODQ0IGJsb2IgdHgnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCAhPT0gMTEgJiYgdmFsdWVzLmxlbmd0aCAhPT0gMTQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBFSVAtNDg0NCB0cmFuc2FjdGlvbi4gT25seSBleHBlY3RpbmcgMTEgdmFsdWVzIChmb3IgdW5zaWduZWQgdHgpIG9yIDE0IHZhbHVlcyAoZm9yIHNpZ25lZCB0eCkuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgW2NoYWluSWQsIG5vbmNlLCBtYXhQcmlvcml0eUZlZVBlckdhcywgbWF4RmVlUGVyR2FzLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCBhY2Nlc3NMaXN0LCBtYXhGZWVQZXJCbG9iR2FzLCBibG9iVmVyc2lvbmVkSGFzaGVzLCB2LCByLCBzLF0gPSB2YWx1ZXM7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlTm90QXJyYXkoeyBjaGFpbklkLCB2IH0pO1xuICAgICAgICB2YWxpZGF0ZU5vTGVhZGluZ1plcm9lcyh7XG4gICAgICAgICAgICBub25jZSxcbiAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgICAgICAgICAgbWF4RmVlUGVyR2FzLFxuICAgICAgICAgICAgZ2FzTGltaXQsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG1heEZlZVBlckJsb2JHYXMsXG4gICAgICAgICAgICB2LFxuICAgICAgICAgICAgcixcbiAgICAgICAgICAgIHMsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IEJsb2JFSVA0ODQ0VHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgY2hhaW5JZDogYnl0ZXNUb0JpZ0ludChjaGFpbklkKSxcbiAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICAgICAgICBtYXhGZWVQZXJHYXMsXG4gICAgICAgICAgICBnYXNMaW1pdCxcbiAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgYWNjZXNzTGlzdDogYWNjZXNzTGlzdCA/PyBbXSxcbiAgICAgICAgICAgIG1heEZlZVBlckJsb2JHYXMsXG4gICAgICAgICAgICBibG9iVmVyc2lvbmVkSGFzaGVzLFxuICAgICAgICAgICAgdjogdiAhPT0gdW5kZWZpbmVkID8gYnl0ZXNUb0JpZ0ludCh2KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHIsXG4gICAgICAgICAgICBzLFxuICAgICAgICB9LCBvcHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRyYW5zYWN0aW9uIGZyb20gdGhlIG5ldHdvcmsgZW5jb2Rpbmcgb2YgYSBibG9iIHRyYW5zYWN0aW9uICh3aXRoIGJsb2JzL2NvbW1pdG1lbnRzL3Byb29mKVxuICAgICAqIEBwYXJhbSBzZXJpYWxpemVkIGEgYnVmZmVyIHJlcHJlc2VudGluZyBhIHNlcmlhbGl6ZWQgQmxvYlRyYW5zYWN0aW9uTmV0d29ya1dyYXBwZXJcbiAgICAgKiBAcGFyYW0gb3B0cyBhbnkgVHhPcHRpb25zIGRlZmluZWRcbiAgICAgKiBAcmV0dXJucyBhIEJsb2JFSVA0ODQ0VHJhbnNhY3Rpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVNlcmlhbGl6ZWRCbG9iVHhOZXR3b3JrV3JhcHBlcihzZXJpYWxpemVkLCBvcHRzKSB7XG4gICAgICAgIGlmICghb3B0cyB8fCAhb3B0cy5jb21tb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY29tbW9uIGluc3RhbmNlIHJlcXVpcmVkIHRvIHZhbGlkYXRlIHZlcnNpb25lZCBoYXNoZXMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5jb21tb24/LmN1c3RvbUNyeXB0bz8ua3pnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSBjb21tb24gb2JqZWN0IHdpdGggY3VzdG9tQ3J5cHRvLmt6ZyBpbml0aWFsaXplZCByZXF1aXJlZCB0byBpbnN0YW50aWF0ZSBhIDQ4NDQgYmxvYiB0eCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcXVhbHNCeXRlcyhzZXJpYWxpemVkLnN1YmFycmF5KDAsIDEpLCB0eFR5cGVCeXRlcyhUcmFuc2FjdGlvblR5cGUuQmxvYkVJUDQ4NDQpKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzZXJpYWxpemVkIHR4IGlucHV0OiBub3QgYW4gRUlQLTQ4NDQgdHJhbnNhY3Rpb24gKHdyb25nIHR4IHR5cGUsIGV4cGVjdGVkOiAke1RyYW5zYWN0aW9uVHlwZS5CbG9iRUlQNDg0NH0sIHJlY2VpdmVkOiAke2J5dGVzVG9IZXgoc2VyaWFsaXplZC5zdWJhcnJheSgwLCAxKSl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmFsaWRhdGUgbmV0d29yayB3cmFwcGVyXG4gICAgICAgIGNvbnN0IG5ldHdvcmtUeFZhbHVlcyA9IFJMUC5kZWNvZGUoc2VyaWFsaXplZC5zdWJhcnJheSgxKSk7XG4gICAgICAgIGlmIChuZXR3b3JrVHhWYWx1ZXMubGVuZ3RoICE9PSA0KSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgRXhwZWN0ZWQgNCB2YWx1ZXMgaW4gdGhlIGRlc2VyaWFsaXplZCBuZXR3b3JrIHRyYW5zYWN0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgW3R4VmFsdWVzLCBibG9icywga3pnQ29tbWl0bWVudHMsIGt6Z1Byb29mc10gPSBuZXR3b3JrVHhWYWx1ZXM7XG4gICAgICAgIC8vIENvbnN0cnVjdCB0aGUgdHggYnV0IGRvbid0IGZyZWV6ZSB5ZXQsIHdlIHdpbGwgYXNzaWduIGJsb2JzIGV0YyBvbmNlIHZhbGlkYXRlZFxuICAgICAgICBjb25zdCBkZWNvZGVkVHggPSBCbG9iRUlQNDg0NFRyYW5zYWN0aW9uLmZyb21WYWx1ZXNBcnJheSh0eFZhbHVlcywgeyAuLi5vcHRzLCBmcmVlemU6IGZhbHNlIH0pO1xuICAgICAgICBpZiAoZGVjb2RlZFR4LnRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdCbG9iRUlQNDg0NFRyYW5zYWN0aW9uIGNhbiBub3QgYmUgc2VuZCB3aXRob3V0IGEgdmFsaWQgYHRvYCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZlcnNpb24gPSBOdW1iZXIob3B0cy5jb21tb24ucGFyYW0oJ3NoYXJkaW5nJywgJ2Jsb2JDb21taXRtZW50VmVyc2lvbkt6ZycpKTtcbiAgICAgICAgdmFsaWRhdGVCbG9iVHJhbnNhY3Rpb25OZXR3b3JrV3JhcHBlcihkZWNvZGVkVHguYmxvYlZlcnNpb25lZEhhc2hlcywgYmxvYnMsIGt6Z0NvbW1pdG1lbnRzLCBremdQcm9vZnMsIHZlcnNpb24sIG9wdHMuY29tbW9uLmN1c3RvbUNyeXB0by5remcpO1xuICAgICAgICAvLyBzZXQgdGhlIG5ldHdvcmsgYmxvYiBkYXRhIG9uIHRoZSB0eFxuICAgICAgICBkZWNvZGVkVHguYmxvYnMgPSBibG9icztcbiAgICAgICAgZGVjb2RlZFR4Lmt6Z0NvbW1pdG1lbnRzID0ga3pnQ29tbWl0bWVudHM7XG4gICAgICAgIGRlY29kZWRUeC5remdQcm9vZnMgPSBremdQcm9vZnM7XG4gICAgICAgIC8vIGZyZWV6ZSB0aGUgdHhcbiAgICAgICAgY29uc3QgZnJlZXplID0gb3B0cz8uZnJlZXplID8/IHRydWU7XG4gICAgICAgIGlmIChmcmVlemUpIHtcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUoZGVjb2RlZFR4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVjb2RlZFR4O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYW1vdW50IG9mIGdhcyBwYWlkIGZvciB0aGUgZGF0YSBpbiB0aGlzIHR4XG4gICAgICovXG4gICAgZ2V0RGF0YUZlZSgpIHtcbiAgICAgICAgcmV0dXJuIEVJUDI5MzAuZ2V0RGF0YUZlZSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHVwIGZyb250IGFtb3VudCB0aGF0IGFuIGFjY291bnQgbXVzdCBoYXZlIGZvciB0aGlzIHRyYW5zYWN0aW9uIHRvIGJlIHZhbGlkXG4gICAgICogQHBhcmFtIGJhc2VGZWUgVGhlIGJhc2UgZmVlIG9mIHRoZSBibG9jayAod2lsbCBiZSBzZXQgdG8gMCBpZiBub3QgcHJvdmlkZWQpXG4gICAgICovXG4gICAgZ2V0VXBmcm9udENvc3QoYmFzZUZlZSA9IEJJR0lOVF8wKSB7XG4gICAgICAgIHJldHVybiBFSVAxNTU5LmdldFVwZnJvbnRDb3N0KHRoaXMsIGJhc2VGZWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgVWludDhBcnJheSBBcnJheSBvZiB0aGUgcmF3IEJ5dGVzIG9mIHRoZSBFSVAtNDg0NCB0cmFuc2FjdGlvbiwgaW4gb3JkZXIuXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IFtjaGFpbl9pZCwgbm9uY2UsIG1heF9wcmlvcml0eV9mZWVfcGVyX2dhcywgbWF4X2ZlZV9wZXJfZ2FzLCBnYXNfbGltaXQsIHRvLCB2YWx1ZSwgZGF0YSxcbiAgICAgKiBhY2Nlc3NfbGlzdCwgbWF4X2ZlZV9wZXJfZGF0YV9nYXMsIGJsb2JfdmVyc2lvbmVkX2hhc2hlcywgeV9wYXJpdHksIHIsIHNdYC5cbiAgICAgKlxuICAgICAqIFVzZSB7QGxpbmsgQmxvYkVJUDQ4NDRUcmFuc2FjdGlvbi5zZXJpYWxpemV9IHRvIGFkZCBhIHRyYW5zYWN0aW9uIHRvIGEgYmxvY2tcbiAgICAgKiB3aXRoIHtAbGluayBCbG9jay5mcm9tVmFsdWVzQXJyYXl9LlxuICAgICAqXG4gICAgICogRm9yIGFuIHVuc2lnbmVkIHR4IHRoaXMgbWV0aG9kIHVzZXMgdGhlIGVtcHR5IEJ5dGVzIHZhbHVlcyBmb3IgdGhlXG4gICAgICogc2lnbmF0dXJlIHBhcmFtZXRlcnMgYHZgLCBgcmAgYW5kIGBzYCBmb3IgZW5jb2RpbmcuIEZvciBhbiBFSVAtMTU1IGNvbXBsaWFudFxuICAgICAqIHJlcHJlc2VudGF0aW9uIGZvciBleHRlcm5hbCBzaWduaW5nIHVzZSB7QGxpbmsgQmxvYkVJUDQ4NDRUcmFuc2FjdGlvbi5nZXRNZXNzYWdlVG9TaWdufS5cbiAgICAgKi9cbiAgICByYXcoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5jaGFpbklkKSxcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLm5vbmNlKSxcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLm1heFByaW9yaXR5RmVlUGVyR2FzKSxcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLm1heEZlZVBlckdhcyksXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5nYXNMaW1pdCksXG4gICAgICAgICAgICB0aGlzLnRvICE9PSB1bmRlZmluZWQgPyB0aGlzLnRvLmJ5dGVzIDogbmV3IFVpbnQ4QXJyYXkoMCksXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy52YWx1ZSksXG4gICAgICAgICAgICB0aGlzLmRhdGEsXG4gICAgICAgICAgICB0aGlzLmFjY2Vzc0xpc3QsXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5tYXhGZWVQZXJCbG9iR2FzKSxcbiAgICAgICAgICAgIHRoaXMuYmxvYlZlcnNpb25lZEhhc2hlcyxcbiAgICAgICAgICAgIHRoaXMudiAhPT0gdW5kZWZpbmVkID8gYmlnSW50VG9VbnBhZGRlZEJ5dGVzKHRoaXMudikgOiBuZXcgVWludDhBcnJheSgwKSxcbiAgICAgICAgICAgIHRoaXMuciAhPT0gdW5kZWZpbmVkID8gYmlnSW50VG9VbnBhZGRlZEJ5dGVzKHRoaXMucikgOiBuZXcgVWludDhBcnJheSgwKSxcbiAgICAgICAgICAgIHRoaXMucyAhPT0gdW5kZWZpbmVkID8gYmlnSW50VG9VbnBhZGRlZEJ5dGVzKHRoaXMucykgOiBuZXcgVWludDhBcnJheSgwKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2VyaWFsaXplZCBlbmNvZGluZyBvZiB0aGUgRUlQLTQ4NDQgdHJhbnNhY3Rpb24uXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IGAweDAzIHx8IHJscChbY2hhaW5JZCwgbm9uY2UsIG1heFByaW9yaXR5RmVlUGVyR2FzLCBtYXhGZWVQZXJHYXMsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsXG4gICAgICogYWNjZXNzX2xpc3QsIG1heF9mZWVfcGVyX2RhdGFfZ2FzLCBibG9iX3ZlcnNpb25lZF9oYXNoZXMsIHlfcGFyaXR5LCByLCBzXSlgLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGluIGNvbnRyYXN0IHRvIHRoZSBsZWdhY3kgdHggc2VyaWFsaXphdGlvbiBmb3JtYXQgdGhpcyBpcyBub3RcbiAgICAgKiB2YWxpZCBSTFAgYW55IG1vcmUgZHVlIHRvIHRoZSByYXcgdHggdHlwZSBwcmVjZWRpbmcgYW5kIGNvbmNhdGVuYXRlZCB0b1xuICAgICAqIHRoZSBSTFAgZW5jb2Rpbmcgb2YgdGhlIHZhbHVlcy5cbiAgICAgKi9cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiBFSVAyNzE4LnNlcmlhbGl6ZSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgdGhlIHNlcmlhbGl6ZWQgZm9ybSBvZiBhIGJsb2IgdHJhbnNhY3Rpb24gaW4gdGhlIG5ldHdvcmsgd3JhcHBlciBmb3JtYXQgKHVzZWQgZm9yIGdvc3NpcHBpbmcgbWVtcG9vbCB0cmFuc2FjdGlvbnMgb3ZlciBkZXZwMnApXG4gICAgICovXG4gICAgc2VyaWFsaXplTmV0d29ya1dyYXBwZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmJsb2JzID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIHRoaXMua3pnQ29tbWl0bWVudHMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgdGhpcy5remdQcm9vZnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5ub3Qgc2VyaWFsaXplIG5ldHdvcmsgd3JhcHBlciB3aXRob3V0IGJsb2JzLCBLWkcgY29tbWl0bWVudHMgYW5kIEtaRyBwcm9vZnMgcHJvdmlkZWQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRUlQMjcxOC5zZXJpYWxpemUodGhpcywgW3RoaXMucmF3KCksIHRoaXMuYmxvYnMsIHRoaXMua3pnQ29tbWl0bWVudHMsIHRoaXMua3pnUHJvb2ZzXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJhdyBzZXJpYWxpemVkIHVuc2lnbmVkIHR4LCB3aGljaCBjYW4gYmUgdXNlZFxuICAgICAqIHRvIHNpZ24gdGhlIHRyYW5zYWN0aW9uIChlLmcuIGZvciBzZW5kaW5nIHRvIGEgaGFyZHdhcmUgd2FsbGV0KS5cbiAgICAgKlxuICAgICAqIE5vdGU6IGluIGNvbnRyYXN0IHRvIHRoZSBsZWdhY3kgdHggdGhlIHJhdyBtZXNzYWdlIGZvcm1hdCBpcyBhbHJlYWR5XG4gICAgICogc2VyaWFsaXplZCBhbmQgZG9lc24ndCBuZWVkIHRvIGJlIFJMUCBlbmNvZGVkIGFueSBtb3JlLlxuICAgICAqXG4gICAgICogYGBgamF2YXNjcmlwdFxuICAgICAqIGNvbnN0IHNlcmlhbGl6ZWRNZXNzYWdlID0gdHguZ2V0TWVzc2FnZVRvU2lnbigpIC8vIHVzZSB0aGlzIGZvciB0aGUgSFcgd2FsbGV0IGlucHV0XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0TWVzc2FnZVRvU2lnbigpIHtcbiAgICAgICAgcmV0dXJuIEVJUDI3MTguc2VyaWFsaXplKHRoaXMsIHRoaXMucmF3KCkuc2xpY2UoMCwgMTEpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaGFzaGVkIHNlcmlhbGl6ZWQgdW5zaWduZWQgdHgsIHdoaWNoIGNhbiBiZSB1c2VkXG4gICAgICogdG8gc2lnbiB0aGUgdHJhbnNhY3Rpb24gKGUuZy4gZm9yIHNlbmRpbmcgdG8gYSBoYXJkd2FyZSB3YWxsZXQpLlxuICAgICAqXG4gICAgICogTm90ZTogaW4gY29udHJhc3QgdG8gdGhlIGxlZ2FjeSB0eCB0aGUgcmF3IG1lc3NhZ2UgZm9ybWF0IGlzIGFscmVhZHlcbiAgICAgKiBzZXJpYWxpemVkIGFuZCBkb2Vzbid0IG5lZWQgdG8gYmUgUkxQIGVuY29kZWQgYW55IG1vcmUuXG4gICAgICovXG4gICAgZ2V0SGFzaGVkTWVzc2FnZVRvU2lnbigpIHtcbiAgICAgICAgcmV0dXJuIEVJUDI3MTguZ2V0SGFzaGVkTWVzc2FnZVRvU2lnbih0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYSBzaGEzLTI1NiBoYXNoIG9mIHRoZSBzZXJpYWxpemVkIHR4LlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgY2FuIG9ubHkgYmUgdXNlZCBmb3Igc2lnbmVkIHR4cyAoaXQgdGhyb3dzIG90aGVyd2lzZSkuXG4gICAgICogVXNlIHtAbGluayBCbG9iRUlQNDg0NFRyYW5zYWN0aW9uLmdldE1lc3NhZ2VUb1NpZ259IHRvIGdldCBhIHR4IGhhc2ggZm9yIHRoZSBwdXJwb3NlIG9mIHNpZ25pbmcuXG4gICAgICovXG4gICAgaGFzaCgpIHtcbiAgICAgICAgcmV0dXJuIExlZ2FjeS5oYXNoKHRoaXMpO1xuICAgIH1cbiAgICBnZXRNZXNzYWdlVG9WZXJpZnlTaWduYXR1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEhhc2hlZE1lc3NhZ2VUb1NpZ24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHVibGljIGtleSBvZiB0aGUgc2VuZGVyXG4gICAgICovXG4gICAgZ2V0U2VuZGVyUHVibGljS2V5KCkge1xuICAgICAgICByZXR1cm4gTGVnYWN5LmdldFNlbmRlclB1YmxpY0tleSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgRUlQIDQ4NDQgdHJhbnNhY3Rpb24gbmV0d29yayB3cmFwcGVyIGluIEpTT04gZm9ybWF0IHNpbWlsYXIgdG8gdG9KU09OLCBpbmNsdWRpbmdcbiAgICAgKiBibG9icywgY29tbWl0bWVudHMsIGFuZCBwcm9vZnMgZmllbGRzXG4gICAgICogQHBhcmFtIHNlcmlhbGl6ZWQgYSBidWZmZXIgcmVwcmVzZW50aW5nIGEgc2VyaWFsaXplZCBCbG9iVHJhbnNhY3Rpb25OZXR3b3JrV3JhcHBlclxuICAgICAqIEBwYXJhbSBvcHRzIGFueSBUeE9wdGlvbnMgZGVmaW5lZFxuICAgICAqIEByZXR1cm5zIEpzb25CbG9iVHhOZXR3b3JrV3JhcHBlciB3aXRoIGJsb2JzLCBLWkcgY29tbWl0bWVudHMsIGFuZCBLWkcgcHJvb2ZzIGZpZWxkc1xuICAgICAqL1xuICAgIHN0YXRpYyBuZXR3b3JrV3JhcHBlclRvSnNvbihzZXJpYWxpemVkLCBvcHRzKSB7XG4gICAgICAgIGNvbnN0IHR4ID0gdGhpcy5mcm9tU2VyaWFsaXplZEJsb2JUeE5ldHdvcmtXcmFwcGVyKHNlcmlhbGl6ZWQsIG9wdHMpO1xuICAgICAgICBjb25zdCBhY2Nlc3NMaXN0SlNPTiA9IEFjY2Vzc0xpc3RzLmdldEFjY2Vzc0xpc3RKU09OKHR4LmFjY2Vzc0xpc3QpO1xuICAgICAgICBjb25zdCBiYXNlSnNvbiA9IHR4LnRvSlNPTigpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uYmFzZUpzb24sXG4gICAgICAgICAgICBjaGFpbklkOiBiaWdJbnRUb0hleCh0eC5jaGFpbklkKSxcbiAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiBiaWdJbnRUb0hleCh0eC5tYXhQcmlvcml0eUZlZVBlckdhcyksXG4gICAgICAgICAgICBtYXhGZWVQZXJHYXM6IGJpZ0ludFRvSGV4KHR4Lm1heEZlZVBlckdhcyksXG4gICAgICAgICAgICBhY2Nlc3NMaXN0OiBhY2Nlc3NMaXN0SlNPTixcbiAgICAgICAgICAgIG1heEZlZVBlckJsb2JHYXM6IGJpZ0ludFRvSGV4KHR4Lm1heEZlZVBlckJsb2JHYXMpLFxuICAgICAgICAgICAgYmxvYlZlcnNpb25lZEhhc2hlczogdHguYmxvYlZlcnNpb25lZEhhc2hlcy5tYXAoKGhhc2gpID0+IGJ5dGVzVG9IZXgoaGFzaCkpLFxuICAgICAgICAgICAgYmxvYnM6IHR4LmJsb2JzLm1hcCgoYnl0ZXMpID0+IGJ5dGVzVG9IZXgoYnl0ZXMpKSxcbiAgICAgICAgICAgIGt6Z0NvbW1pdG1lbnRzOiB0eC5remdDb21taXRtZW50cy5tYXAoKGJ5dGVzKSA9PiBieXRlc1RvSGV4KGJ5dGVzKSksXG4gICAgICAgICAgICBremdQcm9vZnM6IHR4Lmt6Z1Byb29mcy5tYXAoKGJ5dGVzKSA9PiBieXRlc1RvSGV4KGJ5dGVzKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgY29uc3QgYWNjZXNzTGlzdEpTT04gPSBBY2Nlc3NMaXN0cy5nZXRBY2Nlc3NMaXN0SlNPTih0aGlzLmFjY2Vzc0xpc3QpO1xuICAgICAgICBjb25zdCBiYXNlSnNvbiA9IHN1cGVyLnRvSlNPTigpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uYmFzZUpzb24sXG4gICAgICAgICAgICBjaGFpbklkOiBiaWdJbnRUb0hleCh0aGlzLmNoYWluSWQpLFxuICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IGJpZ0ludFRvSGV4KHRoaXMubWF4UHJpb3JpdHlGZWVQZXJHYXMpLFxuICAgICAgICAgICAgbWF4RmVlUGVyR2FzOiBiaWdJbnRUb0hleCh0aGlzLm1heEZlZVBlckdhcyksXG4gICAgICAgICAgICBhY2Nlc3NMaXN0OiBhY2Nlc3NMaXN0SlNPTixcbiAgICAgICAgICAgIG1heEZlZVBlckJsb2JHYXM6IGJpZ0ludFRvSGV4KHRoaXMubWF4RmVlUGVyQmxvYkdhcyksXG4gICAgICAgICAgICBibG9iVmVyc2lvbmVkSGFzaGVzOiB0aGlzLmJsb2JWZXJzaW9uZWRIYXNoZXMubWFwKChoYXNoKSA9PiBieXRlc1RvSGV4KGhhc2gpKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYWRkU2lnbmF0dXJlKHYsIHIsIHMsIGNvbnZlcnRWID0gZmFsc2UpIHtcbiAgICAgICAgciA9IHRvQnl0ZXMocik7XG4gICAgICAgIHMgPSB0b0J5dGVzKHMpO1xuICAgICAgICBjb25zdCBvcHRzID0geyAuLi50aGlzLnR4T3B0aW9ucywgY29tbW9uOiB0aGlzLmNvbW1vbiB9O1xuICAgICAgICByZXR1cm4gQmxvYkVJUDQ4NDRUcmFuc2FjdGlvbi5mcm9tVHhEYXRhKHtcbiAgICAgICAgICAgIGNoYWluSWQ6IHRoaXMuY2hhaW5JZCxcbiAgICAgICAgICAgIG5vbmNlOiB0aGlzLm5vbmNlLFxuICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IHRoaXMubWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICAgICAgICBtYXhGZWVQZXJHYXM6IHRoaXMubWF4RmVlUGVyR2FzLFxuICAgICAgICAgICAgZ2FzTGltaXQ6IHRoaXMuZ2FzTGltaXQsXG4gICAgICAgICAgICB0bzogdGhpcy50byxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgZGF0YTogdGhpcy5kYXRhLFxuICAgICAgICAgICAgYWNjZXNzTGlzdDogdGhpcy5hY2Nlc3NMaXN0LFxuICAgICAgICAgICAgdjogY29udmVydFYgPyB2IC0gQklHSU5UXzI3IDogdixcbiAgICAgICAgICAgIHI6IGJ5dGVzVG9CaWdJbnQociksXG4gICAgICAgICAgICBzOiBieXRlc1RvQmlnSW50KHMpLFxuICAgICAgICAgICAgbWF4RmVlUGVyQmxvYkdhczogdGhpcy5tYXhGZWVQZXJCbG9iR2FzLFxuICAgICAgICAgICAgYmxvYlZlcnNpb25lZEhhc2hlczogdGhpcy5ibG9iVmVyc2lvbmVkSGFzaGVzLFxuICAgICAgICAgICAgYmxvYnM6IHRoaXMuYmxvYnMsXG4gICAgICAgICAgICBremdDb21taXRtZW50czogdGhpcy5remdDb21taXRtZW50cyxcbiAgICAgICAgICAgIGt6Z1Byb29mczogdGhpcy5remdQcm9vZnMsXG4gICAgICAgIH0sIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBjb21wYWN0IGVycm9yIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgZXJyb3JTdHIoKSB7XG4gICAgICAgIGxldCBlcnJvclN0ciA9IHRoaXMuX2dldFNoYXJlZEVycm9yUG9zdGZpeCgpO1xuICAgICAgICBlcnJvclN0ciArPSBgIG1heEZlZVBlckdhcz0ke3RoaXMubWF4RmVlUGVyR2FzfSBtYXhQcmlvcml0eUZlZVBlckdhcz0ke3RoaXMubWF4UHJpb3JpdHlGZWVQZXJHYXN9YDtcbiAgICAgICAgcmV0dXJuIGVycm9yU3RyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBoZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGFuIGFubm90YXRlZCBlcnJvciBtZXNzYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbXNnIEJhc2UgZXJyb3IgbWVzc2FnZVxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfZXJyb3JNc2cobXNnKSB7XG4gICAgICAgIHJldHVybiBMZWdhY3kuZXJyb3JNc2codGhpcywgbXNnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgdGhlIG51bWJlciBvZiBibG9icyBpbmNsdWRlZCB3aXRoIHRoaXMgdHJhbnNhY3Rpb25cbiAgICAgKi9cbiAgICBudW1CbG9icygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvYlZlcnNpb25lZEhhc2hlcy5sZW5ndGg7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWlwNDg0NFRyYW5zYWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip4844Transaction.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip7702Transaction.js":
/*!****************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip7702Transaction.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EOACodeEIP7702Transaction: () => (/* binding */ EOACodeEIP7702Transaction)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/rlp */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+rlp@5.0.2/node_modules/@ethereumjs/rlp/dist/esm/index.js\");\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+util@9.1.0/node_modules/@ethereumjs/util/dist/esm/index.js\");\n/* harmony import */ var _baseTransaction_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./baseTransaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/baseTransaction.js\");\n/* harmony import */ var _capabilities_eip1559_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./capabilities/eip1559.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip1559.js\");\n/* harmony import */ var _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./capabilities/eip2718.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip2718.js\");\n/* harmony import */ var _capabilities_eip7702_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./capabilities/eip7702.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/eip7702.js\");\n/* harmony import */ var _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./capabilities/legacy.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/legacy.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./types.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/types.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./util.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/util.js\");\n\n\n\n\n\n\n\n\n\n/**\n * Typed transaction with the ability to set codes on EOA accounts\n *\n * - TransactionType: 4\n * - EIP: [EIP-7702](https://github.com/ethereum/EIPs/blob/62419ca3f45375db00b04a368ea37c0bfb05386a/EIPS/eip-7702.md)\n */\nclass EOACodeEIP7702Transaction extends _baseTransaction_js__WEBPACK_IMPORTED_MODULE_2__.BaseTransaction {\n    /**\n     * This constructor takes the values, validates them, assigns them and freezes the object.\n     *\n     * It is not recommended to use this constructor directly. Instead use\n     * the static factory methods to assist in creating a Transaction object from\n     * varying data types.\n     */\n    constructor(txData, opts = {}) {\n        super({ ...txData, type: _types_js__WEBPACK_IMPORTED_MODULE_7__.TransactionType.EOACodeEIP7702 }, opts);\n        const { chainId, accessList, authorizationList, maxFeePerGas, maxPriorityFeePerGas } = txData;\n        this.common = this._getCommon(opts.common, chainId);\n        this.chainId = this.common.chainId();\n        if (!this.common.isActivatedEIP(7702)) {\n            throw new Error('EIP-7702 not enabled on Common');\n        }\n        this.activeCapabilities = this.activeCapabilities.concat([1559, 2718, 2930, 7702]);\n        // Populate the access list fields\n        const accessListData = _util_js__WEBPACK_IMPORTED_MODULE_8__.AccessLists.getAccessListData(accessList ?? []);\n        this.accessList = accessListData.accessList;\n        this.AccessListJSON = accessListData.AccessListJSON;\n        // Verify the access list format.\n        _util_js__WEBPACK_IMPORTED_MODULE_8__.AccessLists.verifyAccessList(this.accessList);\n        // Populate the authority list fields\n        const authorizationListData = _util_js__WEBPACK_IMPORTED_MODULE_8__.AuthorizationLists.getAuthorizationListData(authorizationList ?? []);\n        this.authorizationList = authorizationListData.authorizationList;\n        this.AuthorizationListJSON = authorizationListData.AuthorizationListJSON;\n        // Verify the authority list format.\n        _util_js__WEBPACK_IMPORTED_MODULE_8__.AuthorizationLists.verifyAuthorizationList(this.authorizationList);\n        this.maxFeePerGas = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(maxFeePerGas));\n        this.maxPriorityFeePerGas = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(maxPriorityFeePerGas));\n        this._validateCannotExceedMaxInteger({\n            maxFeePerGas: this.maxFeePerGas,\n            maxPriorityFeePerGas: this.maxPriorityFeePerGas,\n        });\n        _baseTransaction_js__WEBPACK_IMPORTED_MODULE_2__.BaseTransaction._validateNotArray(txData);\n        if (this.gasLimit * this.maxFeePerGas > _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.MAX_INTEGER) {\n            const msg = this._errorMsg('gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)');\n            throw new Error(msg);\n        }\n        if (this.maxFeePerGas < this.maxPriorityFeePerGas) {\n            const msg = this._errorMsg('maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)');\n            throw new Error(msg);\n        }\n        _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__.validateYParity(this);\n        _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__.validateHighS(this);\n        const freeze = opts?.freeze ?? true;\n        if (freeze) {\n            Object.freeze(this);\n        }\n    }\n    /**\n     * Instantiate a transaction from a data dictionary.\n     *\n     * Format: { chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, v, r, s }\n     *\n     * Notes:\n     * - `chainId` will be set automatically if not provided\n     * - All parameters are optional and have some basic default values\n     */\n    static fromTxData(txData, opts = {}) {\n        return new EOACodeEIP7702Transaction(txData, opts);\n    }\n    /**\n     * Instantiate a transaction from the serialized tx.\n     *\n     * Format: `0x04 || rlp([chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS])`\n     */\n    static fromSerializedTx(serialized, opts = {}) {\n        if ((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.equalsBytes)(serialized.subarray(0, 1), (0,_util_js__WEBPACK_IMPORTED_MODULE_8__.txTypeBytes)(_types_js__WEBPACK_IMPORTED_MODULE_7__.TransactionType.EOACodeEIP7702)) === false) {\n            throw new Error(`Invalid serialized tx input: not an EIP-7702 transaction (wrong tx type, expected: ${_types_js__WEBPACK_IMPORTED_MODULE_7__.TransactionType.EOACodeEIP7702}, received: ${(0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToHex)(serialized.subarray(0, 1))}`);\n        }\n        const values = _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__.RLP.decode(serialized.subarray(1));\n        if (!Array.isArray(values)) {\n            throw new Error('Invalid serialized tx input: must be array');\n        }\n        return EOACodeEIP7702Transaction.fromValuesArray(values, opts);\n    }\n    /**\n     * Create a transaction from a values array.\n     *\n     * Format: `[chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS]`\n     */\n    static fromValuesArray(values, opts = {}) {\n        if (values.length !== 10 && values.length !== 13) {\n            throw new Error('Invalid EIP-7702 transaction. Only expecting 10 values (for unsigned tx) or 13 values (for signed tx).');\n        }\n        const [chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data, accessList, authorityList, v, r, s,] = values;\n        this._validateNotArray({ chainId, v });\n        (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.validateNoLeadingZeroes)({ nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, value, v, r, s });\n        return new EOACodeEIP7702Transaction({\n            chainId: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(chainId),\n            nonce,\n            maxPriorityFeePerGas,\n            maxFeePerGas,\n            gasLimit,\n            to,\n            value,\n            data,\n            accessList: accessList ?? [],\n            authorizationList: authorityList ?? [],\n            v: v !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(v) : undefined,\n            r,\n            s,\n        }, opts);\n    }\n    /**\n     * The amount of gas paid for the data in this tx\n     */\n    getDataFee() {\n        return _capabilities_eip7702_js__WEBPACK_IMPORTED_MODULE_5__.getDataFee(this);\n    }\n    /**\n     * Returns the minimum of calculated priority fee (from maxFeePerGas and baseFee) and maxPriorityFeePerGas\n     * @param baseFee Base fee retrieved from block\n     */\n    getEffectivePriorityFee(baseFee) {\n        return _capabilities_eip1559_js__WEBPACK_IMPORTED_MODULE_3__.getEffectivePriorityFee(this, baseFee);\n    }\n    /**\n     * The up front amount that an account must have for this transaction to be valid\n     * @param baseFee The base fee of the block (will be set to 0 if not provided)\n     */\n    getUpfrontCost(baseFee = _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.BIGINT_0) {\n        return _capabilities_eip1559_js__WEBPACK_IMPORTED_MODULE_3__.getUpfrontCost(this, baseFee);\n    }\n    /**\n     * Returns a Uint8Array Array of the raw Bytes of the EIP-7702 transaction, in order.\n     *\n     * Format: `[chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, authorizationList, signatureYParity, signatureR, signatureS]`\n     *\n     * Use {@link EOACodeEIP7702Transaction.serialize} to add a transaction to a block\n     * with {@link Block.fromValuesArray}.\n     *\n     * For an unsigned tx this method uses the empty Bytes values for the\n     * signature parameters `v`, `r` and `s` for encoding. For an EIP-155 compliant\n     * representation for external signing use {@link EOACodeEIP7702Transaction.getMessageToSign}.\n     */\n    raw() {\n        return [\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.chainId),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.nonce),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.maxPriorityFeePerGas),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.maxFeePerGas),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.gasLimit),\n            this.to !== undefined ? this.to.bytes : new Uint8Array(0),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.value),\n            this.data,\n            this.accessList,\n            this.authorizationList,\n            this.v !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.v) : new Uint8Array(0),\n            this.r !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.r) : new Uint8Array(0),\n            this.s !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.s) : new Uint8Array(0),\n        ];\n    }\n    /**\n     * Returns the serialized encoding of the EIP-7702 transaction.\n     *\n     * Format: `0x02 || rlp([chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, authorizationList, signatureYParity, signatureR, signatureS])`\n     *\n     * Note that in contrast to the legacy tx serialization format this is not\n     * valid RLP any more due to the raw tx type preceding and concatenated to\n     * the RLP encoding of the values.\n     */\n    serialize() {\n        return _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__.serialize(this);\n    }\n    /**\n     * Returns the raw serialized unsigned tx, which can be used\n     * to sign the transaction (e.g. for sending to a hardware wallet).\n     *\n     * Note: in contrast to the legacy tx the raw message format is already\n     * serialized and doesn't need to be RLP encoded any more.\n     *\n     * ```javascript\n     * const serializedMessage = tx.getMessageToSign() // use this for the HW wallet input\n     * ```\n     */\n    getMessageToSign() {\n        return _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__.serialize(this, this.raw().slice(0, 10));\n    }\n    /**\n     * Returns the hashed serialized unsigned tx, which can be used\n     * to sign the transaction (e.g. for sending to a hardware wallet).\n     *\n     * Note: in contrast to the legacy tx the raw message format is already\n     * serialized and doesn't need to be RLP encoded any more.\n     */\n    getHashedMessageToSign() {\n        return _capabilities_eip2718_js__WEBPACK_IMPORTED_MODULE_4__.getHashedMessageToSign(this);\n    }\n    /**\n     * Computes a sha3-256 hash of the serialized tx.\n     *\n     * This method can only be used for signed txs (it throws otherwise).\n     * Use {@link EOACodeEIP7702Transaction.getMessageToSign} to get a tx hash for the purpose of signing.\n     */\n    hash() {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__.hash(this);\n    }\n    /**\n     * Computes a sha3-256 hash which can be used to verify the signature\n     */\n    getMessageToVerifySignature() {\n        return this.getHashedMessageToSign();\n    }\n    /**\n     * Returns the public key of the sender\n     */\n    getSenderPublicKey() {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__.getSenderPublicKey(this);\n    }\n    addSignature(v, r, s, convertV = false) {\n        r = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(r);\n        s = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(s);\n        const opts = { ...this.txOptions, common: this.common };\n        return EOACodeEIP7702Transaction.fromTxData({\n            chainId: this.chainId,\n            nonce: this.nonce,\n            maxPriorityFeePerGas: this.maxPriorityFeePerGas,\n            maxFeePerGas: this.maxFeePerGas,\n            gasLimit: this.gasLimit,\n            to: this.to,\n            value: this.value,\n            data: this.data,\n            accessList: this.accessList,\n            authorizationList: this.authorizationList,\n            v: convertV ? v - _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.BIGINT_27 : v,\n            r: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(r),\n            s: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(s),\n        }, opts);\n    }\n    /**\n     * Returns an object with the JSON representation of the transaction\n     */\n    toJSON() {\n        const accessListJSON = _util_js__WEBPACK_IMPORTED_MODULE_8__.AccessLists.getAccessListJSON(this.accessList);\n        const baseJson = super.toJSON();\n        return {\n            ...baseJson,\n            chainId: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.chainId),\n            maxPriorityFeePerGas: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.maxPriorityFeePerGas),\n            maxFeePerGas: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.maxFeePerGas),\n            accessList: accessListJSON,\n            authorizationList: this.AuthorizationListJSON,\n        };\n    }\n    /**\n     * Return a compact error string representation of the object\n     */\n    errorStr() {\n        let errorStr = this._getSharedErrorPostfix();\n        errorStr += ` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`;\n        return errorStr;\n    }\n    /**\n     * Internal helper function to create an annotated error message\n     *\n     * @param msg Base error message\n     * @hidden\n     */\n    _errorMsg(msg) {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_6__.errorMsg(this, msg);\n    }\n}\n//# sourceMappingURL=eip7702Transaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9laXA3NzAyVHJhbnNhY3Rpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFzQztBQUM2STtBQUM1SDtBQUNGO0FBQ0E7QUFDQTtBQUNGO0FBQ047QUFDNEI7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sd0NBQXdDLGdFQUFlO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLGdCQUFnQixpQkFBaUIsc0RBQWUsaUJBQWlCO0FBQ2pFLGdCQUFnQiw2RUFBNkU7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaURBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpREFBVztBQUNuQjtBQUNBLHNDQUFzQyx3REFBa0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3REFBa0I7QUFDMUIsNEJBQTRCLCtEQUFhLENBQUMseURBQU87QUFDakQsb0NBQW9DLCtEQUFhLENBQUMseURBQU87QUFDekQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEsZ0VBQWU7QUFDdkIsZ0RBQWdELHlEQUFXO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxRUFBdUI7QUFDL0IsUUFBUSxrRUFBb0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRCxZQUFZLDZEQUFXLDRCQUE0QixxREFBVyxDQUFDLHNEQUFlO0FBQzlFLGtIQUFrSCxzREFBZSxnQkFBZ0IsY0FBYyw0REFBVSw0QkFBNEI7QUFDck07QUFDQSx1QkFBdUIsZ0RBQUc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxZQUFZO0FBQzdDLFFBQVEseUVBQXVCLEdBQUcscUVBQXFFO0FBQ3ZHO0FBQ0EscUJBQXFCLCtEQUFhO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywrREFBYTtBQUM5QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdFQUFrQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZFQUErQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHNEQUFRO0FBQ3JDLGVBQWUsb0VBQXNCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyQ0FBMkM7QUFDdkQsYUFBYSw0QkFBNEI7QUFDekM7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGlEQUFpRDtBQUNqRztBQUNBO0FBQ0E7QUFDQSxZQUFZLHVFQUFxQjtBQUNqQyxZQUFZLHVFQUFxQjtBQUNqQyxZQUFZLHVFQUFxQjtBQUNqQyxZQUFZLHVFQUFxQjtBQUNqQyxZQUFZLHVFQUFxQjtBQUNqQztBQUNBLFlBQVksdUVBQXFCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyx1RUFBcUI7QUFDeEQsbUNBQW1DLHVFQUFxQjtBQUN4RCxtQ0FBbUMsdUVBQXFCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwrREFBaUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLCtEQUFpQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDRFQUE4QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrREFBa0Q7QUFDOUQ7QUFDQTtBQUNBLGVBQWUseURBQVc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsdUVBQXlCO0FBQ3hDO0FBQ0E7QUFDQSxZQUFZLHlEQUFPO0FBQ25CLFlBQVkseURBQU87QUFDbkIsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsdURBQVM7QUFDdkMsZUFBZSwrREFBYTtBQUM1QixlQUFlLCtEQUFhO0FBQzVCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlEQUFXO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2REFBVztBQUNoQyxrQ0FBa0MsNkRBQVc7QUFDN0MsMEJBQTBCLDZEQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxtQkFBbUIsdUJBQXVCLDBCQUEwQjtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZEQUFlO0FBQzlCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb2xsZWN0aWJsZS93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9laXA3NzAyVHJhbnNhY3Rpb24uanM/ZmQ3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSTFAgfSBmcm9tICdAZXRoZXJldW1qcy9ybHAnO1xuaW1wb3J0IHsgQklHSU5UXzAsIEJJR0lOVF8yNywgTUFYX0lOVEVHRVIsIGJpZ0ludFRvSGV4LCBiaWdJbnRUb1VucGFkZGVkQnl0ZXMsIGJ5dGVzVG9CaWdJbnQsIGJ5dGVzVG9IZXgsIGVxdWFsc0J5dGVzLCB0b0J5dGVzLCB2YWxpZGF0ZU5vTGVhZGluZ1plcm9lcywgfSBmcm9tICdAZXRoZXJldW1qcy91dGlsJztcbmltcG9ydCB7IEJhc2VUcmFuc2FjdGlvbiB9IGZyb20gJy4vYmFzZVRyYW5zYWN0aW9uLmpzJztcbmltcG9ydCAqIGFzIEVJUDE1NTkgZnJvbSAnLi9jYXBhYmlsaXRpZXMvZWlwMTU1OS5qcyc7XG5pbXBvcnQgKiBhcyBFSVAyNzE4IGZyb20gJy4vY2FwYWJpbGl0aWVzL2VpcDI3MTguanMnO1xuaW1wb3J0ICogYXMgRUlQNzcwMiBmcm9tICcuL2NhcGFiaWxpdGllcy9laXA3NzAyLmpzJztcbmltcG9ydCAqIGFzIExlZ2FjeSBmcm9tICcuL2NhcGFiaWxpdGllcy9sZWdhY3kuanMnO1xuaW1wb3J0IHsgVHJhbnNhY3Rpb25UeXBlIH0gZnJvbSAnLi90eXBlcy5qcyc7XG5pbXBvcnQgeyBBY2Nlc3NMaXN0cywgQXV0aG9yaXphdGlvbkxpc3RzLCB0eFR5cGVCeXRlcyB9IGZyb20gJy4vdXRpbC5qcyc7XG4vKipcbiAqIFR5cGVkIHRyYW5zYWN0aW9uIHdpdGggdGhlIGFiaWxpdHkgdG8gc2V0IGNvZGVzIG9uIEVPQSBhY2NvdW50c1xuICpcbiAqIC0gVHJhbnNhY3Rpb25UeXBlOiA0XG4gKiAtIEVJUDogW0VJUC03NzAyXShodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW0vRUlQcy9ibG9iLzYyNDE5Y2EzZjQ1Mzc1ZGIwMGIwNGEzNjhlYTM3YzBiZmIwNTM4NmEvRUlQUy9laXAtNzcwMi5tZClcbiAqL1xuZXhwb3J0IGNsYXNzIEVPQUNvZGVFSVA3NzAyVHJhbnNhY3Rpb24gZXh0ZW5kcyBCYXNlVHJhbnNhY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIFRoaXMgY29uc3RydWN0b3IgdGFrZXMgdGhlIHZhbHVlcywgdmFsaWRhdGVzIHRoZW0sIGFzc2lnbnMgdGhlbSBhbmQgZnJlZXplcyB0aGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogSXQgaXMgbm90IHJlY29tbWVuZGVkIHRvIHVzZSB0aGlzIGNvbnN0cnVjdG9yIGRpcmVjdGx5LiBJbnN0ZWFkIHVzZVxuICAgICAqIHRoZSBzdGF0aWMgZmFjdG9yeSBtZXRob2RzIHRvIGFzc2lzdCBpbiBjcmVhdGluZyBhIFRyYW5zYWN0aW9uIG9iamVjdCBmcm9tXG4gICAgICogdmFyeWluZyBkYXRhIHR5cGVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHR4RGF0YSwgb3B0cyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHsgLi4udHhEYXRhLCB0eXBlOiBUcmFuc2FjdGlvblR5cGUuRU9BQ29kZUVJUDc3MDIgfSwgb3B0cyk7XG4gICAgICAgIGNvbnN0IHsgY2hhaW5JZCwgYWNjZXNzTGlzdCwgYXV0aG9yaXphdGlvbkxpc3QsIG1heEZlZVBlckdhcywgbWF4UHJpb3JpdHlGZWVQZXJHYXMgfSA9IHR4RGF0YTtcbiAgICAgICAgdGhpcy5jb21tb24gPSB0aGlzLl9nZXRDb21tb24ob3B0cy5jb21tb24sIGNoYWluSWQpO1xuICAgICAgICB0aGlzLmNoYWluSWQgPSB0aGlzLmNvbW1vbi5jaGFpbklkKCk7XG4gICAgICAgIGlmICghdGhpcy5jb21tb24uaXNBY3RpdmF0ZWRFSVAoNzcwMikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRUlQLTc3MDIgbm90IGVuYWJsZWQgb24gQ29tbW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVDYXBhYmlsaXRpZXMgPSB0aGlzLmFjdGl2ZUNhcGFiaWxpdGllcy5jb25jYXQoWzE1NTksIDI3MTgsIDI5MzAsIDc3MDJdKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgdGhlIGFjY2VzcyBsaXN0IGZpZWxkc1xuICAgICAgICBjb25zdCBhY2Nlc3NMaXN0RGF0YSA9IEFjY2Vzc0xpc3RzLmdldEFjY2Vzc0xpc3REYXRhKGFjY2Vzc0xpc3QgPz8gW10pO1xuICAgICAgICB0aGlzLmFjY2Vzc0xpc3QgPSBhY2Nlc3NMaXN0RGF0YS5hY2Nlc3NMaXN0O1xuICAgICAgICB0aGlzLkFjY2Vzc0xpc3RKU09OID0gYWNjZXNzTGlzdERhdGEuQWNjZXNzTGlzdEpTT047XG4gICAgICAgIC8vIFZlcmlmeSB0aGUgYWNjZXNzIGxpc3QgZm9ybWF0LlxuICAgICAgICBBY2Nlc3NMaXN0cy52ZXJpZnlBY2Nlc3NMaXN0KHRoaXMuYWNjZXNzTGlzdCk7XG4gICAgICAgIC8vIFBvcHVsYXRlIHRoZSBhdXRob3JpdHkgbGlzdCBmaWVsZHNcbiAgICAgICAgY29uc3QgYXV0aG9yaXphdGlvbkxpc3REYXRhID0gQXV0aG9yaXphdGlvbkxpc3RzLmdldEF1dGhvcml6YXRpb25MaXN0RGF0YShhdXRob3JpemF0aW9uTGlzdCA/PyBbXSk7XG4gICAgICAgIHRoaXMuYXV0aG9yaXphdGlvbkxpc3QgPSBhdXRob3JpemF0aW9uTGlzdERhdGEuYXV0aG9yaXphdGlvbkxpc3Q7XG4gICAgICAgIHRoaXMuQXV0aG9yaXphdGlvbkxpc3RKU09OID0gYXV0aG9yaXphdGlvbkxpc3REYXRhLkF1dGhvcml6YXRpb25MaXN0SlNPTjtcbiAgICAgICAgLy8gVmVyaWZ5IHRoZSBhdXRob3JpdHkgbGlzdCBmb3JtYXQuXG4gICAgICAgIEF1dGhvcml6YXRpb25MaXN0cy52ZXJpZnlBdXRob3JpemF0aW9uTGlzdCh0aGlzLmF1dGhvcml6YXRpb25MaXN0KTtcbiAgICAgICAgdGhpcy5tYXhGZWVQZXJHYXMgPSBieXRlc1RvQmlnSW50KHRvQnl0ZXMobWF4RmVlUGVyR2FzKSk7XG4gICAgICAgIHRoaXMubWF4UHJpb3JpdHlGZWVQZXJHYXMgPSBieXRlc1RvQmlnSW50KHRvQnl0ZXMobWF4UHJpb3JpdHlGZWVQZXJHYXMpKTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVDYW5ub3RFeGNlZWRNYXhJbnRlZ2VyKHtcbiAgICAgICAgICAgIG1heEZlZVBlckdhczogdGhpcy5tYXhGZWVQZXJHYXMsXG4gICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogdGhpcy5tYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICAgICAgfSk7XG4gICAgICAgIEJhc2VUcmFuc2FjdGlvbi5fdmFsaWRhdGVOb3RBcnJheSh0eERhdGEpO1xuICAgICAgICBpZiAodGhpcy5nYXNMaW1pdCAqIHRoaXMubWF4RmVlUGVyR2FzID4gTUFYX0lOVEVHRVIpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IHRoaXMuX2Vycm9yTXNnKCdnYXNMaW1pdCAqIG1heEZlZVBlckdhcyBjYW5ub3QgZXhjZWVkIE1BWF9JTlRFR0VSICgyXjI1Ni0xKScpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWF4RmVlUGVyR2FzIDwgdGhpcy5tYXhQcmlvcml0eUZlZVBlckdhcykge1xuICAgICAgICAgICAgY29uc3QgbXNnID0gdGhpcy5fZXJyb3JNc2coJ21heEZlZVBlckdhcyBjYW5ub3QgYmUgbGVzcyB0aGFuIG1heFByaW9yaXR5RmVlUGVyR2FzIChUaGUgdG90YWwgbXVzdCBiZSB0aGUgbGFyZ2VyIG9mIHRoZSB0d28pJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICBFSVAyNzE4LnZhbGlkYXRlWVBhcml0eSh0aGlzKTtcbiAgICAgICAgTGVnYWN5LnZhbGlkYXRlSGlnaFModGhpcyk7XG4gICAgICAgIGNvbnN0IGZyZWV6ZSA9IG9wdHM/LmZyZWV6ZSA/PyB0cnVlO1xuICAgICAgICBpZiAoZnJlZXplKSB7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSBhIGRhdGEgZGljdGlvbmFyeS5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogeyBjaGFpbklkLCBub25jZSwgbWF4UHJpb3JpdHlGZWVQZXJHYXMsIG1heEZlZVBlckdhcywgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSxcbiAgICAgKiBhY2Nlc3NMaXN0LCB2LCByLCBzIH1cbiAgICAgKlxuICAgICAqIE5vdGVzOlxuICAgICAqIC0gYGNoYWluSWRgIHdpbGwgYmUgc2V0IGF1dG9tYXRpY2FsbHkgaWYgbm90IHByb3ZpZGVkXG4gICAgICogLSBBbGwgcGFyYW1ldGVycyBhcmUgb3B0aW9uYWwgYW5kIGhhdmUgc29tZSBiYXNpYyBkZWZhdWx0IHZhbHVlc1xuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tVHhEYXRhKHR4RGF0YSwgb3B0cyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBuZXcgRU9BQ29kZUVJUDc3MDJUcmFuc2FjdGlvbih0eERhdGEsIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZSBhIHRyYW5zYWN0aW9uIGZyb20gdGhlIHNlcmlhbGl6ZWQgdHguXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IGAweDA0IHx8IHJscChbY2hhaW5JZCwgbm9uY2UsIG1heFByaW9yaXR5RmVlUGVyR2FzLCBtYXhGZWVQZXJHYXMsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsXG4gICAgICogYWNjZXNzTGlzdCwgc2lnbmF0dXJlWVBhcml0eSwgc2lnbmF0dXJlUiwgc2lnbmF0dXJlU10pYFxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tU2VyaWFsaXplZFR4KHNlcmlhbGl6ZWQsIG9wdHMgPSB7fSkge1xuICAgICAgICBpZiAoZXF1YWxzQnl0ZXMoc2VyaWFsaXplZC5zdWJhcnJheSgwLCAxKSwgdHhUeXBlQnl0ZXMoVHJhbnNhY3Rpb25UeXBlLkVPQUNvZGVFSVA3NzAyKSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2VyaWFsaXplZCB0eCBpbnB1dDogbm90IGFuIEVJUC03NzAyIHRyYW5zYWN0aW9uICh3cm9uZyB0eCB0eXBlLCBleHBlY3RlZDogJHtUcmFuc2FjdGlvblR5cGUuRU9BQ29kZUVJUDc3MDJ9LCByZWNlaXZlZDogJHtieXRlc1RvSGV4KHNlcmlhbGl6ZWQuc3ViYXJyYXkoMCwgMSkpfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFJMUC5kZWNvZGUoc2VyaWFsaXplZC5zdWJhcnJheSgxKSk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VyaWFsaXplZCB0eCBpbnB1dDogbXVzdCBiZSBhcnJheScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBFT0FDb2RlRUlQNzcwMlRyYW5zYWN0aW9uLmZyb21WYWx1ZXNBcnJheSh2YWx1ZXMsIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0cmFuc2FjdGlvbiBmcm9tIGEgdmFsdWVzIGFycmF5LlxuICAgICAqXG4gICAgICogRm9ybWF0OiBgW2NoYWluSWQsIG5vbmNlLCBtYXhQcmlvcml0eUZlZVBlckdhcywgbWF4RmVlUGVyR2FzLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLFxuICAgICAqIGFjY2Vzc0xpc3QsIHNpZ25hdHVyZVlQYXJpdHksIHNpZ25hdHVyZVIsIHNpZ25hdHVyZVNdYFxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tVmFsdWVzQXJyYXkodmFsdWVzLCBvcHRzID0ge30pIHtcbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggIT09IDEwICYmIHZhbHVlcy5sZW5ndGggIT09IDEzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgRUlQLTc3MDIgdHJhbnNhY3Rpb24uIE9ubHkgZXhwZWN0aW5nIDEwIHZhbHVlcyAoZm9yIHVuc2lnbmVkIHR4KSBvciAxMyB2YWx1ZXMgKGZvciBzaWduZWQgdHgpLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtjaGFpbklkLCBub25jZSwgbWF4UHJpb3JpdHlGZWVQZXJHYXMsIG1heEZlZVBlckdhcywgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSwgYWNjZXNzTGlzdCwgYXV0aG9yaXR5TGlzdCwgdiwgciwgcyxdID0gdmFsdWVzO1xuICAgICAgICB0aGlzLl92YWxpZGF0ZU5vdEFycmF5KHsgY2hhaW5JZCwgdiB9KTtcbiAgICAgICAgdmFsaWRhdGVOb0xlYWRpbmdaZXJvZXMoeyBub25jZSwgbWF4UHJpb3JpdHlGZWVQZXJHYXMsIG1heEZlZVBlckdhcywgZ2FzTGltaXQsIHZhbHVlLCB2LCByLCBzIH0pO1xuICAgICAgICByZXR1cm4gbmV3IEVPQUNvZGVFSVA3NzAyVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgY2hhaW5JZDogYnl0ZXNUb0JpZ0ludChjaGFpbklkKSxcbiAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICAgICAgICBtYXhGZWVQZXJHYXMsXG4gICAgICAgICAgICBnYXNMaW1pdCxcbiAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgYWNjZXNzTGlzdDogYWNjZXNzTGlzdCA/PyBbXSxcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb25MaXN0OiBhdXRob3JpdHlMaXN0ID8/IFtdLFxuICAgICAgICAgICAgdjogdiAhPT0gdW5kZWZpbmVkID8gYnl0ZXNUb0JpZ0ludCh2KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHIsXG4gICAgICAgICAgICBzLFxuICAgICAgICB9LCBvcHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBnYXMgcGFpZCBmb3IgdGhlIGRhdGEgaW4gdGhpcyB0eFxuICAgICAqL1xuICAgIGdldERhdGFGZWUoKSB7XG4gICAgICAgIHJldHVybiBFSVA3NzAyLmdldERhdGFGZWUodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgY2FsY3VsYXRlZCBwcmlvcml0eSBmZWUgKGZyb20gbWF4RmVlUGVyR2FzIGFuZCBiYXNlRmVlKSBhbmQgbWF4UHJpb3JpdHlGZWVQZXJHYXNcbiAgICAgKiBAcGFyYW0gYmFzZUZlZSBCYXNlIGZlZSByZXRyaWV2ZWQgZnJvbSBibG9ja1xuICAgICAqL1xuICAgIGdldEVmZmVjdGl2ZVByaW9yaXR5RmVlKGJhc2VGZWUpIHtcbiAgICAgICAgcmV0dXJuIEVJUDE1NTkuZ2V0RWZmZWN0aXZlUHJpb3JpdHlGZWUodGhpcywgYmFzZUZlZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB1cCBmcm9udCBhbW91bnQgdGhhdCBhbiBhY2NvdW50IG11c3QgaGF2ZSBmb3IgdGhpcyB0cmFuc2FjdGlvbiB0byBiZSB2YWxpZFxuICAgICAqIEBwYXJhbSBiYXNlRmVlIFRoZSBiYXNlIGZlZSBvZiB0aGUgYmxvY2sgKHdpbGwgYmUgc2V0IHRvIDAgaWYgbm90IHByb3ZpZGVkKVxuICAgICAqL1xuICAgIGdldFVwZnJvbnRDb3N0KGJhc2VGZWUgPSBCSUdJTlRfMCkge1xuICAgICAgICByZXR1cm4gRUlQMTU1OS5nZXRVcGZyb250Q29zdCh0aGlzLCBiYXNlRmVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFVpbnQ4QXJyYXkgQXJyYXkgb2YgdGhlIHJhdyBCeXRlcyBvZiB0aGUgRUlQLTc3MDIgdHJhbnNhY3Rpb24sIGluIG9yZGVyLlxuICAgICAqXG4gICAgICogRm9ybWF0OiBgW2NoYWluSWQsIG5vbmNlLCBtYXhQcmlvcml0eUZlZVBlckdhcywgbWF4RmVlUGVyR2FzLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLFxuICAgICAqIGFjY2Vzc0xpc3QsIGF1dGhvcml6YXRpb25MaXN0LCBzaWduYXR1cmVZUGFyaXR5LCBzaWduYXR1cmVSLCBzaWduYXR1cmVTXWBcbiAgICAgKlxuICAgICAqIFVzZSB7QGxpbmsgRU9BQ29kZUVJUDc3MDJUcmFuc2FjdGlvbi5zZXJpYWxpemV9IHRvIGFkZCBhIHRyYW5zYWN0aW9uIHRvIGEgYmxvY2tcbiAgICAgKiB3aXRoIHtAbGluayBCbG9jay5mcm9tVmFsdWVzQXJyYXl9LlxuICAgICAqXG4gICAgICogRm9yIGFuIHVuc2lnbmVkIHR4IHRoaXMgbWV0aG9kIHVzZXMgdGhlIGVtcHR5IEJ5dGVzIHZhbHVlcyBmb3IgdGhlXG4gICAgICogc2lnbmF0dXJlIHBhcmFtZXRlcnMgYHZgLCBgcmAgYW5kIGBzYCBmb3IgZW5jb2RpbmcuIEZvciBhbiBFSVAtMTU1IGNvbXBsaWFudFxuICAgICAqIHJlcHJlc2VudGF0aW9uIGZvciBleHRlcm5hbCBzaWduaW5nIHVzZSB7QGxpbmsgRU9BQ29kZUVJUDc3MDJUcmFuc2FjdGlvbi5nZXRNZXNzYWdlVG9TaWdufS5cbiAgICAgKi9cbiAgICByYXcoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5jaGFpbklkKSxcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLm5vbmNlKSxcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLm1heFByaW9yaXR5RmVlUGVyR2FzKSxcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLm1heEZlZVBlckdhcyksXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5nYXNMaW1pdCksXG4gICAgICAgICAgICB0aGlzLnRvICE9PSB1bmRlZmluZWQgPyB0aGlzLnRvLmJ5dGVzIDogbmV3IFVpbnQ4QXJyYXkoMCksXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy52YWx1ZSksXG4gICAgICAgICAgICB0aGlzLmRhdGEsXG4gICAgICAgICAgICB0aGlzLmFjY2Vzc0xpc3QsXG4gICAgICAgICAgICB0aGlzLmF1dGhvcml6YXRpb25MaXN0LFxuICAgICAgICAgICAgdGhpcy52ICE9PSB1bmRlZmluZWQgPyBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy52KSA6IG5ldyBVaW50OEFycmF5KDApLFxuICAgICAgICAgICAgdGhpcy5yICE9PSB1bmRlZmluZWQgPyBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5yKSA6IG5ldyBVaW50OEFycmF5KDApLFxuICAgICAgICAgICAgdGhpcy5zICE9PSB1bmRlZmluZWQgPyBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5zKSA6IG5ldyBVaW50OEFycmF5KDApLFxuICAgICAgICBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzZXJpYWxpemVkIGVuY29kaW5nIG9mIHRoZSBFSVAtNzcwMiB0cmFuc2FjdGlvbi5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYDB4MDIgfHwgcmxwKFtjaGFpbklkLCBub25jZSwgbWF4UHJpb3JpdHlGZWVQZXJHYXMsIG1heEZlZVBlckdhcywgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSxcbiAgICAgKiBhY2Nlc3NMaXN0LCBhdXRob3JpemF0aW9uTGlzdCwgc2lnbmF0dXJlWVBhcml0eSwgc2lnbmF0dXJlUiwgc2lnbmF0dXJlU10pYFxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGluIGNvbnRyYXN0IHRvIHRoZSBsZWdhY3kgdHggc2VyaWFsaXphdGlvbiBmb3JtYXQgdGhpcyBpcyBub3RcbiAgICAgKiB2YWxpZCBSTFAgYW55IG1vcmUgZHVlIHRvIHRoZSByYXcgdHggdHlwZSBwcmVjZWRpbmcgYW5kIGNvbmNhdGVuYXRlZCB0b1xuICAgICAqIHRoZSBSTFAgZW5jb2Rpbmcgb2YgdGhlIHZhbHVlcy5cbiAgICAgKi9cbiAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgIHJldHVybiBFSVAyNzE4LnNlcmlhbGl6ZSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcmF3IHNlcmlhbGl6ZWQgdW5zaWduZWQgdHgsIHdoaWNoIGNhbiBiZSB1c2VkXG4gICAgICogdG8gc2lnbiB0aGUgdHJhbnNhY3Rpb24gKGUuZy4gZm9yIHNlbmRpbmcgdG8gYSBoYXJkd2FyZSB3YWxsZXQpLlxuICAgICAqXG4gICAgICogTm90ZTogaW4gY29udHJhc3QgdG8gdGhlIGxlZ2FjeSB0eCB0aGUgcmF3IG1lc3NhZ2UgZm9ybWF0IGlzIGFscmVhZHlcbiAgICAgKiBzZXJpYWxpemVkIGFuZCBkb2Vzbid0IG5lZWQgdG8gYmUgUkxQIGVuY29kZWQgYW55IG1vcmUuXG4gICAgICpcbiAgICAgKiBgYGBqYXZhc2NyaXB0XG4gICAgICogY29uc3Qgc2VyaWFsaXplZE1lc3NhZ2UgPSB0eC5nZXRNZXNzYWdlVG9TaWduKCkgLy8gdXNlIHRoaXMgZm9yIHRoZSBIVyB3YWxsZXQgaW5wdXRcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBnZXRNZXNzYWdlVG9TaWduKCkge1xuICAgICAgICByZXR1cm4gRUlQMjcxOC5zZXJpYWxpemUodGhpcywgdGhpcy5yYXcoKS5zbGljZSgwLCAxMCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBoYXNoZWQgc2VyaWFsaXplZCB1bnNpZ25lZCB0eCwgd2hpY2ggY2FuIGJlIHVzZWRcbiAgICAgKiB0byBzaWduIHRoZSB0cmFuc2FjdGlvbiAoZS5nLiBmb3Igc2VuZGluZyB0byBhIGhhcmR3YXJlIHdhbGxldCkuXG4gICAgICpcbiAgICAgKiBOb3RlOiBpbiBjb250cmFzdCB0byB0aGUgbGVnYWN5IHR4IHRoZSByYXcgbWVzc2FnZSBmb3JtYXQgaXMgYWxyZWFkeVxuICAgICAqIHNlcmlhbGl6ZWQgYW5kIGRvZXNuJ3QgbmVlZCB0byBiZSBSTFAgZW5jb2RlZCBhbnkgbW9yZS5cbiAgICAgKi9cbiAgICBnZXRIYXNoZWRNZXNzYWdlVG9TaWduKCkge1xuICAgICAgICByZXR1cm4gRUlQMjcxOC5nZXRIYXNoZWRNZXNzYWdlVG9TaWduKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIHNoYTMtMjU2IGhhc2ggb2YgdGhlIHNlcmlhbGl6ZWQgdHguXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gb25seSBiZSB1c2VkIGZvciBzaWduZWQgdHhzIChpdCB0aHJvd3Mgb3RoZXJ3aXNlKS5cbiAgICAgKiBVc2Uge0BsaW5rIEVPQUNvZGVFSVA3NzAyVHJhbnNhY3Rpb24uZ2V0TWVzc2FnZVRvU2lnbn0gdG8gZ2V0IGEgdHggaGFzaCBmb3IgdGhlIHB1cnBvc2Ugb2Ygc2lnbmluZy5cbiAgICAgKi9cbiAgICBoYXNoKCkge1xuICAgICAgICByZXR1cm4gTGVnYWN5Lmhhc2godGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgc2hhMy0yNTYgaGFzaCB3aGljaCBjYW4gYmUgdXNlZCB0byB2ZXJpZnkgdGhlIHNpZ25hdHVyZVxuICAgICAqL1xuICAgIGdldE1lc3NhZ2VUb1ZlcmlmeVNpZ25hdHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SGFzaGVkTWVzc2FnZVRvU2lnbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwdWJsaWMga2V5IG9mIHRoZSBzZW5kZXJcbiAgICAgKi9cbiAgICBnZXRTZW5kZXJQdWJsaWNLZXkoKSB7XG4gICAgICAgIHJldHVybiBMZWdhY3kuZ2V0U2VuZGVyUHVibGljS2V5KHRoaXMpO1xuICAgIH1cbiAgICBhZGRTaWduYXR1cmUodiwgciwgcywgY29udmVydFYgPSBmYWxzZSkge1xuICAgICAgICByID0gdG9CeXRlcyhyKTtcbiAgICAgICAgcyA9IHRvQnl0ZXMocyk7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB7IC4uLnRoaXMudHhPcHRpb25zLCBjb21tb246IHRoaXMuY29tbW9uIH07XG4gICAgICAgIHJldHVybiBFT0FDb2RlRUlQNzcwMlRyYW5zYWN0aW9uLmZyb21UeERhdGEoe1xuICAgICAgICAgICAgY2hhaW5JZDogdGhpcy5jaGFpbklkLFxuICAgICAgICAgICAgbm9uY2U6IHRoaXMubm9uY2UsXG4gICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogdGhpcy5tYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICAgICAgICAgIG1heEZlZVBlckdhczogdGhpcy5tYXhGZWVQZXJHYXMsXG4gICAgICAgICAgICBnYXNMaW1pdDogdGhpcy5nYXNMaW1pdCxcbiAgICAgICAgICAgIHRvOiB0aGlzLnRvLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLmRhdGEsXG4gICAgICAgICAgICBhY2Nlc3NMaXN0OiB0aGlzLmFjY2Vzc0xpc3QsXG4gICAgICAgICAgICBhdXRob3JpemF0aW9uTGlzdDogdGhpcy5hdXRob3JpemF0aW9uTGlzdCxcbiAgICAgICAgICAgIHY6IGNvbnZlcnRWID8gdiAtIEJJR0lOVF8yNyA6IHYsXG4gICAgICAgICAgICByOiBieXRlc1RvQmlnSW50KHIpLFxuICAgICAgICAgICAgczogYnl0ZXNUb0JpZ0ludChzKSxcbiAgICAgICAgfSwgb3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICBjb25zdCBhY2Nlc3NMaXN0SlNPTiA9IEFjY2Vzc0xpc3RzLmdldEFjY2Vzc0xpc3RKU09OKHRoaXMuYWNjZXNzTGlzdCk7XG4gICAgICAgIGNvbnN0IGJhc2VKc29uID0gc3VwZXIudG9KU09OKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5iYXNlSnNvbixcbiAgICAgICAgICAgIGNoYWluSWQ6IGJpZ0ludFRvSGV4KHRoaXMuY2hhaW5JZCksXG4gICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogYmlnSW50VG9IZXgodGhpcy5tYXhQcmlvcml0eUZlZVBlckdhcyksXG4gICAgICAgICAgICBtYXhGZWVQZXJHYXM6IGJpZ0ludFRvSGV4KHRoaXMubWF4RmVlUGVyR2FzKSxcbiAgICAgICAgICAgIGFjY2Vzc0xpc3Q6IGFjY2Vzc0xpc3RKU09OLFxuICAgICAgICAgICAgYXV0aG9yaXphdGlvbkxpc3Q6IHRoaXMuQXV0aG9yaXphdGlvbkxpc3RKU09OLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBjb21wYWN0IGVycm9yIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgZXJyb3JTdHIoKSB7XG4gICAgICAgIGxldCBlcnJvclN0ciA9IHRoaXMuX2dldFNoYXJlZEVycm9yUG9zdGZpeCgpO1xuICAgICAgICBlcnJvclN0ciArPSBgIG1heEZlZVBlckdhcz0ke3RoaXMubWF4RmVlUGVyR2FzfSBtYXhQcmlvcml0eUZlZVBlckdhcz0ke3RoaXMubWF4UHJpb3JpdHlGZWVQZXJHYXN9YDtcbiAgICAgICAgcmV0dXJuIGVycm9yU3RyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBoZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGFuIGFubm90YXRlZCBlcnJvciBtZXNzYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbXNnIEJhc2UgZXJyb3IgbWVzc2FnZVxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfZXJyb3JNc2cobXNnKSB7XG4gICAgICAgIHJldHVybiBMZWdhY3kuZXJyb3JNc2codGhpcywgbXNnKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1laXA3NzAyVHJhbnNhY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip7702Transaction.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/fromRpc.js":
/*!*****************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/fromRpc.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   normalizeTxParams: () => (/* binding */ normalizeTxParams)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+util@9.1.0/node_modules/@ethereumjs/util/dist/esm/index.js\");\n\nconst normalizeTxParams = (_txParams) => {\n    const txParams = Object.assign({}, _txParams);\n    txParams.gasLimit = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.toType)(txParams.gasLimit ?? txParams.gas, _ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.TypeOutput.BigInt);\n    txParams.data = txParams.data === undefined ? txParams.input : txParams.data;\n    // check and convert gasPrice and value params\n    txParams.gasPrice = txParams.gasPrice !== undefined ? BigInt(txParams.gasPrice) : undefined;\n    txParams.value = txParams.value !== undefined ? BigInt(txParams.value) : undefined;\n    // strict byte length checking\n    txParams.to =\n        txParams.to !== null && txParams.to !== undefined\n            ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.setLengthLeft)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.toBytes)(txParams.to), 20)\n            : null;\n    // Normalize the v/r/s values. If RPC returns '0x0', ensure v/r/s are set to `undefined` in the tx.\n    // If this is not done, then the transaction creation will throw, because `v` is `0`.\n    // Note: this still means that `isSigned` will return `false`.\n    // v/r/s values are `0x0` on networks like Optimism, where the tx is a system tx.\n    // For instance: https://optimistic.etherscan.io/tx/0xf4304cb09b3f58a8e5d20fec5f393c96ccffe0269aaf632cb2be7a8a0f0c91cc\n    txParams.v = txParams.v === '0x0' ? '0x' : txParams.v;\n    txParams.r = txParams.r === '0x0' ? '0x' : txParams.r;\n    txParams.s = txParams.s === '0x0' ? '0x' : txParams.s;\n    if (txParams.v !== '0x' || txParams.r !== '0x' || txParams.s !== '0x') {\n        txParams.v = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.toType)(txParams.v, _ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.TypeOutput.BigInt);\n    }\n    return txParams;\n};\n//# sourceMappingURL=fromRpc.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9mcm9tUnBjLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQThFO0FBQ3ZFO0FBQ1AscUNBQXFDO0FBQ3JDLHdCQUF3Qix3REFBTSxvQ0FBb0Msd0RBQVU7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLCtEQUFhLENBQUMseURBQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsd0RBQU0sYUFBYSx3REFBVTtBQUNsRDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb2xsZWN0aWJsZS93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9mcm9tUnBjLmpzPzdkNDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHlwZU91dHB1dCwgc2V0TGVuZ3RoTGVmdCwgdG9CeXRlcywgdG9UeXBlIH0gZnJvbSAnQGV0aGVyZXVtanMvdXRpbCc7XG5leHBvcnQgY29uc3Qgbm9ybWFsaXplVHhQYXJhbXMgPSAoX3R4UGFyYW1zKSA9PiB7XG4gICAgY29uc3QgdHhQYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCBfdHhQYXJhbXMpO1xuICAgIHR4UGFyYW1zLmdhc0xpbWl0ID0gdG9UeXBlKHR4UGFyYW1zLmdhc0xpbWl0ID8/IHR4UGFyYW1zLmdhcywgVHlwZU91dHB1dC5CaWdJbnQpO1xuICAgIHR4UGFyYW1zLmRhdGEgPSB0eFBhcmFtcy5kYXRhID09PSB1bmRlZmluZWQgPyB0eFBhcmFtcy5pbnB1dCA6IHR4UGFyYW1zLmRhdGE7XG4gICAgLy8gY2hlY2sgYW5kIGNvbnZlcnQgZ2FzUHJpY2UgYW5kIHZhbHVlIHBhcmFtc1xuICAgIHR4UGFyYW1zLmdhc1ByaWNlID0gdHhQYXJhbXMuZ2FzUHJpY2UgIT09IHVuZGVmaW5lZCA/IEJpZ0ludCh0eFBhcmFtcy5nYXNQcmljZSkgOiB1bmRlZmluZWQ7XG4gICAgdHhQYXJhbXMudmFsdWUgPSB0eFBhcmFtcy52YWx1ZSAhPT0gdW5kZWZpbmVkID8gQmlnSW50KHR4UGFyYW1zLnZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgICAvLyBzdHJpY3QgYnl0ZSBsZW5ndGggY2hlY2tpbmdcbiAgICB0eFBhcmFtcy50byA9XG4gICAgICAgIHR4UGFyYW1zLnRvICE9PSBudWxsICYmIHR4UGFyYW1zLnRvICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gc2V0TGVuZ3RoTGVmdCh0b0J5dGVzKHR4UGFyYW1zLnRvKSwgMjApXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgLy8gTm9ybWFsaXplIHRoZSB2L3IvcyB2YWx1ZXMuIElmIFJQQyByZXR1cm5zICcweDAnLCBlbnN1cmUgdi9yL3MgYXJlIHNldCB0byBgdW5kZWZpbmVkYCBpbiB0aGUgdHguXG4gICAgLy8gSWYgdGhpcyBpcyBub3QgZG9uZSwgdGhlbiB0aGUgdHJhbnNhY3Rpb24gY3JlYXRpb24gd2lsbCB0aHJvdywgYmVjYXVzZSBgdmAgaXMgYDBgLlxuICAgIC8vIE5vdGU6IHRoaXMgc3RpbGwgbWVhbnMgdGhhdCBgaXNTaWduZWRgIHdpbGwgcmV0dXJuIGBmYWxzZWAuXG4gICAgLy8gdi9yL3MgdmFsdWVzIGFyZSBgMHgwYCBvbiBuZXR3b3JrcyBsaWtlIE9wdGltaXNtLCB3aGVyZSB0aGUgdHggaXMgYSBzeXN0ZW0gdHguXG4gICAgLy8gRm9yIGluc3RhbmNlOiBodHRwczovL29wdGltaXN0aWMuZXRoZXJzY2FuLmlvL3R4LzB4ZjQzMDRjYjA5YjNmNThhOGU1ZDIwZmVjNWYzOTNjOTZjY2ZmZTAyNjlhYWY2MzJjYjJiZTdhOGEwZjBjOTFjY1xuICAgIHR4UGFyYW1zLnYgPSB0eFBhcmFtcy52ID09PSAnMHgwJyA/ICcweCcgOiB0eFBhcmFtcy52O1xuICAgIHR4UGFyYW1zLnIgPSB0eFBhcmFtcy5yID09PSAnMHgwJyA/ICcweCcgOiB0eFBhcmFtcy5yO1xuICAgIHR4UGFyYW1zLnMgPSB0eFBhcmFtcy5zID09PSAnMHgwJyA/ICcweCcgOiB0eFBhcmFtcy5zO1xuICAgIGlmICh0eFBhcmFtcy52ICE9PSAnMHgnIHx8IHR4UGFyYW1zLnIgIT09ICcweCcgfHwgdHhQYXJhbXMucyAhPT0gJzB4Jykge1xuICAgICAgICB0eFBhcmFtcy52ID0gdG9UeXBlKHR4UGFyYW1zLnYsIFR5cGVPdXRwdXQuQmlnSW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHR4UGFyYW1zO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21ScGMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/fromRpc.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/index.js":
/*!***************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/index.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessListEIP2930Transaction: () => (/* reexport safe */ _eip2930Transaction_js__WEBPACK_IMPORTED_MODULE_1__.AccessListEIP2930Transaction),\n/* harmony export */   BlobEIP4844Transaction: () => (/* reexport safe */ _eip4844Transaction_js__WEBPACK_IMPORTED_MODULE_2__.BlobEIP4844Transaction),\n/* harmony export */   Capability: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.Capability),\n/* harmony export */   EOACodeEIP7702Transaction: () => (/* reexport safe */ _eip7702Transaction_js__WEBPACK_IMPORTED_MODULE_3__.EOACodeEIP7702Transaction),\n/* harmony export */   FeeMarketEIP1559Transaction: () => (/* reexport safe */ _eip1559Transaction_js__WEBPACK_IMPORTED_MODULE_0__.FeeMarketEIP1559Transaction),\n/* harmony export */   LegacyTransaction: () => (/* reexport safe */ _legacyTransaction_js__WEBPACK_IMPORTED_MODULE_4__.LegacyTransaction),\n/* harmony export */   TransactionFactory: () => (/* reexport safe */ _transactionFactory_js__WEBPACK_IMPORTED_MODULE_5__.TransactionFactory),\n/* harmony export */   TransactionType: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.TransactionType),\n/* harmony export */   isAccessList: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.isAccessList),\n/* harmony export */   isAccessListBytes: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.isAccessListBytes),\n/* harmony export */   isAccessListEIP2930Tx: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.isAccessListEIP2930Tx),\n/* harmony export */   isAccessListEIP2930TxData: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.isAccessListEIP2930TxData),\n/* harmony export */   isAuthorizationList: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.isAuthorizationList),\n/* harmony export */   isAuthorizationListBytes: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.isAuthorizationListBytes),\n/* harmony export */   isBlobEIP4844Tx: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.isBlobEIP4844Tx),\n/* harmony export */   isBlobEIP4844TxData: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.isBlobEIP4844TxData),\n/* harmony export */   isEOACodeEIP7702Tx: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.isEOACodeEIP7702Tx),\n/* harmony export */   isEOACodeEIP7702TxData: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.isEOACodeEIP7702TxData),\n/* harmony export */   isFeeMarketEIP1559Tx: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.isFeeMarketEIP1559Tx),\n/* harmony export */   isFeeMarketEIP1559TxData: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.isFeeMarketEIP1559TxData),\n/* harmony export */   isLegacyTx: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.isLegacyTx),\n/* harmony export */   isLegacyTxData: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_6__.isLegacyTxData)\n/* harmony export */ });\n/* harmony import */ var _eip1559Transaction_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./eip1559Transaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip1559Transaction.js\");\n/* harmony import */ var _eip2930Transaction_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./eip2930Transaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip2930Transaction.js\");\n/* harmony import */ var _eip4844Transaction_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./eip4844Transaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip4844Transaction.js\");\n/* harmony import */ var _eip7702Transaction_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./eip7702Transaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip7702Transaction.js\");\n/* harmony import */ var _legacyTransaction_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./legacyTransaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/legacyTransaction.js\");\n/* harmony import */ var _transactionFactory_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./transactionFactory.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/transactionFactory.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./types.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/types.js\");\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRTtBQUNDO0FBQ047QUFDRztBQUNUO0FBQ0U7QUFDbEM7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY29sbGVjdGlibGUvd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXRoZXJldW1qcyt0eEA1LjQuMC9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdHgvZGlzdC9lc20vaW5kZXguanM/YzUyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24gfSBmcm9tICcuL2VpcDE1NTlUcmFuc2FjdGlvbi5qcyc7XG5leHBvcnQgeyBBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uIH0gZnJvbSAnLi9laXAyOTMwVHJhbnNhY3Rpb24uanMnO1xuZXhwb3J0IHsgQmxvYkVJUDQ4NDRUcmFuc2FjdGlvbiB9IGZyb20gJy4vZWlwNDg0NFRyYW5zYWN0aW9uLmpzJztcbmV4cG9ydCB7IEVPQUNvZGVFSVA3NzAyVHJhbnNhY3Rpb24gfSBmcm9tICcuL2VpcDc3MDJUcmFuc2FjdGlvbi5qcyc7XG5leHBvcnQgeyBMZWdhY3lUcmFuc2FjdGlvbiB9IGZyb20gJy4vbGVnYWN5VHJhbnNhY3Rpb24uanMnO1xuZXhwb3J0IHsgVHJhbnNhY3Rpb25GYWN0b3J5IH0gZnJvbSAnLi90cmFuc2FjdGlvbkZhY3RvcnkuanMnO1xuZXhwb3J0ICogZnJvbSAnLi90eXBlcy5qcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/legacyTransaction.js":
/*!***************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/legacyTransaction.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LegacyTransaction: () => (/* binding */ LegacyTransaction)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/rlp */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+rlp@5.0.2/node_modules/@ethereumjs/rlp/dist/esm/index.js\");\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+util@9.1.0/node_modules/@ethereumjs/util/dist/esm/index.js\");\n/* harmony import */ var ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ethereum-cryptography/keccak.js */ \"(ssr)/../../node_modules/.pnpm/ethereum-cryptography@2.2.1/node_modules/ethereum-cryptography/esm/keccak.js\");\n/* harmony import */ var _baseTransaction_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./baseTransaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/baseTransaction.js\");\n/* harmony import */ var _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./capabilities/legacy.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/capabilities/legacy.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./types.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/types.js\");\n\n\n\n\n\n\nfunction meetsEIP155(_v, chainId) {\n    const v = Number(_v);\n    const chainIdDoubled = Number(chainId) * 2;\n    return v === chainIdDoubled + 35 || v === chainIdDoubled + 36;\n}\n/**\n * An Ethereum non-typed (legacy) transaction\n */\nclass LegacyTransaction extends _baseTransaction_js__WEBPACK_IMPORTED_MODULE_3__.BaseTransaction {\n    /**\n     * This constructor takes the values, validates them, assigns them and freezes the object.\n     *\n     * It is not recommended to use this constructor directly. Instead use\n     * the static factory methods to assist in creating a Transaction object from\n     * varying data types.\n     */\n    constructor(txData, opts = {}) {\n        super({ ...txData, type: _types_js__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Legacy }, opts);\n        this.common = this._validateTxV(this.v, opts.common);\n        this.keccakFunction = this.common.customCrypto.keccak256 ?? ethereum_cryptography_keccak_js__WEBPACK_IMPORTED_MODULE_2__.keccak256;\n        this.gasPrice = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(txData.gasPrice));\n        if (this.gasPrice * this.gasLimit > _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.MAX_INTEGER) {\n            const msg = this._errorMsg('gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)');\n            throw new Error(msg);\n        }\n        this._validateCannotExceedMaxInteger({ gasPrice: this.gasPrice });\n        _baseTransaction_js__WEBPACK_IMPORTED_MODULE_3__.BaseTransaction._validateNotArray(txData);\n        if (this.common.gteHardfork('spuriousDragon')) {\n            if (!this.isSigned()) {\n                this.activeCapabilities.push(_types_js__WEBPACK_IMPORTED_MODULE_5__.Capability.EIP155ReplayProtection);\n            }\n            else {\n                // EIP155 spec:\n                // If block.number >= 2,675,000 and v = CHAIN_ID * 2 + 35 or v = CHAIN_ID * 2 + 36\n                // then when computing the hash of a transaction for purposes of signing or recovering\n                // instead of hashing only the first six elements (i.e. nonce, gasprice, startgas, to, value, data)\n                // hash nine elements, with v replaced by CHAIN_ID, r = 0 and s = 0.\n                // v and chain ID meet EIP-155 conditions\n                if (meetsEIP155(this.v, this.common.chainId())) {\n                    this.activeCapabilities.push(_types_js__WEBPACK_IMPORTED_MODULE_5__.Capability.EIP155ReplayProtection);\n                }\n            }\n        }\n        const freeze = opts?.freeze ?? true;\n        if (freeze) {\n            Object.freeze(this);\n        }\n    }\n    /**\n     * Instantiate a transaction from a data dictionary.\n     *\n     * Format: { nonce, gasPrice, gasLimit, to, value, data, v, r, s }\n     *\n     * Notes:\n     * - All parameters are optional and have some basic default values\n     */\n    static fromTxData(txData, opts = {}) {\n        return new LegacyTransaction(txData, opts);\n    }\n    /**\n     * Instantiate a transaction from the serialized tx.\n     *\n     * Format: `rlp([nonce, gasPrice, gasLimit, to, value, data, v, r, s])`\n     */\n    static fromSerializedTx(serialized, opts = {}) {\n        const values = _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__.RLP.decode(serialized);\n        if (!Array.isArray(values)) {\n            throw new Error('Invalid serialized tx input. Must be array');\n        }\n        return this.fromValuesArray(values, opts);\n    }\n    /**\n     * Create a transaction from a values array.\n     *\n     * Format: `[nonce, gasPrice, gasLimit, to, value, data, v, r, s]`\n     */\n    static fromValuesArray(values, opts = {}) {\n        // If length is not 6, it has length 9. If v/r/s are empty Uint8Arrays, it is still an unsigned transaction\n        // This happens if you get the RLP data from `raw()`\n        if (values.length !== 6 && values.length !== 9) {\n            throw new Error('Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).');\n        }\n        const [nonce, gasPrice, gasLimit, to, value, data, v, r, s] = values;\n        (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.validateNoLeadingZeroes)({ nonce, gasPrice, gasLimit, value, v, r, s });\n        return new LegacyTransaction({\n            nonce,\n            gasPrice,\n            gasLimit,\n            to,\n            value,\n            data,\n            v,\n            r,\n            s,\n        }, opts);\n    }\n    getEffectivePriorityFee(baseFee) {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_4__.getEffectivePriorityFee(this.gasPrice, baseFee);\n    }\n    /**\n     * Returns a Uint8Array Array of the raw Bytes of the legacy transaction, in order.\n     *\n     * Format: `[nonce, gasPrice, gasLimit, to, value, data, v, r, s]`\n     *\n     * For legacy txs this is also the correct format to add transactions\n     * to a block with {@link Block.fromValuesArray} (use the `serialize()` method\n     * for typed txs).\n     *\n     * For an unsigned tx this method returns the empty Bytes values\n     * for the signature parameters `v`, `r` and `s`. For an EIP-155 compliant\n     * representation have a look at {@link Transaction.getMessageToSign}.\n     */\n    raw() {\n        return [\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.nonce),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.gasPrice),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.gasLimit),\n            this.to !== undefined ? this.to.bytes : new Uint8Array(0),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.value),\n            this.data,\n            this.v !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.v) : new Uint8Array(0),\n            this.r !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.r) : new Uint8Array(0),\n            this.s !== undefined ? (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.s) : new Uint8Array(0),\n        ];\n    }\n    /**\n     * Returns the serialized encoding of the legacy transaction.\n     *\n     * Format: `rlp([nonce, gasPrice, gasLimit, to, value, data, v, r, s])`\n     *\n     * For an unsigned tx this method uses the empty Uint8Array values for the\n     * signature parameters `v`, `r` and `s` for encoding. For an EIP-155 compliant\n     * representation for external signing use {@link Transaction.getMessageToSign}.\n     */\n    serialize() {\n        return _ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__.RLP.encode(this.raw());\n    }\n    /**\n     * Returns the raw unsigned tx, which can be used\n     * to sign the transaction (e.g. for sending to a hardware wallet).\n     *\n     * Note: the raw message message format for the legacy tx is not RLP encoded\n     * and you might need to do yourself with:\n     *\n     * ```javascript\n     * import { RLP } from '@ethereumjs/rlp'\n     * const message = tx.getMessageToSign()\n     * const serializedMessage = RLP.encode(message)) // use this for the HW wallet input\n     * ```\n     */\n    getMessageToSign() {\n        const message = [\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.nonce),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.gasPrice),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.gasLimit),\n            this.to !== undefined ? this.to.bytes : new Uint8Array(0),\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.value),\n            this.data,\n        ];\n        if (this.supports(_types_js__WEBPACK_IMPORTED_MODULE_5__.Capability.EIP155ReplayProtection)) {\n            message.push((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToUnpaddedBytes)(this.common.chainId()));\n            message.push((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.unpadBytes)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(0)));\n            message.push((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.unpadBytes)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(0)));\n        }\n        return message;\n    }\n    /**\n     * Returns the hashed serialized unsigned tx, which can be used\n     * to sign the transaction (e.g. for sending to a hardware wallet).\n     */\n    getHashedMessageToSign() {\n        const message = this.getMessageToSign();\n        return this.keccakFunction(_ethereumjs_rlp__WEBPACK_IMPORTED_MODULE_0__.RLP.encode(message));\n    }\n    /**\n     * The amount of gas paid for the data in this tx\n     */\n    getDataFee() {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_4__.getDataFee(this);\n    }\n    /**\n     * The up front amount that an account must have for this transaction to be valid\n     */\n    getUpfrontCost() {\n        return this.gasLimit * this.gasPrice + this.value;\n    }\n    /**\n     * Computes a sha3-256 hash of the serialized tx.\n     *\n     * This method can only be used for signed txs (it throws otherwise).\n     * Use {@link Transaction.getMessageToSign} to get a tx hash for the purpose of signing.\n     */\n    hash() {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_4__.hash(this);\n    }\n    /**\n     * Computes a sha3-256 hash which can be used to verify the signature\n     */\n    getMessageToVerifySignature() {\n        if (!this.isSigned()) {\n            const msg = this._errorMsg('This transaction is not signed');\n            throw new Error(msg);\n        }\n        return this.getHashedMessageToSign();\n    }\n    /**\n     * Returns the public key of the sender\n     */\n    getSenderPublicKey() {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_4__.getSenderPublicKey(this);\n    }\n    addSignature(v, r, s, convertV = false) {\n        r = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(r);\n        s = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.toBytes)(s);\n        if (convertV && this.supports(_types_js__WEBPACK_IMPORTED_MODULE_5__.Capability.EIP155ReplayProtection)) {\n            v += this.common.chainId() * _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.BIGINT_2 + _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.BIGINT_8;\n        }\n        const opts = { ...this.txOptions, common: this.common };\n        return LegacyTransaction.fromTxData({\n            nonce: this.nonce,\n            gasPrice: this.gasPrice,\n            gasLimit: this.gasLimit,\n            to: this.to,\n            value: this.value,\n            data: this.data,\n            v,\n            r: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(r),\n            s: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bytesToBigInt)(s),\n        }, opts);\n    }\n    /**\n     * Returns an object with the JSON representation of the transaction.\n     */\n    toJSON() {\n        const baseJson = super.toJSON();\n        return {\n            ...baseJson,\n            gasPrice: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.bigIntToHex)(this.gasPrice),\n        };\n    }\n    /**\n     * Validates tx's `v` value\n     */\n    _validateTxV(_v, common) {\n        let chainIdBigInt;\n        const v = _v !== undefined ? Number(_v) : undefined;\n        // Check for valid v values in the scope of a signed legacy tx\n        if (v !== undefined) {\n            // v is 1. not matching the EIP-155 chainId included case and...\n            // v is 2. not matching the classic v=27 or v=28 case\n            if (v < 37 && v !== 27 && v !== 28) {\n                throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${v}`);\n            }\n        }\n        // No unsigned tx and EIP-155 activated and chain ID included\n        if (v !== undefined &&\n            v !== 0 &&\n            (!common || common.gteHardfork('spuriousDragon')) &&\n            v !== 27 &&\n            v !== 28) {\n            if (common) {\n                if (!meetsEIP155(BigInt(v), common.chainId())) {\n                    throw new Error(`Incompatible EIP155-based V ${v} and chain id ${common.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`);\n                }\n            }\n            else {\n                // Derive the original chain ID\n                let numSub;\n                if ((v - 35) % 2 === 0) {\n                    numSub = 35;\n                }\n                else {\n                    numSub = 36;\n                }\n                // Use derived chain ID to create a proper Common\n                chainIdBigInt = BigInt(v - numSub) / _ethereumjs_util__WEBPACK_IMPORTED_MODULE_1__.BIGINT_2;\n            }\n        }\n        return this._getCommon(common, chainIdBigInt);\n    }\n    /**\n     * Return a compact error string representation of the object\n     */\n    errorStr() {\n        let errorStr = this._getSharedErrorPostfix();\n        errorStr += ` gasPrice=${this.gasPrice}`;\n        return errorStr;\n    }\n    /**\n     * Internal helper function to create an annotated error message\n     *\n     * @param msg Base error message\n     * @hidden\n     */\n    _errorMsg(msg) {\n        return _capabilities_legacy_js__WEBPACK_IMPORTED_MODULE_4__.errorMsg(this, msg);\n    }\n}\n//# sourceMappingURL=legacyTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS9sZWdhY3lUcmFuc2FjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXNDO0FBQytIO0FBQ3pHO0FBQ0w7QUFDSjtBQUNNO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxnQ0FBZ0MsZ0VBQWU7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsZ0JBQWdCLGlCQUFpQixzREFBZSxTQUFTO0FBQ3pEO0FBQ0Esb0VBQW9FLHNFQUFTO0FBQzdFLHdCQUF3QiwrREFBYSxDQUFDLHlEQUFPO0FBQzdDLDRDQUE0Qyx5REFBVztBQUN2RDtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MseUJBQXlCO0FBQ3hFLFFBQVEsZ0VBQWU7QUFDdkI7QUFDQTtBQUNBLDZDQUE2QyxpREFBVTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsaURBQVU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRCx1QkFBdUIsZ0RBQUc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5RUFBdUIsR0FBRywyQ0FBMkM7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLGVBQWUsNEVBQThCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZCQUE2QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxtQ0FBbUM7QUFDekU7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1RUFBcUI7QUFDakMsWUFBWSx1RUFBcUI7QUFDakMsWUFBWSx1RUFBcUI7QUFDakM7QUFDQSxZQUFZLHVFQUFxQjtBQUNqQztBQUNBLG1DQUFtQyx1RUFBcUI7QUFDeEQsbUNBQW1DLHVFQUFxQjtBQUN4RCxtQ0FBbUMsdUVBQXFCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxtQ0FBbUM7QUFDbkY7QUFDQTtBQUNBLGVBQWUsZ0RBQUc7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1RUFBcUI7QUFDakMsWUFBWSx1RUFBcUI7QUFDakMsWUFBWSx1RUFBcUI7QUFDakM7QUFDQSxZQUFZLHVFQUFxQjtBQUNqQztBQUNBO0FBQ0EsMEJBQTBCLGlEQUFVO0FBQ3BDLHlCQUF5Qix1RUFBcUI7QUFDOUMseUJBQXlCLDREQUFVLENBQUMseURBQU87QUFDM0MseUJBQXlCLDREQUFVLENBQUMseURBQU87QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGdEQUFHO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLCtEQUFpQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvQ0FBb0M7QUFDaEQ7QUFDQTtBQUNBLGVBQWUseURBQVc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx1RUFBeUI7QUFDeEM7QUFDQTtBQUNBLFlBQVkseURBQU87QUFDbkIsWUFBWSx5REFBTztBQUNuQixzQ0FBc0MsaURBQVU7QUFDaEQseUNBQXlDLHNEQUFRLEdBQUcsc0RBQVE7QUFDNUQ7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsK0RBQWE7QUFDNUIsZUFBZSwrREFBYTtBQUM1QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw2REFBVztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9IQUFvSCxFQUFFO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLEdBQUcsZUFBZSxpQkFBaUI7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELHNEQUFRO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxjQUFjO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNkRBQWU7QUFDOUI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNvbGxlY3RpYmxlL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhANS40LjAvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvZXNtL2xlZ2FjeVRyYW5zYWN0aW9uLmpzPzIxOTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUkxQIH0gZnJvbSAnQGV0aGVyZXVtanMvcmxwJztcbmltcG9ydCB7IEJJR0lOVF8yLCBCSUdJTlRfOCwgTUFYX0lOVEVHRVIsIGJpZ0ludFRvSGV4LCBiaWdJbnRUb1VucGFkZGVkQnl0ZXMsIGJ5dGVzVG9CaWdJbnQsIHRvQnl0ZXMsIHVucGFkQnl0ZXMsIHZhbGlkYXRlTm9MZWFkaW5nWmVyb2VzLCB9IGZyb20gJ0BldGhlcmV1bWpzL3V0aWwnO1xuaW1wb3J0IHsga2VjY2FrMjU2IH0gZnJvbSAnZXRoZXJldW0tY3J5cHRvZ3JhcGh5L2tlY2Nhay5qcyc7XG5pbXBvcnQgeyBCYXNlVHJhbnNhY3Rpb24gfSBmcm9tICcuL2Jhc2VUcmFuc2FjdGlvbi5qcyc7XG5pbXBvcnQgKiBhcyBMZWdhY3kgZnJvbSAnLi9jYXBhYmlsaXRpZXMvbGVnYWN5LmpzJztcbmltcG9ydCB7IENhcGFiaWxpdHksIFRyYW5zYWN0aW9uVHlwZSB9IGZyb20gJy4vdHlwZXMuanMnO1xuZnVuY3Rpb24gbWVldHNFSVAxNTUoX3YsIGNoYWluSWQpIHtcbiAgICBjb25zdCB2ID0gTnVtYmVyKF92KTtcbiAgICBjb25zdCBjaGFpbklkRG91YmxlZCA9IE51bWJlcihjaGFpbklkKSAqIDI7XG4gICAgcmV0dXJuIHYgPT09IGNoYWluSWREb3VibGVkICsgMzUgfHwgdiA9PT0gY2hhaW5JZERvdWJsZWQgKyAzNjtcbn1cbi8qKlxuICogQW4gRXRoZXJldW0gbm9uLXR5cGVkIChsZWdhY3kpIHRyYW5zYWN0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBMZWdhY3lUcmFuc2FjdGlvbiBleHRlbmRzIEJhc2VUcmFuc2FjdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhpcyBjb25zdHJ1Y3RvciB0YWtlcyB0aGUgdmFsdWVzLCB2YWxpZGF0ZXMgdGhlbSwgYXNzaWducyB0aGVtIGFuZCBmcmVlemVzIHRoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJdCBpcyBub3QgcmVjb21tZW5kZWQgdG8gdXNlIHRoaXMgY29uc3RydWN0b3IgZGlyZWN0bHkuIEluc3RlYWQgdXNlXG4gICAgICogdGhlIHN0YXRpYyBmYWN0b3J5IG1ldGhvZHMgdG8gYXNzaXN0IGluIGNyZWF0aW5nIGEgVHJhbnNhY3Rpb24gb2JqZWN0IGZyb21cbiAgICAgKiB2YXJ5aW5nIGRhdGEgdHlwZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHhEYXRhLCBvcHRzID0ge30pIHtcbiAgICAgICAgc3VwZXIoeyAuLi50eERhdGEsIHR5cGU6IFRyYW5zYWN0aW9uVHlwZS5MZWdhY3kgfSwgb3B0cyk7XG4gICAgICAgIHRoaXMuY29tbW9uID0gdGhpcy5fdmFsaWRhdGVUeFYodGhpcy52LCBvcHRzLmNvbW1vbik7XG4gICAgICAgIHRoaXMua2VjY2FrRnVuY3Rpb24gPSB0aGlzLmNvbW1vbi5jdXN0b21DcnlwdG8ua2VjY2FrMjU2ID8/IGtlY2NhazI1NjtcbiAgICAgICAgdGhpcy5nYXNQcmljZSA9IGJ5dGVzVG9CaWdJbnQodG9CeXRlcyh0eERhdGEuZ2FzUHJpY2UpKTtcbiAgICAgICAgaWYgKHRoaXMuZ2FzUHJpY2UgKiB0aGlzLmdhc0xpbWl0ID4gTUFYX0lOVEVHRVIpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IHRoaXMuX2Vycm9yTXNnKCdnYXMgbGltaXQgKiBnYXNQcmljZSBjYW5ub3QgZXhjZWVkIE1BWF9JTlRFR0VSICgyXjI1Ni0xKScpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmFsaWRhdGVDYW5ub3RFeGNlZWRNYXhJbnRlZ2VyKHsgZ2FzUHJpY2U6IHRoaXMuZ2FzUHJpY2UgfSk7XG4gICAgICAgIEJhc2VUcmFuc2FjdGlvbi5fdmFsaWRhdGVOb3RBcnJheSh0eERhdGEpO1xuICAgICAgICBpZiAodGhpcy5jb21tb24uZ3RlSGFyZGZvcmsoJ3NwdXJpb3VzRHJhZ29uJykpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1NpZ25lZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVDYXBhYmlsaXRpZXMucHVzaChDYXBhYmlsaXR5LkVJUDE1NVJlcGxheVByb3RlY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRUlQMTU1IHNwZWM6XG4gICAgICAgICAgICAgICAgLy8gSWYgYmxvY2subnVtYmVyID49IDIsNjc1LDAwMCBhbmQgdiA9IENIQUlOX0lEICogMiArIDM1IG9yIHYgPSBDSEFJTl9JRCAqIDIgKyAzNlxuICAgICAgICAgICAgICAgIC8vIHRoZW4gd2hlbiBjb21wdXRpbmcgdGhlIGhhc2ggb2YgYSB0cmFuc2FjdGlvbiBmb3IgcHVycG9zZXMgb2Ygc2lnbmluZyBvciByZWNvdmVyaW5nXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBoYXNoaW5nIG9ubHkgdGhlIGZpcnN0IHNpeCBlbGVtZW50cyAoaS5lLiBub25jZSwgZ2FzcHJpY2UsIHN0YXJ0Z2FzLCB0bywgdmFsdWUsIGRhdGEpXG4gICAgICAgICAgICAgICAgLy8gaGFzaCBuaW5lIGVsZW1lbnRzLCB3aXRoIHYgcmVwbGFjZWQgYnkgQ0hBSU5fSUQsIHIgPSAwIGFuZCBzID0gMC5cbiAgICAgICAgICAgICAgICAvLyB2IGFuZCBjaGFpbiBJRCBtZWV0IEVJUC0xNTUgY29uZGl0aW9uc1xuICAgICAgICAgICAgICAgIGlmIChtZWV0c0VJUDE1NSh0aGlzLnYsIHRoaXMuY29tbW9uLmNoYWluSWQoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVDYXBhYmlsaXRpZXMucHVzaChDYXBhYmlsaXR5LkVJUDE1NVJlcGxheVByb3RlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmcmVlemUgPSBvcHRzPy5mcmVlemUgPz8gdHJ1ZTtcbiAgICAgICAgaWYgKGZyZWV6ZSkge1xuICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZSBhIHRyYW5zYWN0aW9uIGZyb20gYSBkYXRhIGRpY3Rpb25hcnkuXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IHsgbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCB2LCByLCBzIH1cbiAgICAgKlxuICAgICAqIE5vdGVzOlxuICAgICAqIC0gQWxsIHBhcmFtZXRlcnMgYXJlIG9wdGlvbmFsIGFuZCBoYXZlIHNvbWUgYmFzaWMgZGVmYXVsdCB2YWx1ZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVR4RGF0YSh0eERhdGEsIG9wdHMgPSB7fSkge1xuICAgICAgICByZXR1cm4gbmV3IExlZ2FjeVRyYW5zYWN0aW9uKHR4RGF0YSwgb3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSB0aGUgc2VyaWFsaXplZCB0eC5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYHJscChbbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCB2LCByLCBzXSlgXG4gICAgICovXG4gICAgc3RhdGljIGZyb21TZXJpYWxpemVkVHgoc2VyaWFsaXplZCwgb3B0cyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFJMUC5kZWNvZGUoc2VyaWFsaXplZCk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VyaWFsaXplZCB0eCBpbnB1dC4gTXVzdCBiZSBhcnJheScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZyb21WYWx1ZXNBcnJheSh2YWx1ZXMsIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0cmFuc2FjdGlvbiBmcm9tIGEgdmFsdWVzIGFycmF5LlxuICAgICAqXG4gICAgICogRm9ybWF0OiBgW25vbmNlLCBnYXNQcmljZSwgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSwgdiwgciwgc11gXG4gICAgICovXG4gICAgc3RhdGljIGZyb21WYWx1ZXNBcnJheSh2YWx1ZXMsIG9wdHMgPSB7fSkge1xuICAgICAgICAvLyBJZiBsZW5ndGggaXMgbm90IDYsIGl0IGhhcyBsZW5ndGggOS4gSWYgdi9yL3MgYXJlIGVtcHR5IFVpbnQ4QXJyYXlzLCBpdCBpcyBzdGlsbCBhbiB1bnNpZ25lZCB0cmFuc2FjdGlvblxuICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgeW91IGdldCB0aGUgUkxQIGRhdGEgZnJvbSBgcmF3KClgXG4gICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoICE9PSA2ICYmIHZhbHVlcy5sZW5ndGggIT09IDkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0cmFuc2FjdGlvbi4gT25seSBleHBlY3RpbmcgNiB2YWx1ZXMgKGZvciB1bnNpZ25lZCB0eCkgb3IgOSB2YWx1ZXMgKGZvciBzaWduZWQgdHgpLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtub25jZSwgZ2FzUHJpY2UsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIHYsIHIsIHNdID0gdmFsdWVzO1xuICAgICAgICB2YWxpZGF0ZU5vTGVhZGluZ1plcm9lcyh7IG5vbmNlLCBnYXNQcmljZSwgZ2FzTGltaXQsIHZhbHVlLCB2LCByLCBzIH0pO1xuICAgICAgICByZXR1cm4gbmV3IExlZ2FjeVRyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgZ2FzUHJpY2UsXG4gICAgICAgICAgICBnYXNMaW1pdCxcbiAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgdixcbiAgICAgICAgICAgIHIsXG4gICAgICAgICAgICBzLFxuICAgICAgICB9LCBvcHRzKTtcbiAgICB9XG4gICAgZ2V0RWZmZWN0aXZlUHJpb3JpdHlGZWUoYmFzZUZlZSkge1xuICAgICAgICByZXR1cm4gTGVnYWN5LmdldEVmZmVjdGl2ZVByaW9yaXR5RmVlKHRoaXMuZ2FzUHJpY2UsIGJhc2VGZWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgVWludDhBcnJheSBBcnJheSBvZiB0aGUgcmF3IEJ5dGVzIG9mIHRoZSBsZWdhY3kgdHJhbnNhY3Rpb24sIGluIG9yZGVyLlxuICAgICAqXG4gICAgICogRm9ybWF0OiBgW25vbmNlLCBnYXNQcmljZSwgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSwgdiwgciwgc11gXG4gICAgICpcbiAgICAgKiBGb3IgbGVnYWN5IHR4cyB0aGlzIGlzIGFsc28gdGhlIGNvcnJlY3QgZm9ybWF0IHRvIGFkZCB0cmFuc2FjdGlvbnNcbiAgICAgKiB0byBhIGJsb2NrIHdpdGgge0BsaW5rIEJsb2NrLmZyb21WYWx1ZXNBcnJheX0gKHVzZSB0aGUgYHNlcmlhbGl6ZSgpYCBtZXRob2RcbiAgICAgKiBmb3IgdHlwZWQgdHhzKS5cbiAgICAgKlxuICAgICAqIEZvciBhbiB1bnNpZ25lZCB0eCB0aGlzIG1ldGhvZCByZXR1cm5zIHRoZSBlbXB0eSBCeXRlcyB2YWx1ZXNcbiAgICAgKiBmb3IgdGhlIHNpZ25hdHVyZSBwYXJhbWV0ZXJzIGB2YCwgYHJgIGFuZCBgc2AuIEZvciBhbiBFSVAtMTU1IGNvbXBsaWFudFxuICAgICAqIHJlcHJlc2VudGF0aW9uIGhhdmUgYSBsb29rIGF0IHtAbGluayBUcmFuc2FjdGlvbi5nZXRNZXNzYWdlVG9TaWdufS5cbiAgICAgKi9cbiAgICByYXcoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5ub25jZSksXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5nYXNQcmljZSksXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy5nYXNMaW1pdCksXG4gICAgICAgICAgICB0aGlzLnRvICE9PSB1bmRlZmluZWQgPyB0aGlzLnRvLmJ5dGVzIDogbmV3IFVpbnQ4QXJyYXkoMCksXG4gICAgICAgICAgICBiaWdJbnRUb1VucGFkZGVkQnl0ZXModGhpcy52YWx1ZSksXG4gICAgICAgICAgICB0aGlzLmRhdGEsXG4gICAgICAgICAgICB0aGlzLnYgIT09IHVuZGVmaW5lZCA/IGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLnYpIDogbmV3IFVpbnQ4QXJyYXkoMCksXG4gICAgICAgICAgICB0aGlzLnIgIT09IHVuZGVmaW5lZCA/IGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLnIpIDogbmV3IFVpbnQ4QXJyYXkoMCksXG4gICAgICAgICAgICB0aGlzLnMgIT09IHVuZGVmaW5lZCA/IGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLnMpIDogbmV3IFVpbnQ4QXJyYXkoMCksXG4gICAgICAgIF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNlcmlhbGl6ZWQgZW5jb2Rpbmcgb2YgdGhlIGxlZ2FjeSB0cmFuc2FjdGlvbi5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYHJscChbbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCB2LCByLCBzXSlgXG4gICAgICpcbiAgICAgKiBGb3IgYW4gdW5zaWduZWQgdHggdGhpcyBtZXRob2QgdXNlcyB0aGUgZW1wdHkgVWludDhBcnJheSB2YWx1ZXMgZm9yIHRoZVxuICAgICAqIHNpZ25hdHVyZSBwYXJhbWV0ZXJzIGB2YCwgYHJgIGFuZCBgc2AgZm9yIGVuY29kaW5nLiBGb3IgYW4gRUlQLTE1NSBjb21wbGlhbnRcbiAgICAgKiByZXByZXNlbnRhdGlvbiBmb3IgZXh0ZXJuYWwgc2lnbmluZyB1c2Uge0BsaW5rIFRyYW5zYWN0aW9uLmdldE1lc3NhZ2VUb1NpZ259LlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIFJMUC5lbmNvZGUodGhpcy5yYXcoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJhdyB1bnNpZ25lZCB0eCwgd2hpY2ggY2FuIGJlIHVzZWRcbiAgICAgKiB0byBzaWduIHRoZSB0cmFuc2FjdGlvbiAoZS5nLiBmb3Igc2VuZGluZyB0byBhIGhhcmR3YXJlIHdhbGxldCkuXG4gICAgICpcbiAgICAgKiBOb3RlOiB0aGUgcmF3IG1lc3NhZ2UgbWVzc2FnZSBmb3JtYXQgZm9yIHRoZSBsZWdhY3kgdHggaXMgbm90IFJMUCBlbmNvZGVkXG4gICAgICogYW5kIHlvdSBtaWdodCBuZWVkIHRvIGRvIHlvdXJzZWxmIHdpdGg6XG4gICAgICpcbiAgICAgKiBgYGBqYXZhc2NyaXB0XG4gICAgICogaW1wb3J0IHsgUkxQIH0gZnJvbSAnQGV0aGVyZXVtanMvcmxwJ1xuICAgICAqIGNvbnN0IG1lc3NhZ2UgPSB0eC5nZXRNZXNzYWdlVG9TaWduKClcbiAgICAgKiBjb25zdCBzZXJpYWxpemVkTWVzc2FnZSA9IFJMUC5lbmNvZGUobWVzc2FnZSkpIC8vIHVzZSB0aGlzIGZvciB0aGUgSFcgd2FsbGV0IGlucHV0XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZ2V0TWVzc2FnZVRvU2lnbigpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IFtcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLm5vbmNlKSxcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLmdhc1ByaWNlKSxcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLmdhc0xpbWl0KSxcbiAgICAgICAgICAgIHRoaXMudG8gIT09IHVuZGVmaW5lZCA/IHRoaXMudG8uYnl0ZXMgOiBuZXcgVWludDhBcnJheSgwKSxcbiAgICAgICAgICAgIGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLnZhbHVlKSxcbiAgICAgICAgICAgIHRoaXMuZGF0YSxcbiAgICAgICAgXTtcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHMoQ2FwYWJpbGl0eS5FSVAxNTVSZXBsYXlQcm90ZWN0aW9uKSkge1xuICAgICAgICAgICAgbWVzc2FnZS5wdXNoKGJpZ0ludFRvVW5wYWRkZWRCeXRlcyh0aGlzLmNvbW1vbi5jaGFpbklkKCkpKTtcbiAgICAgICAgICAgIG1lc3NhZ2UucHVzaCh1bnBhZEJ5dGVzKHRvQnl0ZXMoMCkpKTtcbiAgICAgICAgICAgIG1lc3NhZ2UucHVzaCh1bnBhZEJ5dGVzKHRvQnl0ZXMoMCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaGFzaGVkIHNlcmlhbGl6ZWQgdW5zaWduZWQgdHgsIHdoaWNoIGNhbiBiZSB1c2VkXG4gICAgICogdG8gc2lnbiB0aGUgdHJhbnNhY3Rpb24gKGUuZy4gZm9yIHNlbmRpbmcgdG8gYSBoYXJkd2FyZSB3YWxsZXQpLlxuICAgICAqL1xuICAgIGdldEhhc2hlZE1lc3NhZ2VUb1NpZ24oKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmdldE1lc3NhZ2VUb1NpZ24oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMua2VjY2FrRnVuY3Rpb24oUkxQLmVuY29kZShtZXNzYWdlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2YgZ2FzIHBhaWQgZm9yIHRoZSBkYXRhIGluIHRoaXMgdHhcbiAgICAgKi9cbiAgICBnZXREYXRhRmVlKCkge1xuICAgICAgICByZXR1cm4gTGVnYWN5LmdldERhdGFGZWUodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB1cCBmcm9udCBhbW91bnQgdGhhdCBhbiBhY2NvdW50IG11c3QgaGF2ZSBmb3IgdGhpcyB0cmFuc2FjdGlvbiB0byBiZSB2YWxpZFxuICAgICAqL1xuICAgIGdldFVwZnJvbnRDb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nYXNMaW1pdCAqIHRoaXMuZ2FzUHJpY2UgKyB0aGlzLnZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIHNoYTMtMjU2IGhhc2ggb2YgdGhlIHNlcmlhbGl6ZWQgdHguXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gb25seSBiZSB1c2VkIGZvciBzaWduZWQgdHhzIChpdCB0aHJvd3Mgb3RoZXJ3aXNlKS5cbiAgICAgKiBVc2Uge0BsaW5rIFRyYW5zYWN0aW9uLmdldE1lc3NhZ2VUb1NpZ259IHRvIGdldCBhIHR4IGhhc2ggZm9yIHRoZSBwdXJwb3NlIG9mIHNpZ25pbmcuXG4gICAgICovXG4gICAgaGFzaCgpIHtcbiAgICAgICAgcmV0dXJuIExlZ2FjeS5oYXNoKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIHNoYTMtMjU2IGhhc2ggd2hpY2ggY2FuIGJlIHVzZWQgdG8gdmVyaWZ5IHRoZSBzaWduYXR1cmVcbiAgICAgKi9cbiAgICBnZXRNZXNzYWdlVG9WZXJpZnlTaWduYXR1cmUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1NpZ25lZCgpKSB7XG4gICAgICAgICAgICBjb25zdCBtc2cgPSB0aGlzLl9lcnJvck1zZygnVGhpcyB0cmFuc2FjdGlvbiBpcyBub3Qgc2lnbmVkJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRIYXNoZWRNZXNzYWdlVG9TaWduKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHB1YmxpYyBrZXkgb2YgdGhlIHNlbmRlclxuICAgICAqL1xuICAgIGdldFNlbmRlclB1YmxpY0tleSgpIHtcbiAgICAgICAgcmV0dXJuIExlZ2FjeS5nZXRTZW5kZXJQdWJsaWNLZXkodGhpcyk7XG4gICAgfVxuICAgIGFkZFNpZ25hdHVyZSh2LCByLCBzLCBjb252ZXJ0ViA9IGZhbHNlKSB7XG4gICAgICAgIHIgPSB0b0J5dGVzKHIpO1xuICAgICAgICBzID0gdG9CeXRlcyhzKTtcbiAgICAgICAgaWYgKGNvbnZlcnRWICYmIHRoaXMuc3VwcG9ydHMoQ2FwYWJpbGl0eS5FSVAxNTVSZXBsYXlQcm90ZWN0aW9uKSkge1xuICAgICAgICAgICAgdiArPSB0aGlzLmNvbW1vbi5jaGFpbklkKCkgKiBCSUdJTlRfMiArIEJJR0lOVF84O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdHMgPSB7IC4uLnRoaXMudHhPcHRpb25zLCBjb21tb246IHRoaXMuY29tbW9uIH07XG4gICAgICAgIHJldHVybiBMZWdhY3lUcmFuc2FjdGlvbi5mcm9tVHhEYXRhKHtcbiAgICAgICAgICAgIG5vbmNlOiB0aGlzLm5vbmNlLFxuICAgICAgICAgICAgZ2FzUHJpY2U6IHRoaXMuZ2FzUHJpY2UsXG4gICAgICAgICAgICBnYXNMaW1pdDogdGhpcy5nYXNMaW1pdCxcbiAgICAgICAgICAgIHRvOiB0aGlzLnRvLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLmRhdGEsXG4gICAgICAgICAgICB2LFxuICAgICAgICAgICAgcjogYnl0ZXNUb0JpZ0ludChyKSxcbiAgICAgICAgICAgIHM6IGJ5dGVzVG9CaWdJbnQocyksXG4gICAgICAgIH0sIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0cmFuc2FjdGlvbi5cbiAgICAgKi9cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGNvbnN0IGJhc2VKc29uID0gc3VwZXIudG9KU09OKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5iYXNlSnNvbixcbiAgICAgICAgICAgIGdhc1ByaWNlOiBiaWdJbnRUb0hleCh0aGlzLmdhc1ByaWNlKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHR4J3MgYHZgIHZhbHVlXG4gICAgICovXG4gICAgX3ZhbGlkYXRlVHhWKF92LCBjb21tb24pIHtcbiAgICAgICAgbGV0IGNoYWluSWRCaWdJbnQ7XG4gICAgICAgIGNvbnN0IHYgPSBfdiAhPT0gdW5kZWZpbmVkID8gTnVtYmVyKF92KSA6IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHZhbGlkIHYgdmFsdWVzIGluIHRoZSBzY29wZSBvZiBhIHNpZ25lZCBsZWdhY3kgdHhcbiAgICAgICAgaWYgKHYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gdiBpcyAxLiBub3QgbWF0Y2hpbmcgdGhlIEVJUC0xNTUgY2hhaW5JZCBpbmNsdWRlZCBjYXNlIGFuZC4uLlxuICAgICAgICAgICAgLy8gdiBpcyAyLiBub3QgbWF0Y2hpbmcgdGhlIGNsYXNzaWMgdj0yNyBvciB2PTI4IGNhc2VcbiAgICAgICAgICAgIGlmICh2IDwgMzcgJiYgdiAhPT0gMjcgJiYgdiAhPT0gMjgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYExlZ2FjeSB0eHMgbmVlZCBlaXRoZXIgdiA9IDI3LzI4IG9yIHYgPj0gMzcgKEVJUC0xNTUgcmVwbGF5IHByb3RlY3Rpb24pLCBnb3QgdiA9ICR7dn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBObyB1bnNpZ25lZCB0eCBhbmQgRUlQLTE1NSBhY3RpdmF0ZWQgYW5kIGNoYWluIElEIGluY2x1ZGVkXG4gICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHYgIT09IDAgJiZcbiAgICAgICAgICAgICghY29tbW9uIHx8IGNvbW1vbi5ndGVIYXJkZm9yaygnc3B1cmlvdXNEcmFnb24nKSkgJiZcbiAgICAgICAgICAgIHYgIT09IDI3ICYmXG4gICAgICAgICAgICB2ICE9PSAyOCkge1xuICAgICAgICAgICAgaWYgKGNvbW1vbikge1xuICAgICAgICAgICAgICAgIGlmICghbWVldHNFSVAxNTUoQmlnSW50KHYpLCBjb21tb24uY2hhaW5JZCgpKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluY29tcGF0aWJsZSBFSVAxNTUtYmFzZWQgViAke3Z9IGFuZCBjaGFpbiBpZCAke2NvbW1vbi5jaGFpbklkKCl9LiBTZWUgdGhlIENvbW1vbiBwYXJhbWV0ZXIgb2YgdGhlIFRyYW5zYWN0aW9uIGNvbnN0cnVjdG9yIHRvIHNldCB0aGUgY2hhaW4gaWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRGVyaXZlIHRoZSBvcmlnaW5hbCBjaGFpbiBJRFxuICAgICAgICAgICAgICAgIGxldCBudW1TdWI7XG4gICAgICAgICAgICAgICAgaWYgKCh2IC0gMzUpICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBudW1TdWIgPSAzNTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG51bVN1YiA9IDM2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBVc2UgZGVyaXZlZCBjaGFpbiBJRCB0byBjcmVhdGUgYSBwcm9wZXIgQ29tbW9uXG4gICAgICAgICAgICAgICAgY2hhaW5JZEJpZ0ludCA9IEJpZ0ludCh2IC0gbnVtU3ViKSAvIEJJR0lOVF8yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDb21tb24oY29tbW9uLCBjaGFpbklkQmlnSW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgY29tcGFjdCBlcnJvciBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdFxuICAgICAqL1xuICAgIGVycm9yU3RyKCkge1xuICAgICAgICBsZXQgZXJyb3JTdHIgPSB0aGlzLl9nZXRTaGFyZWRFcnJvclBvc3RmaXgoKTtcbiAgICAgICAgZXJyb3JTdHIgKz0gYCBnYXNQcmljZT0ke3RoaXMuZ2FzUHJpY2V9YDtcbiAgICAgICAgcmV0dXJuIGVycm9yU3RyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBoZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGFuIGFubm90YXRlZCBlcnJvciBtZXNzYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbXNnIEJhc2UgZXJyb3IgbWVzc2FnZVxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBfZXJyb3JNc2cobXNnKSB7XG4gICAgICAgIHJldHVybiBMZWdhY3kuZXJyb3JNc2codGhpcywgbXNnKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sZWdhY3lUcmFuc2FjdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/legacyTransaction.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/transactionFactory.js":
/*!****************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/transactionFactory.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TransactionFactory: () => (/* binding */ TransactionFactory)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+util@9.1.0/node_modules/@ethereumjs/util/dist/esm/index.js\");\n/* harmony import */ var _eip1559Transaction_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./eip1559Transaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip1559Transaction.js\");\n/* harmony import */ var _eip2930Transaction_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./eip2930Transaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip2930Transaction.js\");\n/* harmony import */ var _eip4844Transaction_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./eip4844Transaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip4844Transaction.js\");\n/* harmony import */ var _eip7702Transaction_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./eip7702Transaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/eip7702Transaction.js\");\n/* harmony import */ var _fromRpc_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fromRpc.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/fromRpc.js\");\n/* harmony import */ var _legacyTransaction_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./legacyTransaction.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/legacyTransaction.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./types.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/types.js\");\n\n\n\n\n\n\n\n\nclass TransactionFactory {\n    // It is not possible to instantiate a TransactionFactory object.\n    constructor() { }\n    /**\n     * Create a transaction from a `txData` object\n     *\n     * @param txData - The transaction data. The `type` field will determine which transaction type is returned (if undefined, creates a legacy transaction)\n     * @param txOptions - Options to pass on to the constructor of the transaction\n     */\n    static fromTxData(txData, txOptions = {}) {\n        if (!('type' in txData) || txData.type === undefined) {\n            // Assume legacy transaction\n            return _legacyTransaction_js__WEBPACK_IMPORTED_MODULE_6__.LegacyTransaction.fromTxData(txData, txOptions);\n        }\n        else {\n            if ((0,_types_js__WEBPACK_IMPORTED_MODULE_7__.isLegacyTxData)(txData)) {\n                return _legacyTransaction_js__WEBPACK_IMPORTED_MODULE_6__.LegacyTransaction.fromTxData(txData, txOptions);\n            }\n            else if ((0,_types_js__WEBPACK_IMPORTED_MODULE_7__.isAccessListEIP2930TxData)(txData)) {\n                return _eip2930Transaction_js__WEBPACK_IMPORTED_MODULE_2__.AccessListEIP2930Transaction.fromTxData(txData, txOptions);\n            }\n            else if ((0,_types_js__WEBPACK_IMPORTED_MODULE_7__.isFeeMarketEIP1559TxData)(txData)) {\n                return _eip1559Transaction_js__WEBPACK_IMPORTED_MODULE_1__.FeeMarketEIP1559Transaction.fromTxData(txData, txOptions);\n            }\n            else if ((0,_types_js__WEBPACK_IMPORTED_MODULE_7__.isBlobEIP4844TxData)(txData)) {\n                return _eip4844Transaction_js__WEBPACK_IMPORTED_MODULE_3__.BlobEIP4844Transaction.fromTxData(txData, txOptions);\n            }\n            else if ((0,_types_js__WEBPACK_IMPORTED_MODULE_7__.isEOACodeEIP7702TxData)(txData)) {\n                return _eip7702Transaction_js__WEBPACK_IMPORTED_MODULE_4__.EOACodeEIP7702Transaction.fromTxData(txData, txOptions);\n            }\n            else {\n                throw new Error(`Tx instantiation with type ${txData?.type} not supported`);\n            }\n        }\n    }\n    /**\n     * This method tries to decode serialized data.\n     *\n     * @param data - The data Uint8Array\n     * @param txOptions - The transaction options\n     */\n    static fromSerializedData(data, txOptions = {}) {\n        if (data[0] <= 0x7f) {\n            // Determine the type.\n            switch (data[0]) {\n                case _types_js__WEBPACK_IMPORTED_MODULE_7__.TransactionType.AccessListEIP2930:\n                    return _eip2930Transaction_js__WEBPACK_IMPORTED_MODULE_2__.AccessListEIP2930Transaction.fromSerializedTx(data, txOptions);\n                case _types_js__WEBPACK_IMPORTED_MODULE_7__.TransactionType.FeeMarketEIP1559:\n                    return _eip1559Transaction_js__WEBPACK_IMPORTED_MODULE_1__.FeeMarketEIP1559Transaction.fromSerializedTx(data, txOptions);\n                case _types_js__WEBPACK_IMPORTED_MODULE_7__.TransactionType.BlobEIP4844:\n                    return _eip4844Transaction_js__WEBPACK_IMPORTED_MODULE_3__.BlobEIP4844Transaction.fromSerializedTx(data, txOptions);\n                case _types_js__WEBPACK_IMPORTED_MODULE_7__.TransactionType.EOACodeEIP7702:\n                    return _eip7702Transaction_js__WEBPACK_IMPORTED_MODULE_4__.EOACodeEIP7702Transaction.fromSerializedTx(data, txOptions);\n                default:\n                    throw new Error(`TypedTransaction with ID ${data[0]} unknown`);\n            }\n        }\n        else {\n            return _legacyTransaction_js__WEBPACK_IMPORTED_MODULE_6__.LegacyTransaction.fromSerializedTx(data, txOptions);\n        }\n    }\n    /**\n     * When decoding a BlockBody, in the transactions field, a field is either:\n     * A Uint8Array (a TypedTransaction - encoded as TransactionType || rlp(TransactionPayload))\n     * A Uint8Array[] (Legacy Transaction)\n     * This method returns the right transaction.\n     *\n     * @param data - A Uint8Array or Uint8Array[]\n     * @param txOptions - The transaction options\n     */\n    static fromBlockBodyData(data, txOptions = {}) {\n        if (data instanceof Uint8Array) {\n            return this.fromSerializedData(data, txOptions);\n        }\n        else if (Array.isArray(data)) {\n            // It is a legacy transaction\n            return _legacyTransaction_js__WEBPACK_IMPORTED_MODULE_6__.LegacyTransaction.fromValuesArray(data, txOptions);\n        }\n        else {\n            throw new Error('Cannot decode transaction: unknown type input');\n        }\n    }\n    /**\n     *  Method to retrieve a transaction from the provider\n     * @param provider - a url string for a JSON-RPC provider or an Ethers JsonRPCProvider object\n     * @param txHash - Transaction hash\n     * @param txOptions - The transaction options\n     * @returns the transaction specified by `txHash`\n     */\n    static async fromJsonRpcProvider(provider, txHash, txOptions) {\n        const prov = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.getProvider)(provider);\n        const txData = await (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.fetchFromProvider)(prov, {\n            method: 'eth_getTransactionByHash',\n            params: [txHash],\n        });\n        if (txData === null) {\n            throw new Error('No data returned from provider');\n        }\n        return TransactionFactory.fromRPC(txData, txOptions);\n    }\n    /**\n     * Method to decode data retrieved from RPC, such as `eth_getTransactionByHash`\n     * Note that this normalizes some of the parameters\n     * @param txData The RPC-encoded data\n     * @param txOptions The transaction options\n     * @returns\n     */\n    static async fromRPC(txData, txOptions = {}) {\n        return TransactionFactory.fromTxData((0,_fromRpc_js__WEBPACK_IMPORTED_MODULE_5__.normalizeTxParams)(txData), txOptions);\n    }\n}\n//# sourceMappingURL=transactionFactory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS90cmFuc2FjdGlvbkZhY3RvcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQWtFO0FBQ0k7QUFDQztBQUNOO0FBQ0c7QUFDbkI7QUFDVTtBQUNxRztBQUN6SjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBLG1CQUFtQixvRUFBaUI7QUFDcEM7QUFDQTtBQUNBLGdCQUFnQix5REFBYztBQUM5Qix1QkFBdUIsb0VBQWlCO0FBQ3hDO0FBQ0EscUJBQXFCLG9FQUF5QjtBQUM5Qyx1QkFBdUIsZ0ZBQTRCO0FBQ25EO0FBQ0EscUJBQXFCLG1FQUF3QjtBQUM3Qyx1QkFBdUIsK0VBQTJCO0FBQ2xEO0FBQ0EscUJBQXFCLDhEQUFtQjtBQUN4Qyx1QkFBdUIsMEVBQXNCO0FBQzdDO0FBQ0EscUJBQXFCLGlFQUFzQjtBQUMzQyx1QkFBdUIsNkVBQXlCO0FBQ2hEO0FBQ0E7QUFDQSw4REFBOEQsY0FBYztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHNEQUFlO0FBQ3BDLDJCQUEyQixnRkFBNEI7QUFDdkQscUJBQXFCLHNEQUFlO0FBQ3BDLDJCQUEyQiwrRUFBMkI7QUFDdEQscUJBQXFCLHNEQUFlO0FBQ3BDLDJCQUEyQiwwRUFBc0I7QUFDakQscUJBQXFCLHNEQUFlO0FBQ3BDLDJCQUEyQiw2RUFBeUI7QUFDcEQ7QUFDQSxnRUFBZ0UsU0FBUztBQUN6RTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsb0VBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvRUFBaUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkRBQVc7QUFDaEMsNkJBQTZCLG1FQUFpQjtBQUM5QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQyw2Q0FBNkMsOERBQWlCO0FBQzlEO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bjb2xsZWN0aWJsZS93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS90cmFuc2FjdGlvbkZhY3RvcnkuanM/ZDkxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmZXRjaEZyb21Qcm92aWRlciwgZ2V0UHJvdmlkZXIgfSBmcm9tICdAZXRoZXJldW1qcy91dGlsJztcbmltcG9ydCB7IEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbiB9IGZyb20gJy4vZWlwMTU1OVRyYW5zYWN0aW9uLmpzJztcbmltcG9ydCB7IEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24gfSBmcm9tICcuL2VpcDI5MzBUcmFuc2FjdGlvbi5qcyc7XG5pbXBvcnQgeyBCbG9iRUlQNDg0NFRyYW5zYWN0aW9uIH0gZnJvbSAnLi9laXA0ODQ0VHJhbnNhY3Rpb24uanMnO1xuaW1wb3J0IHsgRU9BQ29kZUVJUDc3MDJUcmFuc2FjdGlvbiB9IGZyb20gJy4vZWlwNzcwMlRyYW5zYWN0aW9uLmpzJztcbmltcG9ydCB7IG5vcm1hbGl6ZVR4UGFyYW1zIH0gZnJvbSAnLi9mcm9tUnBjLmpzJztcbmltcG9ydCB7IExlZ2FjeVRyYW5zYWN0aW9uIH0gZnJvbSAnLi9sZWdhY3lUcmFuc2FjdGlvbi5qcyc7XG5pbXBvcnQgeyBUcmFuc2FjdGlvblR5cGUsIGlzQWNjZXNzTGlzdEVJUDI5MzBUeERhdGEsIGlzQmxvYkVJUDQ4NDRUeERhdGEsIGlzRU9BQ29kZUVJUDc3MDJUeERhdGEsIGlzRmVlTWFya2V0RUlQMTU1OVR4RGF0YSwgaXNMZWdhY3lUeERhdGEsIH0gZnJvbSAnLi90eXBlcy5qcyc7XG5leHBvcnQgY2xhc3MgVHJhbnNhY3Rpb25GYWN0b3J5IHtcbiAgICAvLyBJdCBpcyBub3QgcG9zc2libGUgdG8gaW5zdGFudGlhdGUgYSBUcmFuc2FjdGlvbkZhY3Rvcnkgb2JqZWN0LlxuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSBhIGB0eERhdGFgIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHR4RGF0YSAtIFRoZSB0cmFuc2FjdGlvbiBkYXRhLiBUaGUgYHR5cGVgIGZpZWxkIHdpbGwgZGV0ZXJtaW5lIHdoaWNoIHRyYW5zYWN0aW9uIHR5cGUgaXMgcmV0dXJuZWQgKGlmIHVuZGVmaW5lZCwgY3JlYXRlcyBhIGxlZ2FjeSB0cmFuc2FjdGlvbilcbiAgICAgKiBAcGFyYW0gdHhPcHRpb25zIC0gT3B0aW9ucyB0byBwYXNzIG9uIHRvIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgdHJhbnNhY3Rpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVR4RGF0YSh0eERhdGEsIHR4T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmICghKCd0eXBlJyBpbiB0eERhdGEpIHx8IHR4RGF0YS50eXBlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEFzc3VtZSBsZWdhY3kgdHJhbnNhY3Rpb25cbiAgICAgICAgICAgIHJldHVybiBMZWdhY3lUcmFuc2FjdGlvbi5mcm9tVHhEYXRhKHR4RGF0YSwgdHhPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpc0xlZ2FjeVR4RGF0YSh0eERhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIExlZ2FjeVRyYW5zYWN0aW9uLmZyb21UeERhdGEodHhEYXRhLCB0eE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNBY2Nlc3NMaXN0RUlQMjkzMFR4RGF0YSh0eERhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24uZnJvbVR4RGF0YSh0eERhdGEsIHR4T3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0ZlZU1hcmtldEVJUDE1NTlUeERhdGEodHhEYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24uZnJvbVR4RGF0YSh0eERhdGEsIHR4T3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0Jsb2JFSVA0ODQ0VHhEYXRhKHR4RGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQmxvYkVJUDQ4NDRUcmFuc2FjdGlvbi5mcm9tVHhEYXRhKHR4RGF0YSwgdHhPcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRU9BQ29kZUVJUDc3MDJUeERhdGEodHhEYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBFT0FDb2RlRUlQNzcwMlRyYW5zYWN0aW9uLmZyb21UeERhdGEodHhEYXRhLCB0eE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUeCBpbnN0YW50aWF0aW9uIHdpdGggdHlwZSAke3R4RGF0YT8udHlwZX0gbm90IHN1cHBvcnRlZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHRyaWVzIHRvIGRlY29kZSBzZXJpYWxpemVkIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YSAtIFRoZSBkYXRhIFVpbnQ4QXJyYXlcbiAgICAgKiBAcGFyYW0gdHhPcHRpb25zIC0gVGhlIHRyYW5zYWN0aW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVNlcmlhbGl6ZWREYXRhKGRhdGEsIHR4T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmIChkYXRhWzBdIDw9IDB4N2YpIHtcbiAgICAgICAgICAgIC8vIERldGVybWluZSB0aGUgdHlwZS5cbiAgICAgICAgICAgIHN3aXRjaCAoZGF0YVswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgVHJhbnNhY3Rpb25UeXBlLkFjY2Vzc0xpc3RFSVAyOTMwOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbi5mcm9tU2VyaWFsaXplZFR4KGRhdGEsIHR4T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgY2FzZSBUcmFuc2FjdGlvblR5cGUuRmVlTWFya2V0RUlQMTU1OTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5mcm9tU2VyaWFsaXplZFR4KGRhdGEsIHR4T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgY2FzZSBUcmFuc2FjdGlvblR5cGUuQmxvYkVJUDQ4NDQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBCbG9iRUlQNDg0NFRyYW5zYWN0aW9uLmZyb21TZXJpYWxpemVkVHgoZGF0YSwgdHhPcHRpb25zKTtcbiAgICAgICAgICAgICAgICBjYXNlIFRyYW5zYWN0aW9uVHlwZS5FT0FDb2RlRUlQNzcwMjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVPQUNvZGVFSVA3NzAyVHJhbnNhY3Rpb24uZnJvbVNlcmlhbGl6ZWRUeChkYXRhLCB0eE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVHlwZWRUcmFuc2FjdGlvbiB3aXRoIElEICR7ZGF0YVswXX0gdW5rbm93bmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIExlZ2FjeVRyYW5zYWN0aW9uLmZyb21TZXJpYWxpemVkVHgoZGF0YSwgdHhPcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGVuIGRlY29kaW5nIGEgQmxvY2tCb2R5LCBpbiB0aGUgdHJhbnNhY3Rpb25zIGZpZWxkLCBhIGZpZWxkIGlzIGVpdGhlcjpcbiAgICAgKiBBIFVpbnQ4QXJyYXkgKGEgVHlwZWRUcmFuc2FjdGlvbiAtIGVuY29kZWQgYXMgVHJhbnNhY3Rpb25UeXBlIHx8IHJscChUcmFuc2FjdGlvblBheWxvYWQpKVxuICAgICAqIEEgVWludDhBcnJheVtdIChMZWdhY3kgVHJhbnNhY3Rpb24pXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgcmlnaHQgdHJhbnNhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YSAtIEEgVWludDhBcnJheSBvciBVaW50OEFycmF5W11cbiAgICAgKiBAcGFyYW0gdHhPcHRpb25zIC0gVGhlIHRyYW5zYWN0aW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUJsb2NrQm9keURhdGEoZGF0YSwgdHhPcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tU2VyaWFsaXplZERhdGEoZGF0YSwgdHhPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAvLyBJdCBpcyBhIGxlZ2FjeSB0cmFuc2FjdGlvblxuICAgICAgICAgICAgcmV0dXJuIExlZ2FjeVRyYW5zYWN0aW9uLmZyb21WYWx1ZXNBcnJheShkYXRhLCB0eE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZGVjb2RlIHRyYW5zYWN0aW9uOiB1bmtub3duIHR5cGUgaW5wdXQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiAgTWV0aG9kIHRvIHJldHJpZXZlIGEgdHJhbnNhY3Rpb24gZnJvbSB0aGUgcHJvdmlkZXJcbiAgICAgKiBAcGFyYW0gcHJvdmlkZXIgLSBhIHVybCBzdHJpbmcgZm9yIGEgSlNPTi1SUEMgcHJvdmlkZXIgb3IgYW4gRXRoZXJzIEpzb25SUENQcm92aWRlciBvYmplY3RcbiAgICAgKiBAcGFyYW0gdHhIYXNoIC0gVHJhbnNhY3Rpb24gaGFzaFxuICAgICAqIEBwYXJhbSB0eE9wdGlvbnMgLSBUaGUgdHJhbnNhY3Rpb24gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHRoZSB0cmFuc2FjdGlvbiBzcGVjaWZpZWQgYnkgYHR4SGFzaGBcbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgZnJvbUpzb25ScGNQcm92aWRlcihwcm92aWRlciwgdHhIYXNoLCB0eE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcHJvdiA9IGdldFByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICAgICAgY29uc3QgdHhEYXRhID0gYXdhaXQgZmV0Y2hGcm9tUHJvdmlkZXIocHJvdiwge1xuICAgICAgICAgICAgbWV0aG9kOiAnZXRoX2dldFRyYW5zYWN0aW9uQnlIYXNoJyxcbiAgICAgICAgICAgIHBhcmFtczogW3R4SGFzaF0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHhEYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGRhdGEgcmV0dXJuZWQgZnJvbSBwcm92aWRlcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBUcmFuc2FjdGlvbkZhY3RvcnkuZnJvbVJQQyh0eERhdGEsIHR4T3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBkZWNvZGUgZGF0YSByZXRyaWV2ZWQgZnJvbSBSUEMsIHN1Y2ggYXMgYGV0aF9nZXRUcmFuc2FjdGlvbkJ5SGFzaGBcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyBub3JtYWxpemVzIHNvbWUgb2YgdGhlIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gdHhEYXRhIFRoZSBSUEMtZW5jb2RlZCBkYXRhXG4gICAgICogQHBhcmFtIHR4T3B0aW9ucyBUaGUgdHJhbnNhY3Rpb24gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgc3RhdGljIGFzeW5jIGZyb21SUEModHhEYXRhLCB0eE9wdGlvbnMgPSB7fSkge1xuICAgICAgICByZXR1cm4gVHJhbnNhY3Rpb25GYWN0b3J5LmZyb21UeERhdGEobm9ybWFsaXplVHhQYXJhbXModHhEYXRhKSwgdHhPcHRpb25zKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2FjdGlvbkZhY3RvcnkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/transactionFactory.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/types.js":
/*!***************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/types.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Capability: () => (/* binding */ Capability),\n/* harmony export */   TransactionType: () => (/* binding */ TransactionType),\n/* harmony export */   isAccessList: () => (/* binding */ isAccessList),\n/* harmony export */   isAccessListBytes: () => (/* binding */ isAccessListBytes),\n/* harmony export */   isAccessListEIP2930Tx: () => (/* binding */ isAccessListEIP2930Tx),\n/* harmony export */   isAccessListEIP2930TxData: () => (/* binding */ isAccessListEIP2930TxData),\n/* harmony export */   isAuthorizationList: () => (/* binding */ isAuthorizationList),\n/* harmony export */   isAuthorizationListBytes: () => (/* binding */ isAuthorizationListBytes),\n/* harmony export */   isBlobEIP4844Tx: () => (/* binding */ isBlobEIP4844Tx),\n/* harmony export */   isBlobEIP4844TxData: () => (/* binding */ isBlobEIP4844TxData),\n/* harmony export */   isEOACodeEIP7702Tx: () => (/* binding */ isEOACodeEIP7702Tx),\n/* harmony export */   isEOACodeEIP7702TxData: () => (/* binding */ isEOACodeEIP7702TxData),\n/* harmony export */   isFeeMarketEIP1559Tx: () => (/* binding */ isFeeMarketEIP1559Tx),\n/* harmony export */   isFeeMarketEIP1559TxData: () => (/* binding */ isFeeMarketEIP1559TxData),\n/* harmony export */   isLegacyTx: () => (/* binding */ isLegacyTx),\n/* harmony export */   isLegacyTxData: () => (/* binding */ isLegacyTxData)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+util@9.1.0/node_modules/@ethereumjs/util/dist/esm/index.js\");\n\n/**\n * Can be used in conjunction with {@link Transaction[TransactionType].supports}\n * to query on tx capabilities\n */\nvar Capability;\n(function (Capability) {\n    /**\n     * Tx supports EIP-155 replay protection\n     * See: [155](https://eips.ethereum.org/EIPS/eip-155) Replay Attack Protection EIP\n     */\n    Capability[Capability[\"EIP155ReplayProtection\"] = 155] = \"EIP155ReplayProtection\";\n    /**\n     * Tx supports EIP-1559 gas fee market mechanism\n     * See: [1559](https://eips.ethereum.org/EIPS/eip-1559) Fee Market EIP\n     */\n    Capability[Capability[\"EIP1559FeeMarket\"] = 1559] = \"EIP1559FeeMarket\";\n    /**\n     * Tx is a typed transaction as defined in EIP-2718\n     * See: [2718](https://eips.ethereum.org/EIPS/eip-2718) Transaction Type EIP\n     */\n    Capability[Capability[\"EIP2718TypedTransaction\"] = 2718] = \"EIP2718TypedTransaction\";\n    /**\n     * Tx supports access list generation as defined in EIP-2930\n     * See: [2930](https://eips.ethereum.org/EIPS/eip-2930) Access Lists EIP\n     */\n    Capability[Capability[\"EIP2930AccessLists\"] = 2930] = \"EIP2930AccessLists\";\n    /**\n     * Tx supports setting EOA code\n     * See [EIP-7702](https://eips.ethereum.org/EIPS/eip-7702)\n     */\n    Capability[Capability[\"EIP7702EOACode\"] = 7702] = \"EIP7702EOACode\";\n})(Capability || (Capability = {}));\nfunction isAccessListBytes(input) {\n    if (input.length === 0) {\n        return true;\n    }\n    const firstItem = input[0];\n    if (Array.isArray(firstItem)) {\n        return true;\n    }\n    return false;\n}\nfunction isAccessList(input) {\n    return !isAccessListBytes(input); // This is exactly the same method, except the output is negated.\n}\nfunction isAuthorizationListBytes(input) {\n    if (input.length === 0) {\n        return true;\n    }\n    const firstItem = input[0];\n    if (Array.isArray(firstItem)) {\n        return true;\n    }\n    return false;\n}\nfunction isAuthorizationList(input) {\n    return !isAuthorizationListBytes(input); // This is exactly the same method, except the output is negated.\n}\n/**\n * Encompassing type for all transaction types.\n */\nvar TransactionType;\n(function (TransactionType) {\n    TransactionType[TransactionType[\"Legacy\"] = 0] = \"Legacy\";\n    TransactionType[TransactionType[\"AccessListEIP2930\"] = 1] = \"AccessListEIP2930\";\n    TransactionType[TransactionType[\"FeeMarketEIP1559\"] = 2] = \"FeeMarketEIP1559\";\n    TransactionType[TransactionType[\"BlobEIP4844\"] = 3] = \"BlobEIP4844\";\n    TransactionType[TransactionType[\"EOACodeEIP7702\"] = 4] = \"EOACodeEIP7702\";\n})(TransactionType || (TransactionType = {}));\nfunction isLegacyTx(tx) {\n    return tx.type === TransactionType.Legacy;\n}\nfunction isAccessListEIP2930Tx(tx) {\n    return tx.type === TransactionType.AccessListEIP2930;\n}\nfunction isFeeMarketEIP1559Tx(tx) {\n    return tx.type === TransactionType.FeeMarketEIP1559;\n}\nfunction isBlobEIP4844Tx(tx) {\n    return tx.type === TransactionType.BlobEIP4844;\n}\nfunction isEOACodeEIP7702Tx(tx) {\n    return tx.type === TransactionType.EOACodeEIP7702;\n}\nfunction isLegacyTxData(txData) {\n    const txType = Number((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.toBytes)(txData.type)));\n    return txType === TransactionType.Legacy;\n}\nfunction isAccessListEIP2930TxData(txData) {\n    const txType = Number((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.toBytes)(txData.type)));\n    return txType === TransactionType.AccessListEIP2930;\n}\nfunction isFeeMarketEIP1559TxData(txData) {\n    const txType = Number((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.toBytes)(txData.type)));\n    return txType === TransactionType.FeeMarketEIP1559;\n}\nfunction isBlobEIP4844TxData(txData) {\n    const txType = Number((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.toBytes)(txData.type)));\n    return txType === TransactionType.BlobEIP4844;\n}\nfunction isEOACodeEIP7702TxData(txData) {\n    const txType = Number((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToBigInt)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.toBytes)(txData.type)));\n    return txType === TransactionType.EOACodeEIP7702;\n}\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS90eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwRDtBQUMxRDtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQ0FBZ0M7QUFDMUI7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLHNDQUFzQztBQUN0QztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMENBQTBDO0FBQ3BDO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1AsMEJBQTBCLCtEQUFhLENBQUMseURBQU87QUFDL0M7QUFDQTtBQUNPO0FBQ1AsMEJBQTBCLCtEQUFhLENBQUMseURBQU87QUFDL0M7QUFDQTtBQUNPO0FBQ1AsMEJBQTBCLCtEQUFhLENBQUMseURBQU87QUFDL0M7QUFDQTtBQUNPO0FBQ1AsMEJBQTBCLCtEQUFhLENBQUMseURBQU87QUFDL0M7QUFDQTtBQUNPO0FBQ1AsMEJBQTBCLCtEQUFhLENBQUMseURBQU87QUFDL0M7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNvbGxlY3RpYmxlL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhANS40LjAvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvZXNtL3R5cGVzLmpzP2MxMmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnl0ZXNUb0JpZ0ludCwgdG9CeXRlcyB9IGZyb20gJ0BldGhlcmV1bWpzL3V0aWwnO1xuLyoqXG4gKiBDYW4gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHtAbGluayBUcmFuc2FjdGlvbltUcmFuc2FjdGlvblR5cGVdLnN1cHBvcnRzfVxuICogdG8gcXVlcnkgb24gdHggY2FwYWJpbGl0aWVzXG4gKi9cbmV4cG9ydCB2YXIgQ2FwYWJpbGl0eTtcbihmdW5jdGlvbiAoQ2FwYWJpbGl0eSkge1xuICAgIC8qKlxuICAgICAqIFR4IHN1cHBvcnRzIEVJUC0xNTUgcmVwbGF5IHByb3RlY3Rpb25cbiAgICAgKiBTZWU6IFsxNTVdKGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMTU1KSBSZXBsYXkgQXR0YWNrIFByb3RlY3Rpb24gRUlQXG4gICAgICovXG4gICAgQ2FwYWJpbGl0eVtDYXBhYmlsaXR5W1wiRUlQMTU1UmVwbGF5UHJvdGVjdGlvblwiXSA9IDE1NV0gPSBcIkVJUDE1NVJlcGxheVByb3RlY3Rpb25cIjtcbiAgICAvKipcbiAgICAgKiBUeCBzdXBwb3J0cyBFSVAtMTU1OSBnYXMgZmVlIG1hcmtldCBtZWNoYW5pc21cbiAgICAgKiBTZWU6IFsxNTU5XShodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTE1NTkpIEZlZSBNYXJrZXQgRUlQXG4gICAgICovXG4gICAgQ2FwYWJpbGl0eVtDYXBhYmlsaXR5W1wiRUlQMTU1OUZlZU1hcmtldFwiXSA9IDE1NTldID0gXCJFSVAxNTU5RmVlTWFya2V0XCI7XG4gICAgLyoqXG4gICAgICogVHggaXMgYSB0eXBlZCB0cmFuc2FjdGlvbiBhcyBkZWZpbmVkIGluIEVJUC0yNzE4XG4gICAgICogU2VlOiBbMjcxOF0oaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0yNzE4KSBUcmFuc2FjdGlvbiBUeXBlIEVJUFxuICAgICAqL1xuICAgIENhcGFiaWxpdHlbQ2FwYWJpbGl0eVtcIkVJUDI3MThUeXBlZFRyYW5zYWN0aW9uXCJdID0gMjcxOF0gPSBcIkVJUDI3MThUeXBlZFRyYW5zYWN0aW9uXCI7XG4gICAgLyoqXG4gICAgICogVHggc3VwcG9ydHMgYWNjZXNzIGxpc3QgZ2VuZXJhdGlvbiBhcyBkZWZpbmVkIGluIEVJUC0yOTMwXG4gICAgICogU2VlOiBbMjkzMF0oaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0yOTMwKSBBY2Nlc3MgTGlzdHMgRUlQXG4gICAgICovXG4gICAgQ2FwYWJpbGl0eVtDYXBhYmlsaXR5W1wiRUlQMjkzMEFjY2Vzc0xpc3RzXCJdID0gMjkzMF0gPSBcIkVJUDI5MzBBY2Nlc3NMaXN0c1wiO1xuICAgIC8qKlxuICAgICAqIFR4IHN1cHBvcnRzIHNldHRpbmcgRU9BIGNvZGVcbiAgICAgKiBTZWUgW0VJUC03NzAyXShodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTc3MDIpXG4gICAgICovXG4gICAgQ2FwYWJpbGl0eVtDYXBhYmlsaXR5W1wiRUlQNzcwMkVPQUNvZGVcIl0gPSA3NzAyXSA9IFwiRUlQNzcwMkVPQUNvZGVcIjtcbn0pKENhcGFiaWxpdHkgfHwgKENhcGFiaWxpdHkgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQWNjZXNzTGlzdEJ5dGVzKGlucHV0KSB7XG4gICAgaWYgKGlucHV0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgZmlyc3RJdGVtID0gaW5wdXRbMF07XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZmlyc3RJdGVtKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQWNjZXNzTGlzdChpbnB1dCkge1xuICAgIHJldHVybiAhaXNBY2Nlc3NMaXN0Qnl0ZXMoaW5wdXQpOyAvLyBUaGlzIGlzIGV4YWN0bHkgdGhlIHNhbWUgbWV0aG9kLCBleGNlcHQgdGhlIG91dHB1dCBpcyBuZWdhdGVkLlxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0aG9yaXphdGlvbkxpc3RCeXRlcyhpbnB1dCkge1xuICAgIGlmIChpbnB1dC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0SXRlbSA9IGlucHV0WzBdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZpcnN0SXRlbSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dGhvcml6YXRpb25MaXN0KGlucHV0KSB7XG4gICAgcmV0dXJuICFpc0F1dGhvcml6YXRpb25MaXN0Qnl0ZXMoaW5wdXQpOyAvLyBUaGlzIGlzIGV4YWN0bHkgdGhlIHNhbWUgbWV0aG9kLCBleGNlcHQgdGhlIG91dHB1dCBpcyBuZWdhdGVkLlxufVxuLyoqXG4gKiBFbmNvbXBhc3NpbmcgdHlwZSBmb3IgYWxsIHRyYW5zYWN0aW9uIHR5cGVzLlxuICovXG5leHBvcnQgdmFyIFRyYW5zYWN0aW9uVHlwZTtcbihmdW5jdGlvbiAoVHJhbnNhY3Rpb25UeXBlKSB7XG4gICAgVHJhbnNhY3Rpb25UeXBlW1RyYW5zYWN0aW9uVHlwZVtcIkxlZ2FjeVwiXSA9IDBdID0gXCJMZWdhY3lcIjtcbiAgICBUcmFuc2FjdGlvblR5cGVbVHJhbnNhY3Rpb25UeXBlW1wiQWNjZXNzTGlzdEVJUDI5MzBcIl0gPSAxXSA9IFwiQWNjZXNzTGlzdEVJUDI5MzBcIjtcbiAgICBUcmFuc2FjdGlvblR5cGVbVHJhbnNhY3Rpb25UeXBlW1wiRmVlTWFya2V0RUlQMTU1OVwiXSA9IDJdID0gXCJGZWVNYXJrZXRFSVAxNTU5XCI7XG4gICAgVHJhbnNhY3Rpb25UeXBlW1RyYW5zYWN0aW9uVHlwZVtcIkJsb2JFSVA0ODQ0XCJdID0gM10gPSBcIkJsb2JFSVA0ODQ0XCI7XG4gICAgVHJhbnNhY3Rpb25UeXBlW1RyYW5zYWN0aW9uVHlwZVtcIkVPQUNvZGVFSVA3NzAyXCJdID0gNF0gPSBcIkVPQUNvZGVFSVA3NzAyXCI7XG59KShUcmFuc2FjdGlvblR5cGUgfHwgKFRyYW5zYWN0aW9uVHlwZSA9IHt9KSk7XG5leHBvcnQgZnVuY3Rpb24gaXNMZWdhY3lUeCh0eCkge1xuICAgIHJldHVybiB0eC50eXBlID09PSBUcmFuc2FjdGlvblR5cGUuTGVnYWN5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQWNjZXNzTGlzdEVJUDI5MzBUeCh0eCkge1xuICAgIHJldHVybiB0eC50eXBlID09PSBUcmFuc2FjdGlvblR5cGUuQWNjZXNzTGlzdEVJUDI5MzA7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNGZWVNYXJrZXRFSVAxNTU5VHgodHgpIHtcbiAgICByZXR1cm4gdHgudHlwZSA9PT0gVHJhbnNhY3Rpb25UeXBlLkZlZU1hcmtldEVJUDE1NTk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCbG9iRUlQNDg0NFR4KHR4KSB7XG4gICAgcmV0dXJuIHR4LnR5cGUgPT09IFRyYW5zYWN0aW9uVHlwZS5CbG9iRUlQNDg0NDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0VPQUNvZGVFSVA3NzAyVHgodHgpIHtcbiAgICByZXR1cm4gdHgudHlwZSA9PT0gVHJhbnNhY3Rpb25UeXBlLkVPQUNvZGVFSVA3NzAyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTGVnYWN5VHhEYXRhKHR4RGF0YSkge1xuICAgIGNvbnN0IHR4VHlwZSA9IE51bWJlcihieXRlc1RvQmlnSW50KHRvQnl0ZXModHhEYXRhLnR5cGUpKSk7XG4gICAgcmV0dXJuIHR4VHlwZSA9PT0gVHJhbnNhY3Rpb25UeXBlLkxlZ2FjeTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FjY2Vzc0xpc3RFSVAyOTMwVHhEYXRhKHR4RGF0YSkge1xuICAgIGNvbnN0IHR4VHlwZSA9IE51bWJlcihieXRlc1RvQmlnSW50KHRvQnl0ZXModHhEYXRhLnR5cGUpKSk7XG4gICAgcmV0dXJuIHR4VHlwZSA9PT0gVHJhbnNhY3Rpb25UeXBlLkFjY2Vzc0xpc3RFSVAyOTMwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRmVlTWFya2V0RUlQMTU1OVR4RGF0YSh0eERhdGEpIHtcbiAgICBjb25zdCB0eFR5cGUgPSBOdW1iZXIoYnl0ZXNUb0JpZ0ludCh0b0J5dGVzKHR4RGF0YS50eXBlKSkpO1xuICAgIHJldHVybiB0eFR5cGUgPT09IFRyYW5zYWN0aW9uVHlwZS5GZWVNYXJrZXRFSVAxNTU5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQmxvYkVJUDQ4NDRUeERhdGEodHhEYXRhKSB7XG4gICAgY29uc3QgdHhUeXBlID0gTnVtYmVyKGJ5dGVzVG9CaWdJbnQodG9CeXRlcyh0eERhdGEudHlwZSkpKTtcbiAgICByZXR1cm4gdHhUeXBlID09PSBUcmFuc2FjdGlvblR5cGUuQmxvYkVJUDQ4NDQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFT0FDb2RlRUlQNzcwMlR4RGF0YSh0eERhdGEpIHtcbiAgICBjb25zdCB0eFR5cGUgPSBOdW1iZXIoYnl0ZXNUb0JpZ0ludCh0b0J5dGVzKHR4RGF0YS50eXBlKSkpO1xuICAgIHJldHVybiB0eFR5cGUgPT09IFRyYW5zYWN0aW9uVHlwZS5FT0FDb2RlRUlQNzcwMjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/types.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/util.js":
/*!**************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/util.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccessLists: () => (/* binding */ AccessLists),\n/* harmony export */   AuthorizationLists: () => (/* binding */ AuthorizationLists),\n/* harmony export */   checkMaxInitCodeSize: () => (/* binding */ checkMaxInitCodeSize),\n/* harmony export */   txTypeBytes: () => (/* binding */ txTypeBytes)\n/* harmony export */ });\n/* harmony import */ var _ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ethereumjs/util */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+util@9.1.0/node_modules/@ethereumjs/util/dist/esm/index.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types.js */ \"(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/types.js\");\n\n\nfunction checkMaxInitCodeSize(common, length) {\n    const maxInitCodeSize = common.param('vm', 'maxInitCodeSize');\n    if (maxInitCodeSize && BigInt(length) > maxInitCodeSize) {\n        throw new Error(`the initcode size of this transaction is too large: it is ${length} while the max is ${common.param('vm', 'maxInitCodeSize')}`);\n    }\n}\nclass AccessLists {\n    static getAccessListData(accessList) {\n        let AccessListJSON;\n        let bufferAccessList;\n        if ((0,_types_js__WEBPACK_IMPORTED_MODULE_1__.isAccessList)(accessList)) {\n            AccessListJSON = accessList;\n            const newAccessList = [];\n            for (let i = 0; i < accessList.length; i++) {\n                const item = accessList[i];\n                const addressBytes = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(item.address);\n                const storageItems = [];\n                for (let index = 0; index < item.storageKeys.length; index++) {\n                    storageItems.push((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(item.storageKeys[index]));\n                }\n                newAccessList.push([addressBytes, storageItems]);\n            }\n            bufferAccessList = newAccessList;\n        }\n        else {\n            bufferAccessList = accessList ?? [];\n            // build the JSON\n            const json = [];\n            for (let i = 0; i < bufferAccessList.length; i++) {\n                const data = bufferAccessList[i];\n                const address = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(data[0]);\n                const storageKeys = [];\n                for (let item = 0; item < data[1].length; item++) {\n                    storageKeys.push((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(data[1][item]));\n                }\n                const jsonItem = {\n                    address,\n                    storageKeys,\n                };\n                json.push(jsonItem);\n            }\n            AccessListJSON = json;\n        }\n        return {\n            AccessListJSON,\n            accessList: bufferAccessList,\n        };\n    }\n    static verifyAccessList(accessList) {\n        for (let key = 0; key < accessList.length; key++) {\n            const accessListItem = accessList[key];\n            const address = accessListItem[0];\n            const storageSlots = accessListItem[1];\n            if (accessListItem[2] !== undefined) {\n                throw new Error('Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.');\n            }\n            if (address.length !== 20) {\n                throw new Error('Invalid EIP-2930 transaction: address length should be 20 bytes');\n            }\n            for (let storageSlot = 0; storageSlot < storageSlots.length; storageSlot++) {\n                if (storageSlots[storageSlot].length !== 32) {\n                    throw new Error('Invalid EIP-2930 transaction: storage slot length should be 32 bytes');\n                }\n            }\n        }\n    }\n    static getAccessListJSON(accessList) {\n        const accessListJSON = [];\n        for (let index = 0; index < accessList.length; index++) {\n            const item = accessList[index];\n            const JSONItem = {\n                address: (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.setLengthLeft)(item[0], 20)),\n                storageKeys: [],\n            };\n            const storageSlots = item[1];\n            for (let slot = 0; slot < storageSlots.length; slot++) {\n                const storageSlot = storageSlots[slot];\n                JSONItem.storageKeys.push((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.setLengthLeft)(storageSlot, 32)));\n            }\n            accessListJSON.push(JSONItem);\n        }\n        return accessListJSON;\n    }\n    static getDataFeeEIP2930(accessList, common) {\n        const accessListStorageKeyCost = common.param('gasPrices', 'accessListStorageKeyCost');\n        const accessListAddressCost = common.param('gasPrices', 'accessListAddressCost');\n        let slots = 0;\n        for (let index = 0; index < accessList.length; index++) {\n            const item = accessList[index];\n            const storageSlots = item[1];\n            slots += storageSlots.length;\n        }\n        const addresses = accessList.length;\n        return addresses * Number(accessListAddressCost) + slots * Number(accessListStorageKeyCost);\n    }\n}\nclass AuthorizationLists {\n    static getAuthorizationListData(authorizationList) {\n        let AuthorizationListJSON;\n        let bufferAuthorizationList;\n        if ((0,_types_js__WEBPACK_IMPORTED_MODULE_1__.isAuthorizationList)(authorizationList)) {\n            AuthorizationListJSON = authorizationList;\n            const newAuthorizationList = [];\n            const jsonItems = ['chainId', 'address', 'nonce', 'yParity', 'r', 's'];\n            for (let i = 0; i < authorizationList.length; i++) {\n                const item = authorizationList[i];\n                for (const key of jsonItems) {\n                    // @ts-ignore TODO why does TsScript fail here?\n                    if (item[key] === undefined) {\n                        throw new Error(`EIP-7702 authorization list invalid: ${key} is not defined`);\n                    }\n                }\n                const chainId = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(item.chainId);\n                const addressBytes = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(item.address);\n                const nonceList = [];\n                for (let j = 0; j < item.nonce.length; j++) {\n                    nonceList.push((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(item.nonce[j]));\n                }\n                const yParity = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(item.yParity);\n                const r = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(item.r);\n                const s = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(item.s);\n                newAuthorizationList.push([chainId, addressBytes, nonceList, yParity, r, s]);\n            }\n            bufferAuthorizationList = newAuthorizationList;\n        }\n        else {\n            bufferAuthorizationList = authorizationList ?? [];\n            // build the JSON\n            const json = [];\n            for (let i = 0; i < bufferAuthorizationList.length; i++) {\n                const data = bufferAuthorizationList[i];\n                const chainId = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(data[0]);\n                const address = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(data[1]);\n                const nonces = data[2];\n                const nonceList = [];\n                for (let j = 0; j < nonces.length; j++) {\n                    nonceList.push((0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(nonces[j]));\n                }\n                const yParity = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(data[3]);\n                const r = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(data[4]);\n                const s = (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.bytesToHex)(data[5]);\n                const jsonItem = {\n                    chainId,\n                    address,\n                    nonce: nonceList,\n                    yParity,\n                    r,\n                    s,\n                };\n                json.push(jsonItem);\n            }\n            AuthorizationListJSON = json;\n        }\n        return {\n            AuthorizationListJSON,\n            authorizationList: bufferAuthorizationList,\n        };\n    }\n    static verifyAuthorizationList(authorizationList) {\n        for (let key = 0; key < authorizationList.length; key++) {\n            const authorizationListItem = authorizationList[key];\n            const address = authorizationListItem[1];\n            const nonceList = authorizationListItem[2];\n            const yParity = authorizationListItem[3];\n            const r = authorizationListItem[4];\n            const s = authorizationListItem[5];\n            (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.validateNoLeadingZeroes)({ yParity, r, s });\n            if (address.length !== 20) {\n                throw new Error('Invalid EIP-7702 transaction: address length should be 20 bytes');\n            }\n            if (nonceList.length > 1) {\n                throw new Error('Invalid EIP-7702 transaction: nonce list should consist of at most 1 item');\n            }\n            else if (nonceList.length === 1) {\n                (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.validateNoLeadingZeroes)({ nonce: nonceList[0] });\n            }\n        }\n    }\n    static getDataFeeEIP7702(authorityList, common) {\n        const perAuthBaseCost = common.param('gasPrices', 'perAuthBaseCost');\n        return authorityList.length * Number(perAuthBaseCost);\n    }\n}\nfunction txTypeBytes(txType) {\n    return (0,_ethereumjs_util__WEBPACK_IMPORTED_MODULE_0__.hexToBytes)(`0x${txType.toString(16).padStart(2, '0')}`);\n}\n//# sourceMappingURL=util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDUuNC4wL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2VzbS91dGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFtRztBQUNwQztBQUN4RDtBQUNQO0FBQ0E7QUFDQSxxRkFBcUYsUUFBUSxtQkFBbUIsc0NBQXNDO0FBQ3RKO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFlBQVksdURBQVk7QUFDeEI7QUFDQTtBQUNBLDRCQUE0Qix1QkFBdUI7QUFDbkQ7QUFDQSxxQ0FBcUMsNERBQVU7QUFDL0M7QUFDQSxvQ0FBb0MsaUNBQWlDO0FBQ3JFLHNDQUFzQyw0REFBVTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkJBQTZCO0FBQ3pEO0FBQ0EsZ0NBQWdDLDREQUFVO0FBQzFDO0FBQ0EsbUNBQW1DLHVCQUF1QjtBQUMxRCxxQ0FBcUMsNERBQVU7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHlCQUF5QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsbUNBQW1DO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkJBQTJCO0FBQ3ZEO0FBQ0E7QUFDQSx5QkFBeUIsNERBQVUsQ0FBQywrREFBYTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNEJBQTRCO0FBQzNEO0FBQ0EsMENBQTBDLDREQUFVLENBQUMsK0RBQWE7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDJCQUEyQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhEQUFtQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOEJBQThCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGLEtBQUs7QUFDckY7QUFDQTtBQUNBLGdDQUFnQyw0REFBVTtBQUMxQyxxQ0FBcUMsNERBQVU7QUFDL0M7QUFDQSxnQ0FBZ0MsdUJBQXVCO0FBQ3ZELG1DQUFtQyw0REFBVTtBQUM3QztBQUNBLGdDQUFnQyw0REFBVTtBQUMxQywwQkFBMEIsNERBQVU7QUFDcEMsMEJBQTBCLDREQUFVO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsb0NBQW9DO0FBQ2hFO0FBQ0EsZ0NBQWdDLDREQUFVO0FBQzFDLGdDQUFnQyw0REFBVTtBQUMxQztBQUNBO0FBQ0EsZ0NBQWdDLG1CQUFtQjtBQUNuRCxtQ0FBbUMsNERBQVU7QUFDN0M7QUFDQSxnQ0FBZ0MsNERBQVU7QUFDMUMsMEJBQTBCLDREQUFVO0FBQ3BDLDBCQUEwQiw0REFBVTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZ0NBQWdDO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkseUVBQXVCLEdBQUcsZUFBZTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix5RUFBdUIsR0FBRyxxQkFBcUI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsV0FBVyw0REFBVSxNQUFNLHFDQUFxQztBQUNoRTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNvbGxlY3RpYmxlL3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhANS40LjAvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvZXNtL3V0aWwuanM/MGQyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBieXRlc1RvSGV4LCBoZXhUb0J5dGVzLCBzZXRMZW5ndGhMZWZ0LCB2YWxpZGF0ZU5vTGVhZGluZ1plcm9lcywgfSBmcm9tICdAZXRoZXJldW1qcy91dGlsJztcbmltcG9ydCB7IGlzQWNjZXNzTGlzdCwgaXNBdXRob3JpemF0aW9uTGlzdCB9IGZyb20gJy4vdHlwZXMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrTWF4SW5pdENvZGVTaXplKGNvbW1vbiwgbGVuZ3RoKSB7XG4gICAgY29uc3QgbWF4SW5pdENvZGVTaXplID0gY29tbW9uLnBhcmFtKCd2bScsICdtYXhJbml0Q29kZVNpemUnKTtcbiAgICBpZiAobWF4SW5pdENvZGVTaXplICYmIEJpZ0ludChsZW5ndGgpID4gbWF4SW5pdENvZGVTaXplKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdGhlIGluaXRjb2RlIHNpemUgb2YgdGhpcyB0cmFuc2FjdGlvbiBpcyB0b28gbGFyZ2U6IGl0IGlzICR7bGVuZ3RofSB3aGlsZSB0aGUgbWF4IGlzICR7Y29tbW9uLnBhcmFtKCd2bScsICdtYXhJbml0Q29kZVNpemUnKX1gKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQWNjZXNzTGlzdHMge1xuICAgIHN0YXRpYyBnZXRBY2Nlc3NMaXN0RGF0YShhY2Nlc3NMaXN0KSB7XG4gICAgICAgIGxldCBBY2Nlc3NMaXN0SlNPTjtcbiAgICAgICAgbGV0IGJ1ZmZlckFjY2Vzc0xpc3Q7XG4gICAgICAgIGlmIChpc0FjY2Vzc0xpc3QoYWNjZXNzTGlzdCkpIHtcbiAgICAgICAgICAgIEFjY2Vzc0xpc3RKU09OID0gYWNjZXNzTGlzdDtcbiAgICAgICAgICAgIGNvbnN0IG5ld0FjY2Vzc0xpc3QgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWNjZXNzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBhY2Nlc3NMaXN0W2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NCeXRlcyA9IGhleFRvQnl0ZXMoaXRlbS5hZGRyZXNzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yYWdlSXRlbXMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaXRlbS5zdG9yYWdlS2V5cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZUl0ZW1zLnB1c2goaGV4VG9CeXRlcyhpdGVtLnN0b3JhZ2VLZXlzW2luZGV4XSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdBY2Nlc3NMaXN0LnB1c2goW2FkZHJlc3NCeXRlcywgc3RvcmFnZUl0ZW1zXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmZXJBY2Nlc3NMaXN0ID0gbmV3QWNjZXNzTGlzdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJ1ZmZlckFjY2Vzc0xpc3QgPSBhY2Nlc3NMaXN0ID8/IFtdO1xuICAgICAgICAgICAgLy8gYnVpbGQgdGhlIEpTT05cbiAgICAgICAgICAgIGNvbnN0IGpzb24gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyQWNjZXNzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBidWZmZXJBY2Nlc3NMaXN0W2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSBieXRlc1RvSGV4KGRhdGFbMF0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VLZXlzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaXRlbSA9IDA7IGl0ZW0gPCBkYXRhWzFdLmxlbmd0aDsgaXRlbSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VLZXlzLnB1c2goYnl0ZXNUb0hleChkYXRhWzFdW2l0ZW1dKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGpzb25JdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBzdG9yYWdlS2V5cyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGpzb24ucHVzaChqc29uSXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBY2Nlc3NMaXN0SlNPTiA9IGpzb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIEFjY2Vzc0xpc3RKU09OLFxuICAgICAgICAgICAgYWNjZXNzTGlzdDogYnVmZmVyQWNjZXNzTGlzdCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHZlcmlmeUFjY2Vzc0xpc3QoYWNjZXNzTGlzdCkge1xuICAgICAgICBmb3IgKGxldCBrZXkgPSAwOyBrZXkgPCBhY2Nlc3NMaXN0Lmxlbmd0aDsga2V5KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc0xpc3RJdGVtID0gYWNjZXNzTGlzdFtrZXldO1xuICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IGFjY2Vzc0xpc3RJdGVtWzBdO1xuICAgICAgICAgICAgY29uc3Qgc3RvcmFnZVNsb3RzID0gYWNjZXNzTGlzdEl0ZW1bMV07XG4gICAgICAgICAgICBpZiAoYWNjZXNzTGlzdEl0ZW1bMl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQWNjZXNzIGxpc3QgaXRlbSBjYW5ub3QgaGF2ZSAzIGVsZW1lbnRzLiBJdCBjYW4gb25seSBoYXZlIGFuIGFkZHJlc3MsIGFuZCBhbiBhcnJheSBvZiBzdG9yYWdlIHNsb3RzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFkZHJlc3MubGVuZ3RoICE9PSAyMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBFSVAtMjkzMCB0cmFuc2FjdGlvbjogYWRkcmVzcyBsZW5ndGggc2hvdWxkIGJlIDIwIGJ5dGVzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBzdG9yYWdlU2xvdCA9IDA7IHN0b3JhZ2VTbG90IDwgc3RvcmFnZVNsb3RzLmxlbmd0aDsgc3RvcmFnZVNsb3QrKykge1xuICAgICAgICAgICAgICAgIGlmIChzdG9yYWdlU2xvdHNbc3RvcmFnZVNsb3RdLmxlbmd0aCAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEVJUC0yOTMwIHRyYW5zYWN0aW9uOiBzdG9yYWdlIHNsb3QgbGVuZ3RoIHNob3VsZCBiZSAzMiBieXRlcycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZ2V0QWNjZXNzTGlzdEpTT04oYWNjZXNzTGlzdCkge1xuICAgICAgICBjb25zdCBhY2Nlc3NMaXN0SlNPTiA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYWNjZXNzTGlzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBhY2Nlc3NMaXN0W2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IEpTT05JdGVtID0ge1xuICAgICAgICAgICAgICAgIGFkZHJlc3M6IGJ5dGVzVG9IZXgoc2V0TGVuZ3RoTGVmdChpdGVtWzBdLCAyMCkpLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2VLZXlzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBzdG9yYWdlU2xvdHMgPSBpdGVtWzFdO1xuICAgICAgICAgICAgZm9yIChsZXQgc2xvdCA9IDA7IHNsb3QgPCBzdG9yYWdlU2xvdHMubGVuZ3RoOyBzbG90KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yYWdlU2xvdCA9IHN0b3JhZ2VTbG90c1tzbG90XTtcbiAgICAgICAgICAgICAgICBKU09OSXRlbS5zdG9yYWdlS2V5cy5wdXNoKGJ5dGVzVG9IZXgoc2V0TGVuZ3RoTGVmdChzdG9yYWdlU2xvdCwgMzIpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2Nlc3NMaXN0SlNPTi5wdXNoKEpTT05JdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjZXNzTGlzdEpTT047XG4gICAgfVxuICAgIHN0YXRpYyBnZXREYXRhRmVlRUlQMjkzMChhY2Nlc3NMaXN0LCBjb21tb24pIHtcbiAgICAgICAgY29uc3QgYWNjZXNzTGlzdFN0b3JhZ2VLZXlDb3N0ID0gY29tbW9uLnBhcmFtKCdnYXNQcmljZXMnLCAnYWNjZXNzTGlzdFN0b3JhZ2VLZXlDb3N0Jyk7XG4gICAgICAgIGNvbnN0IGFjY2Vzc0xpc3RBZGRyZXNzQ29zdCA9IGNvbW1vbi5wYXJhbSgnZ2FzUHJpY2VzJywgJ2FjY2Vzc0xpc3RBZGRyZXNzQ29zdCcpO1xuICAgICAgICBsZXQgc2xvdHMgPSAwO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYWNjZXNzTGlzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBhY2Nlc3NMaXN0W2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VTbG90cyA9IGl0ZW1bMV07XG4gICAgICAgICAgICBzbG90cyArPSBzdG9yYWdlU2xvdHMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFkZHJlc3NlcyA9IGFjY2Vzc0xpc3QubGVuZ3RoO1xuICAgICAgICByZXR1cm4gYWRkcmVzc2VzICogTnVtYmVyKGFjY2Vzc0xpc3RBZGRyZXNzQ29zdCkgKyBzbG90cyAqIE51bWJlcihhY2Nlc3NMaXN0U3RvcmFnZUtleUNvc3QpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBdXRob3JpemF0aW9uTGlzdHMge1xuICAgIHN0YXRpYyBnZXRBdXRob3JpemF0aW9uTGlzdERhdGEoYXV0aG9yaXphdGlvbkxpc3QpIHtcbiAgICAgICAgbGV0IEF1dGhvcml6YXRpb25MaXN0SlNPTjtcbiAgICAgICAgbGV0IGJ1ZmZlckF1dGhvcml6YXRpb25MaXN0O1xuICAgICAgICBpZiAoaXNBdXRob3JpemF0aW9uTGlzdChhdXRob3JpemF0aW9uTGlzdCkpIHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb25MaXN0SlNPTiA9IGF1dGhvcml6YXRpb25MaXN0O1xuICAgICAgICAgICAgY29uc3QgbmV3QXV0aG9yaXphdGlvbkxpc3QgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGpzb25JdGVtcyA9IFsnY2hhaW5JZCcsICdhZGRyZXNzJywgJ25vbmNlJywgJ3lQYXJpdHknLCAncicsICdzJ107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF1dGhvcml6YXRpb25MaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGF1dGhvcml6YXRpb25MaXN0W2ldO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGpzb25JdGVtcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIFRPRE8gd2h5IGRvZXMgVHNTY3JpcHQgZmFpbCBoZXJlP1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRUlQLTc3MDIgYXV0aG9yaXphdGlvbiBsaXN0IGludmFsaWQ6ICR7a2V5fSBpcyBub3QgZGVmaW5lZGApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYWluSWQgPSBoZXhUb0J5dGVzKGl0ZW0uY2hhaW5JZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRkcmVzc0J5dGVzID0gaGV4VG9CeXRlcyhpdGVtLmFkZHJlc3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vbmNlTGlzdCA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaXRlbS5ub25jZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBub25jZUxpc3QucHVzaChoZXhUb0J5dGVzKGl0ZW0ubm9uY2Vbal0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeVBhcml0eSA9IGhleFRvQnl0ZXMoaXRlbS55UGFyaXR5KTtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gaGV4VG9CeXRlcyhpdGVtLnIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBoZXhUb0J5dGVzKGl0ZW0ucyk7XG4gICAgICAgICAgICAgICAgbmV3QXV0aG9yaXphdGlvbkxpc3QucHVzaChbY2hhaW5JZCwgYWRkcmVzc0J5dGVzLCBub25jZUxpc3QsIHlQYXJpdHksIHIsIHNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlckF1dGhvcml6YXRpb25MaXN0ID0gbmV3QXV0aG9yaXphdGlvbkxpc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBidWZmZXJBdXRob3JpemF0aW9uTGlzdCA9IGF1dGhvcml6YXRpb25MaXN0ID8/IFtdO1xuICAgICAgICAgICAgLy8gYnVpbGQgdGhlIEpTT05cbiAgICAgICAgICAgIGNvbnN0IGpzb24gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyQXV0aG9yaXphdGlvbkxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYnVmZmVyQXV0aG9yaXphdGlvbkxpc3RbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhaW5JZCA9IGJ5dGVzVG9IZXgoZGF0YVswXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IGJ5dGVzVG9IZXgoZGF0YVsxXSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9uY2VzID0gZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjb25zdCBub25jZUxpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5vbmNlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBub25jZUxpc3QucHVzaChieXRlc1RvSGV4KG5vbmNlc1tqXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB5UGFyaXR5ID0gYnl0ZXNUb0hleChkYXRhWzNdKTtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gYnl0ZXNUb0hleChkYXRhWzRdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gYnl0ZXNUb0hleChkYXRhWzVdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBqc29uSXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgbm9uY2U6IG5vbmNlTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgeVBhcml0eSxcbiAgICAgICAgICAgICAgICAgICAgcixcbiAgICAgICAgICAgICAgICAgICAgcyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGpzb24ucHVzaChqc29uSXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uTGlzdEpTT04gPSBqc29uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uTGlzdEpTT04sXG4gICAgICAgICAgICBhdXRob3JpemF0aW9uTGlzdDogYnVmZmVyQXV0aG9yaXphdGlvbkxpc3QsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyB2ZXJpZnlBdXRob3JpemF0aW9uTGlzdChhdXRob3JpemF0aW9uTGlzdCkge1xuICAgICAgICBmb3IgKGxldCBrZXkgPSAwOyBrZXkgPCBhdXRob3JpemF0aW9uTGlzdC5sZW5ndGg7IGtleSsrKSB7XG4gICAgICAgICAgICBjb25zdCBhdXRob3JpemF0aW9uTGlzdEl0ZW0gPSBhdXRob3JpemF0aW9uTGlzdFtrZXldO1xuICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IGF1dGhvcml6YXRpb25MaXN0SXRlbVsxXTtcbiAgICAgICAgICAgIGNvbnN0IG5vbmNlTGlzdCA9IGF1dGhvcml6YXRpb25MaXN0SXRlbVsyXTtcbiAgICAgICAgICAgIGNvbnN0IHlQYXJpdHkgPSBhdXRob3JpemF0aW9uTGlzdEl0ZW1bM107XG4gICAgICAgICAgICBjb25zdCByID0gYXV0aG9yaXphdGlvbkxpc3RJdGVtWzRdO1xuICAgICAgICAgICAgY29uc3QgcyA9IGF1dGhvcml6YXRpb25MaXN0SXRlbVs1XTtcbiAgICAgICAgICAgIHZhbGlkYXRlTm9MZWFkaW5nWmVyb2VzKHsgeVBhcml0eSwgciwgcyB9KTtcbiAgICAgICAgICAgIGlmIChhZGRyZXNzLmxlbmd0aCAhPT0gMjApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgRUlQLTc3MDIgdHJhbnNhY3Rpb246IGFkZHJlc3MgbGVuZ3RoIHNob3VsZCBiZSAyMCBieXRlcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vbmNlTGlzdC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEVJUC03NzAyIHRyYW5zYWN0aW9uOiBub25jZSBsaXN0IHNob3VsZCBjb25zaXN0IG9mIGF0IG1vc3QgMSBpdGVtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub25jZUxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVOb0xlYWRpbmdaZXJvZXMoeyBub25jZTogbm9uY2VMaXN0WzBdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBnZXREYXRhRmVlRUlQNzcwMihhdXRob3JpdHlMaXN0LCBjb21tb24pIHtcbiAgICAgICAgY29uc3QgcGVyQXV0aEJhc2VDb3N0ID0gY29tbW9uLnBhcmFtKCdnYXNQcmljZXMnLCAncGVyQXV0aEJhc2VDb3N0Jyk7XG4gICAgICAgIHJldHVybiBhdXRob3JpdHlMaXN0Lmxlbmd0aCAqIE51bWJlcihwZXJBdXRoQmFzZUNvc3QpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB0eFR5cGVCeXRlcyh0eFR5cGUpIHtcbiAgICByZXR1cm4gaGV4VG9CeXRlcyhgMHgke3R4VHlwZS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKX1gKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/@ethereumjs+tx@5.4.0/node_modules/@ethereumjs/tx/dist/esm/util.js\n");

/***/ })

};
;